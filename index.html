<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="wujiahaocoder">
    <meta name="license" content="CC BY-NC-ND 4.0">
    <!-- ÊàñËÄÖ‰ΩøÁî®Êõ¥ËØ¶ÁªÜÁöÑÊèèËø∞ -->
    <meta name="copyright" content="Copyright (c) 2025-2026 wujiahaocoder">
    <title>AFOÔºöÁªìÊùüÔºüÂºÄÂßãÔºü</title>
    <style>
        /* ==================== ÂÖ®Â±ÄÊ†∑Âºè ==================== */
        :root {
            --primary: #3498db;
            --secondary: #2ecc71;
            --danger: #e74c3c;
            --warning: #f39c12;
            --purple: #9b59b6;
            --pink: #e91e63;
            --cyan: #00bcd4;
            --dark: #2c3e50;
            --light: #ecf0f1;
            --bg: #1a1a2e;
            --card-bg: rgba(255, 255, 255, 0.08);
            --border: rgba(255, 255, 255, 0.15);
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            --glass: blur(15px);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', 'PingFang SC', 'HarmonyOS Sans', sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--bg), #0f0c29, #302b63, #24243e);
            color: var(--light);
            min-height: 100vh;
            padding: 15px;
            overflow-x: hidden;
            position: relative;
        }

            body::before {
                content: '';
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: radial-gradient(circle at 10% 20%, rgba(52, 152, 219, 0.1) 0%, transparent 20%), radial-gradient(circle at 90% 80%, rgba(46, 204, 113, 0.1) 0%, transparent 20%);
                pointer-events: none;
                z-index: -1;
            }

        /* ==================== Â∏ÉÂ±ÄÁ≥ªÁªü ==================== */
        .container {
            max-width: 1600px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 300px 1fr 320px;
            gap: 15px;
            grid-template-areas:
                "header header header"
                "stats main events"
                "schedule actions achievements"
                "footer footer footer";
        }

        /* ==================== Â§¥ÈÉ® ==================== */
        header {
            grid-area: header;
            background: var(--card-bg);
            backdrop-filter: var(--glass);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

            header::before {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
                transition: left 0.5s;
            }

            header:hover::before {
                left: 100%;
            }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 8px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--purple));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 15px rgba(0, 0, 0, 0.3);
            letter-spacing: 1px;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.85;
            margin-bottom: 10px;
            font-style: italic;
        }

        .license-info {
            font-size: 0.75rem;
            opacity: 0.6;
            margin-top: 8px;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

            .license-info a {
                color: var(--light);
                text-decoration: none;
                border-bottom: 1px dotted var(--border);
            }

                .license-info a:hover {
                    opacity: 1;
                    border-bottom-color: var(--primary);
                }

        /* ==================== ÁªüËÆ°Èù¢Êùø ==================== */
        .stats {
            grid-area: stats;
            background: var(--card-bg);
            backdrop-filter: var(--glass);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-height: 650px;
            overflow-y: auto;
        }

        .stat-section-title {
            font-size: 0.9rem;
            font-weight: bold;
            color: var(--primary);
            margin-top: 10px;
            margin-bottom: 5px;
            padding-bottom: 3px;
            border-bottom: 1px solid var(--border);
        }

        .stat-card {
            background: rgba(0, 0, 0, 0.2);
            padding: 10px;
            border-radius: 8px;
            border-left: 4px solid var(--primary);
            transition: all 0.3s ease;
            position: relative;
        }

            .stat-card:hover {
                transform: translateX(5px);
                background: rgba(0, 0, 0, 0.3);
            }

            .stat-card h3 {
                font-size: 0.9rem;
                margin-bottom: 6px;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

        .stat-value {
            font-weight: bold;
            color: var(--secondary);
            font-size: 0.95rem;
        }

        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 4px;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary);
            border-radius: 4px;
            transition: width 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
            overflow: hidden;
        }

            .progress-fill::after {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
                animation: shimmer 2s infinite;
            }

        @keyframes shimmer {
            0% {
                left: -100%;
            }

            100% {
                left: 100%;
            }
        }

        .progress-fill.energy {
            background: var(--secondary);
        }

        .progress-fill.stress {
            background: var(--danger);
        }

        .progress-fill.health {
            background: var(--warning);
        }

        .progress-fill.relationship {
            background: var(--purple);
        }

        .progress-fill.economy {
            background: var(--cyan);
        }

        .progress-fill.mental {
            background: var(--pink);
        }

        .relationship-bar {
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin-top: 4px;
        }

        .relationship-fill {
            height: 100%;
            background: var(--purple);
            border-radius: 3px;
            transition: width 0.5s ease;
        }

        /* ==================== ‰∏ªÂå∫Âüü ==================== */
        .main {
            grid-area: main;
            background: var(--card-bg);
            backdrop-filter: var(--glass);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-height: 650px;
        }

        .time-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border);
            flex-wrap: wrap;
            gap: 8px;
        }

        .time-display {
            font-size: 1.1rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .time-badge {
            background: rgba(52, 152, 219, 0.3);
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 0.85rem;
        }

        .season-indicator {
            font-size: 1.2rem;
            padding: 4px 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
        }

        .event-log {
            flex-grow: 1;
            overflow-y: auto;
            padding-right: 8px;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .event-item {
            background: rgba(0, 0, 0, 0.2);
            padding: 8px 10px;
            border-radius: 6px;
            border-left: 3px solid var(--primary);
            animation: fadeIn 0.4s ease;
            font-size: 0.9rem;
            line-height: 1.35;
            position: relative;
        }

            .event-item::before {
                content: '‚Ä¢';
                position: absolute;
                left: -2px;
                color: var(--primary);
                font-weight: bold;
            }

            .event-item.good {
                border-left-color: var(--secondary);
                background: rgba(46, 204, 113, 0.15);
            }

            .event-item.bad {
                border-left-color: var(--danger);
                background: rgba(231, 76, 60, 0.15);
            }

            .event-item.neutral {
                border-left-color: var(--warning);
                background: rgba(243, 156, 18, 0.15);
            }

            .event-item.story {
                border-left-color: var(--purple);
                background: rgba(155, 89, 182, 0.2);
            }

            .event-item.important {
                border-left-color: var(--pink);
                background: rgba(233, 30, 99, 0.2);
                font-weight: bold;
            }

            .event-item .timestamp {
                font-size: 0.7rem;
                opacity: 0.6;
                margin-right: 6px;
                font-family: monospace;
            }

        /* ==================== ËØæÁ®ãË°® ==================== */
        .schedule {
            grid-area: schedule;
            background: var(--card-bg);
            backdrop-filter: var(--glass);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 15px;
            max-height: 300px;
            overflow-y: auto;
        }

            .schedule h3 {
                font-size: 1rem;
                margin-bottom: 10px;
                color: var(--cyan);
            }

        .schedule-item {
            background: rgba(0, 0, 0, 0.2);
            padding: 8px;
            margin-bottom: 6px;
            border-radius: 6px;
            border-left: 3px solid var(--cyan);
            font-size: 0.85rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

            .schedule-item.completed {
                opacity: 0.5;
                text-decoration: line-through;
                border-left-color: var(--secondary);
            }

            .schedule-item.missed {
                border-left-color: var(--danger);
                background: rgba(231, 76, 60, 0.2);
            }

            .schedule-item .time {
                font-weight: bold;
                color: var(--cyan);
            }

        /* ==================== ‰∫ã‰ª∂Âå∫Âüü ==================== */
        .events {
            grid-area: events;
            background: var(--card-bg);
            backdrop-filter: var(--glass);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-height: 650px;
            overflow-y: auto;
        }

        .event-card {
            background: rgba(0, 0, 0, 0.2);
            padding: 12px;
            border-radius: 8px;
            border-top: 3px solid var(--warning);
            transition: all 0.3s ease;
        }

            .event-card:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            }

            .event-card h3 {
                font-size: 0.95rem;
                margin-bottom: 8px;
                display: flex;
                align-items: center;
                gap: 8px;
            }

            .event-card p {
                font-size: 0.85rem;
                line-height: 1.4;
                opacity: 0.9;
            }

            .event-card.relationship {
                border-top-color: var(--purple);
            }

            .event-card.achievement {
                border-top-color: var(--secondary);
            }

            .event-card.economy {
                border-top-color: var(--cyan);
            }

            .event-card.mental {
                border-top-color: var(--pink);
            }

            .event-card .progress-bar {
                height: 6px;
                margin-top: 8px;
            }

        /* ==================== Êìç‰ΩúÂå∫Âüü ==================== */
        .actions {
            grid-area: actions;
            background: var(--card-bg);
            backdrop-filter: var(--glass);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 15px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 10px;
            max-height: 300px;
            overflow-y: auto;
        }

        .action-btn {
            background: rgba(52, 152, 219, 0.2);
            border: 1px solid var(--primary);
            color: var(--light);
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 600;
            text-align: center;
            font-size: 0.9rem;
            position: relative;
            overflow: hidden;
        }

            .action-btn::before {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
                transition: left 0.4s;
            }

            .action-btn:hover::before {
                left: 100%;
            }

            .action-btn:hover {
                background: rgba(52, 152, 219, 0.4);
                transform: translateY(-2px);
                box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
            }

            .action-btn:active {
                transform: translateY(0);
            }

            .action-btn.primary {
                background: rgba(46, 204, 113, 0.2);
                border-color: var(--secondary);
            }

                .action-btn.primary:hover {
                    background: rgba(46, 204, 113, 0.4);
                }

            .action-btn.danger {
                background: rgba(231, 76, 60, 0.2);
                border-color: var(--danger);
            }

                .action-btn.danger:hover {
                    background: rgba(231, 76, 60, 0.4);
                }

            .action-btn.warning {
                background: rgba(243, 156, 18, 0.2);
                border-color: var(--warning);
            }

            .action-btn.purple {
                background: rgba(155, 89, 182, 0.2);
                border-color: var(--purple);
            }

            .action-btn.cyan {
                background: rgba(0, 188, 212, 0.2);
                border-color: var(--cyan);
            }

            .action-btn:disabled {
                opacity: 0.4;
                cursor: not-allowed;
                transform: none !important;
            }

                .action-btn:disabled::before {
                    display: none;
                }

            .action-btn .hotkey {
                font-size: 0.7rem;
                opacity: 0.6;
                margin-left: 4px;
            }

        /* ==================== ÊàêÂ∞±Âå∫Âüü ==================== */
        .achievements {
            grid-area: achievements;
            background: var(--card-bg);
            backdrop-filter: var(--glass);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-height: 300px;
            overflow-y: auto;
        }

            .achievements h3 {
                font-size: 1rem;
                margin-bottom: 5px;
                color: var(--secondary);
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

        .achievement-list {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }

        .achievement-badge {
            background: rgba(46, 204, 113, 0.2);
            border: 1px solid var(--secondary);
            padding: 5px 8px;
            border-radius: 15px;
            font-size: 0.75rem;
            opacity: 0.4;
            transition: all 0.3s ease;
            cursor: help;
            white-space: nowrap;
        }

            .achievement-badge.unlocked {
                opacity: 1;
                background: rgba(46, 204, 113, 0.4);
                box-shadow: 0 0 10px rgba(46, 204, 113, 0.3);
                animation: popIn 0.3s ease;
            }

            .achievement-badge.hidden {
                background: rgba(255, 255, 255, 0.1);
                border-color: var(--border);
                color: transparent;
                cursor: default;
            }

                .achievement-badge.hidden.unlocked {
                    color: var(--light);
                    background: rgba(155, 89, 182, 0.4);
                    border-color: var(--purple);
                }

        @keyframes popIn {
            0% {
                transform: scale(0.8);
                opacity: 0;
            }

            50% {
                transform: scale(1.1);
            }

            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* ==================== È°µËÑö ==================== */
        .footer {
            grid-area: footer;
            background: var(--card-bg);
            backdrop-filter: var(--glass);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 10px;
            text-align: center;
            font-size: 0.8rem;
            opacity: 0.7;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

            .footer .save-status {
                color: var(--secondary);
                font-weight: bold;
            }

                .footer .save-status.error {
                    color: var(--danger);
                }

        /* ==================== Ê®°ÊÄÅÊ°Ü ==================== */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 100;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: #1a1a2e;
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 25px;
            max-width: 700px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(-50px) scale(0.95);
                opacity: 0;
            }

            to {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border);
        }

            .modal-header h2 {
                font-size: 1.4rem;
                color: var(--primary);
                display: flex;
                align-items: center;
                gap: 8px;
            }

        .close-btn {
            background: none;
            border: none;
            color: var(--light);
            font-size: 1.8rem;
            cursor: pointer;
            opacity: 0.7;
            transition: all 0.2s ease;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

            .close-btn:hover {
                opacity: 1;
                background: rgba(255, 255, 255, 0.1);
                transform: rotate(90deg);
            }

        .modal-body {
            line-height: 1.6;
        }

        .modal-footer {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        /* Â≠¶‰π†Ê®°ÊÄÅÊ°Ü */
        .study-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .study-btn {
            background: rgba(52, 152, 219, 0.2);
            border: 1px solid var(--primary);
            color: var(--light);
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 600;
            position: relative;
            overflow: hidden;
        }

            .study-btn::before {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
                transition: left 0.4s;
            }

            .study-btn:hover::before {
                left: 100%;
            }

            .study-btn:hover {
                background: rgba(52, 152, 219, 0.4);
                transform: translateY(-2px);
            }

            .study-btn small {
                display: block;
                font-size: 0.75rem;
                opacity: 0.7;
                margin-top: 4px;
                font-weight: normal;
            }

            .study-btn.special {
                background: rgba(155, 89, 182, 0.2);
                border-color: var(--purple);
            }

                .study-btn.special:hover {
                    background: rgba(155, 89, 182, 0.4);
                }

            .study-btn:disabled {
                opacity: 0.4;
                cursor: not-allowed;
            }

        /* ÊïÖ‰∫ãÊ®°ÊÄÅÊ°Ü */
        .story-modal {
            background: linear-gradient(135deg, #1a1a2e, #2d1b3d);
        }

        .story-content {
            font-size: 1.05rem;
            line-height: 1.8;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            margin: 15px 0;
            border-left: 3px solid var(--purple);
            font-family: 'Georgia', serif;
        }

        .story-choices {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 15px;
        }

        .story-choice-btn {
            background: rgba(155, 89, 182, 0.2);
            border: 1px solid var(--purple);
            color: var(--light);
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
            font-size: 0.95rem;
            position: relative;
        }

            .story-choice-btn:hover {
                background: rgba(155, 89, 182, 0.4);
                transform: translateX(5px);
            }

        .choice-preview {
            font-size: 0.8rem;
            opacity: 0.8;
            margin-top: 5px;
            font-style: italic;
            color: var(--warning);
        }

        /* ÁªìÊùüÁîªÈù¢ */
        .end-screen {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.5), rgba(155, 89, 182, 0.2));
            border-radius: 12px;
            border: 1px solid var(--border);
        }

            .end-screen h2 {
                font-size: 2.5rem;
                margin-bottom: 20px;
                background: linear-gradient(90deg, var(--secondary), var(--primary));
                -webkit-background-clip: text;
                background-clip: text;
                color: transparent;
            }

            .end-screen .final-score {
                font-size: 3.5rem;
                font-weight: bold;
                margin: 15px 0;
                color: var(--secondary);
                text-shadow: 0 0 20px rgba(46, 204, 113, 0.5);
            }

            .end-screen .ending-text {
                font-size: 1.1rem;
                line-height: 1.8;
                margin: 20px 0;
                opacity: 0.9;
                font-family: 'Georgia', serif;
            }

            .end-screen .stats-summary {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                gap: 10px;
                margin: 20px 0;
                font-size: 0.9rem;
            }

        .stat-box {
            background: rgba(0, 0, 0, 0.3);
            padding: 10px;
            border-radius: 6px;
            border: 1px solid var(--border);
        }

            .stat-box .label {
                font-size: 0.75rem;
                opacity: 0.7;
            }

            .stat-box .value {
                font-size: 1.2rem;
                font-weight: bold;
                color: var(--secondary);
            }

        .restart-btn {
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            margin-top: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

            .restart-btn:hover {
                transform: translateY(-3px);
                box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            }

        /* ==================== ÈÄöÁü•Á≥ªÁªü ==================== */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 15px 20px;
            max-width: 380px;
            z-index: 200;
            transform: translateX(120%);
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
            font-size: 0.95rem;
            line-height: 1.4;
        }

            .notification.show {
                transform: translateX(0);
            }

            .notification.good {
                border-left: 4px solid var(--secondary);
            }

            .notification.bad {
                border-left: 4px solid var(--danger);
            }

            .notification.neutral {
                border-left: 4px solid var(--warning);
            }

            .notification.story {
                border-left: 4px solid var(--purple);
            }

            .notification.important {
                border-left: 4px solid var(--pink);
            }

        /* ==================== Â∑•ÂÖ∑ÊèêÁ§∫ ==================== */
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
            border-bottom: 1px dotted var(--light);
        }

            .tooltip .tooltiptext {
                visibility: hidden;
                width: 240px;
                background-color: rgba(0, 0, 0, 0.95);
                color: #fff;
                text-align: center;
                border-radius: 6px;
                padding: 10px;
                position: absolute;
                z-index: 1;
                bottom: 125%;
                left: 50%;
                margin-left: -120px;
                opacity: 0;
                transition: opacity 0.3s;
                font-size: 0.85rem;
                line-height: 1.4;
                border: 1px solid var(--border);
            }

            .tooltip:hover .tooltiptext {
                visibility: visible;
                opacity: 1;
            }

        /* ==================== Âä®Áîª ==================== */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* ==================== ÊªöÂä®Êù° ==================== */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
        }

            ::-webkit-scrollbar-thumb:hover {
                background: rgba(255, 255, 255, 0.3);
            }

        /* ==================== ÂìçÂ∫îÂºèËÆæËÆ° ==================== */
        @media (max-width: 1200px) {
            .container {
                grid-template-columns: 1fr 1fr;
                grid-template-areas:
                    "header header"
                    "stats main"
                    "events events"
                    "schedule actions"
                    "achievements achievements"
                    "footer footer";
            }
        }

        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
                grid-template-areas:
                    "header"
                    "stats"
                    "main"
                    "events"
                    "schedule"
                    "actions"
                    "achievements"
                    "footer";
            }

            h1 {
                font-size: 1.8rem;
            }

            .study-options {
                grid-template-columns: 1fr;
            }

            .actions {
                grid-template-columns: 1fr;
            }

            .notification {
                max-width: 90%;
                right: 5%;
            }
        }

        /* ==================== ÁâπÊÆäÁä∂ÊÄÅÊåáÁ§∫Âô® ==================== */
        .status-indicator {
            display: inline-block;
            padding: 3px 6px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: bold;
            margin-left: 6px;
            border: 1px solid currentColor;
        }

        .status-good {
            background: rgba(46, 204, 113, 0.3);
            color: var(--secondary);
        }

        .status-bad {
            background: rgba(231, 76, 60, 0.3);
            color: var(--danger);
        }

        .status-normal {
            background: rgba(52, 152, 219, 0.3);
            color: var(--primary);
        }

        /* ==================== Âø´Êç∑ÈîÆÊèêÁ§∫ ==================== */
        .hotkey-hint {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px;
            border-radius: 8px;
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            z-index: 50;
        }

            .hotkey-hint.show {
                opacity: 1;
            }

            .hotkey-hint kbd {
                background: rgba(255, 255, 255, 0.2);
                padding: 2px 6px;
                border-radius: 4px;
                font-family: monospace;
                margin: 0 2px;
            }

        /* ==================== Êìç‰ΩúËÆ°Êï∞Âô® ==================== */
        .action-counter {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: bold;
            z-index: 50;
            border: 2px solid var(--secondary);
            color: var(--secondary);
        }

            .action-counter.warning {
                border-color: var(--warning);
                color: var(--warning);
            }

            .action-counter.danger {
                border-color: var(--danger);
                color: var(--danger);
                animation: pulse 1s infinite;
            }

        /* ==================== ÂêØÂä®ÂºπÁ™óÔºàÊçêÂä©Ôºâ ==================== */
        .donation-modal {
            background: linear-gradient(135deg, #1a1a2e, #2d1b3d);
        }

        .donation-content {
            text-align: center;
            padding: 20px;
        }

            .donation-content h3 {
                color: var(--primary);
                margin-bottom: 15px;
                font-size: 1.3rem;
            }

            .donation-content p {
                margin-bottom: 15px;
                line-height: 1.6;
                opacity: 0.9;
            }

        .donation-qr {
            width: 200px;
            height: 200px;
            margin: 15px auto;
            border: 2px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
            background: white;
        }

            .donation-qr img {
                width: 100%;
                height: 100%;
                object-fit: contain;
            }

        .donation-link {
            display: inline-block;
            margin-top: 10px;
            color: var(--cyan);
            text-decoration: none;
            font-size: 0.9rem;
            border-bottom: 1px dotted var(--cyan);
        }

            .donation-link:hover {
                opacity: 0.8;
            }

        .donation-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        .donation-btn {
            padding: 10px 20px;
            border-radius: 8px;
            border: 1px solid var(--border);
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 600;
        }

            .donation-btn:hover {
                background: rgba(255, 255, 255, 0.2);
                transform: translateY(-2px);
            }

            .donation-btn.primary {
                background: var(--primary);
                border-color: var(--primary);
            }

                .donation-btn.primary:hover {
                    background: #2980b9;
                }

        /* ==================== Èò∂ÊÆµÁõÆÊ†áÂºπÁ™ó ==================== */
        .goal-modal {
            background: linear-gradient(135deg, #1a1a2e, #2d1b3d);
        }

        .goal-content {
            padding: 15px;
        }

        .goal-item {
            background: rgba(0, 0, 0, 0.2);
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 4px solid var(--warning);
        }

            .goal-item.achieved {
                border-left-color: var(--secondary);
                background: rgba(46, 204, 113, 0.15);
            }

            .goal-item.failed {
                border-left-color: var(--danger);
                background: rgba(231, 76, 60, 0.15);
            }

            .goal-item h4 {
                margin-bottom: 5px;
                font-size: 1rem;
            }

            .goal-item p {
                font-size: 0.85rem;
                opacity: 0.8;
                margin-bottom: 5px;
            }

        .goal-progress {
            font-size: 0.8rem;
            font-weight: bold;
            margin-top: 5px;
        }

            .goal-progress.achieved {
                color: var(--secondary);
            }

            .goal-progress.failed {
                color: var(--danger);
            }

        /* ==================== ÊàêÂ∞±ËØ¶ÊÉÖÂºπÁ™ó ==================== */
        .achievement-detail-modal {
            background: linear-gradient(135deg, #1a1a2e, #2d1b3d);
        }

        .achievement-detail-content {
            padding: 15px;
            max-height: 400px;
            overflow-y: auto;
        }

        .achievement-detail-item {
            background: rgba(0, 0, 0, 0.2);
            padding: 10px;
            margin-bottom: 8px;
            border-radius: 6px;
            border-left: 3px solid var(--secondary);
            font-size: 0.9rem;
        }

            .achievement-detail-item.hidden {
                border-left-color: var(--purple);
                opacity: 0.6;
            }

            .achievement-detail-item .name {
                font-weight: bold;
                color: var(--secondary);
            }

            .achievement-detail-item.hidden .name {
                color: var(--purple);
            }

            .achievement-detail-item .desc {
                font-size: 0.8rem;
                opacity: 0.8;
            }
    </style>
</head>

<body>
    <!-- Êìç‰ΩúËÆ°Êï∞Âô® -->
    <div class="action-counter" id="actionCounter">
        Êú¨Âë®Êìç‰Ωú: 0/3
    </div>

    <!-- Âø´Êç∑ÈîÆÊèêÁ§∫ -->
    <div class="hotkey-hint" id="hotkeyHint">
        Âø´Êç∑ÈîÆ: 1Â≠¶‰π† 2‰ºëÊÅØ 3ÈîªÁÇº 4Á§æ‰∫§ 5ÂõûÂøÜ 6Ê®°ËÄÉ 7‰Ωú‰∏ö 8Ê¥ªÂä® 9ÁªèÊµé 0ÁªìÊùü
    </div>

    <div class="container">
        <!-- Â§¥ÈÉ® -->
        <header>
            <h1>AFOÔºöÁªìÊùüÔºüÂºÄÂßãÔºü</h1>
            <div class="subtitle">"‰ªé‰ª£Á†ÅÂà∞ËÄÉÂç∑,ËøôÊòØ‰∏ÄÂú∫ÂÖ≥‰∫éÊàêÈïø‰∏éÊïëËµéÁöÑÂè≤ËØóÊóÖÁ®ã"</div>
            <div class="license-info">
                <span>
                    <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/legalcode.zh-Hans" target="_blank"
                       style="color: rgb(196, 196, 196)">
                        CC
                        BY-NC-ND 4.0
                    </a>
                </span>
                <span>‰ΩúËÄÖ: wujiahaocoder</span>
                <a href="https://github.com/wujiahaocoder/AFO-Simulator" target="_blank">GitHub</a>
                <span>v1.2.4</span>
            </div>
            <div id="game-status" style="margin-top: 10px; font-size: 0.9rem; opacity: 0.8;">ÂáÜÂ§áÂºÄÂßã‰Ω†ÁöÑÊñáÂåñËØæ‰πãÊóÖ...</div>
        </header>

        <!-- ÁªüËÆ°Èù¢Êùø -->
        <div class="stats">
            <div class="stat-section-title">üìä Ê†∏ÂøÉÁä∂ÊÄÅ</div>
            <div class="stat-card">
                <h3>Á≤æÂäõÂÄº <span class="stat-value" id="energy-value">80/100</span></h3>
                <div class="progress-bar">
                    <div class="progress-fill energy" id="energy-bar" style="width: 80%"></div>
                </div>
            </div>
            <div class="stat-card">
                <h3>ÂéãÂäõÂÄº <span class="stat-value" id="stress-value">20/100</span></h3>
                <div class="progress-bar">
                    <div class="progress-fill stress" id="stress-bar" style="width: 20%"></div>
                </div>
            </div>
            <div class="stat-card">
                <h3>ÂÅ•Â∫∑ÂÄº <span class="stat-value" id="health-value">85/100</span></h3>
                <div class="progress-bar">
                    <div class="progress-fill health" id="health-bar" style="width: 85%"></div>
                </div>
            </div>
            <div class="stat-card">
                <h3>ÂøÉÁêÜÂÄº <span class="stat-value" id="mental-value">75/100</span></h3>
                <div class="progress-bar">
                    <div class="progress-fill mental" id="mental-bar" style="width: 75%"></div>
                </div>
            </div>
            <div class="stat-card">
                <h3>ÁªèÊµéÂÄº <span class="stat-value" id="money-value">500ÂÖÉ</span></h3>
                <div class="progress-bar">
                    <div class="progress-fill economy" id="money-bar" style="width: 50%"></div>
                </div>
            </div>

            <div class="stat-section-title">üìö Â≠¶ÁßëËÉΩÂäõ</div>
            <div class="stat-card">
                <h3>ËØ≠Êñá <span class="stat-value" id="chinese-value">10/100</span></h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="chinese-bar" style="width: 10%"></div>
                </div>
            </div>
            <div class="stat-card">
                <h3>Êï∞Â≠¶ <span class="stat-value" id="math-value">15/100</span></h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="math-bar" style="width: 15%"></div>
                </div>
            </div>
            <div class="stat-card">
                <h3>Ëã±ËØ≠ <span class="stat-value" id="english-value">8/100</span></h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="english-bar" style="width: 8%"></div>
                </div>
            </div>
            <div class="stat-card">
                <h3>Áâ©ÁêÜ <span class="stat-value" id="physics-value">20/100</span></h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="physics-bar" style="width: 20%"></div>
                </div>
            </div>
            <div class="stat-card">
                <h3>ÂåñÂ≠¶ <span class="stat-value" id="chemistry-value">12/100</span></h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="chemistry-bar" style="width: 12%"></div>
                </div>
            </div>
            <div class="stat-card">
                <h3>ÁîüÁâ© <span class="stat-value" id="biology-value">10/100</span></h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="biology-bar" style="width: 10%"></div>
                </div>
            </div>

            <div class="stat-section-title">üë• ‰∫∫ÈôÖÂÖ≥Á≥ª</div>
            <div class="stat-card">
                <h3>Áè≠‰∏ª‰ªª <span class="stat-value" id="teacher-value">50</span></h3>
                <div class="relationship-bar">
                    <div class="relationship-fill" id="teacher-bar" style="width: 50%"></div>
                </div>
            </div>
            <div class="stat-card">
                <h3>Êï∞Â≠¶ËÄÅÂ∏à <span class="stat-value" id="math-teacher-value">50</span></h3>
                <div class="relationship-bar">
                    <div class="relationship-fill" id="math-teacher-bar" style="width: 50%"></div>
                </div>
            </div>
            <div class="stat-card">
                <h3>ËØ≠ÊñáËÄÅÂ∏à <span class="stat-value" id="chinese-teacher-value">50</span></h3>
                <div class="relationship-bar">
                    <div class="relationship-fill" id="chinese-teacher-bar" style="width: 50%"></div>
                </div>
            </div>
            <div class="stat-card">
                <h3>Ëã±ËØ≠ËÄÅÂ∏à <span class="stat-value" id="english-teacher-value">50</span></h3>
                <div class="relationship-bar">
                    <div class="relationship-fill" id="english-teacher-bar" style="width: 50%"></div>
                </div>
            </div>
            <div class="stat-card">
                <h3>ÂêåÂ≠¶A <span class="stat-value" id="classmate-a-value">50</span></h3>
                <div class="relationship-bar">
                    <div class="relationship-fill" id="classmate-a-bar" style="width: 50%"></div>
                </div>
            </div>
            <div class="stat-card">
                <h3>ÂêåÂ≠¶B <span class="stat-value" id="classmate-b-value">50</span></h3>
                <div class="relationship-bar">
                    <div class="relationship-fill" id="classmate-b-bar" style="width: 50%"></div>
                </div>
            </div>
            <div class="stat-card">
                <h3>Áà∂ÊØç <span class="stat-value" id="parents-value">50</span></h3>
                <div class="relationship-bar">
                    <div class="relationship-fill" id="parents-bar" style="width: 50%"></div>
                </div>
            </div>
            <div class="stat-card">
                <h3>ÊöóÊÅãÂØπË±° <span class="stat-value" id="crush-value">0</span></h3>
                <div class="relationship-bar">
                    <div class="relationship-fill" id="crush-bar" style="width: 0%"></div>
                </div>
            </div>
        </div>

        <!-- ‰∏ªÂå∫Âüü -->
        <div class="main">
            <div class="time-info">
                <div class="time-display">
                    <span class="time-badge">Á¨¨ <span id="week">1</span> Âë®</span>
                    <span class="time-badge" id="day">Âë®‰∏Ä</span>
                    <span class="time-badge" id="period">Êó©Êô®</span>
                </div>
                <div class="season-indicator" id="season">üå∏ Êò•Â≠£</div>
            </div>
            <div style="font-size: 0.9rem; opacity: 0.8; margin-bottom: 5px;">
                Ë∑ùÁ¶ªÈ´òËÄÉ: <span id="days-left">365</span> Â§© |
                Ââ©‰ΩôÂÅáÊúü: <span id="vacation-days">0</span> Â§©
            </div>
            <div class="event-log" id="event-log">
                <!-- Âä®ÊÄÅÁîüÊàê -->
            </div>
        </div>

        <!-- ËØæÁ®ãË°® -->
        <div class="schedule">
            <h3>üìÖ Êú¨Âë®ËØæÁ®ãË°®</h3>
            <div id="schedule-list">
                <!-- Âä®ÊÄÅÁîüÊàê -->
            </div>
            <div style="margin-top: 10px; font-size: 0.8rem; opacity: 0.7;">
                ‰Ωú‰∏ö: <span id="homework-count">0</span> Êú™ÂÆåÊàê |
                Êú¨Âë®Ê¥ªÂä®: <span id="week-activities">0</span>
            </div>
        </div>

        <!-- ‰∫ã‰ª∂Âå∫Âüü -->
        <div class="events">
            <div class="event-card">
                <h3>üéØ ÂΩìÂâçÁä∂ÊÄÅ</h3>
                <p id="current-status">‰∏ÄÂàáÊ≠£Â∏∏,ÂáÜÂ§áÂºÄÂßãÂ≠¶‰π†„ÄÇ</p>
            </div>
            <div class="event-card relationship">
                <h3>üë• ÂÖ≥Á≥ªÂä®ÊÄÅ</h3>
                <p id="relationship-status">‰∏éËÄÅÂ∏àÂÖ≥Á≥ªËâØÂ•Ω,ÂêåÂ≠¶ÂÖ≥Á≥ª‰∏ÄËà¨„ÄÇ</p>
            </div>
            <div class="event-card economy">
                <h3>üí∞ ÁªèÊµéÁä∂ÂÜµ</h3>
                <p id="economy-status">Èõ∂Ëä±Èí±ÂÖÖË∂≥,ÂèØ‰ª•Ë¥≠‰π∞ËµÑÊñô„ÄÇ</p>
            </div>
            <div class="event-card mental">
                <h3>üí≠ ÂøÉÁêÜÁä∂ÊÄÅ</h3>
                <p id="mental-status">ÊÉÖÁª™Á®≥ÂÆö,ÂøÉÁêÜËâØÂ•Ω„ÄÇ</p>
            </div>
            <div class="event-card">
                <h3>üéØ ÂΩìÂâçÈò∂ÊÆµÁõÆÊ†á</h3>
                <p id="current-goal">ÊöÇÊó†ÁõÆÊ†á</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="goal-progress" style="width: 0%; background: var(--warning)"></div>
                </div>
            </div>
            <div class="event-card">
                <h3>üé≤ ÈöèÊú∫‰∫ã‰ª∂</h3>
                <p id="random-event">ÊöÇÊó†‰∫ã‰ª∂</p>
            </div>
        </div>

        <!-- Êìç‰ΩúÂå∫Âüü -->
        <div class="actions">
            <button class="action-btn primary" id="study-btn">üìö Â≠¶‰π† <span class="hotkey">1</span></button>
            <button class="action-btn" id="rest-btn">üí§ ‰ºëÊÅØ <span class="hotkey">2</span></button>
            <button class="action-btn" id="exercise-btn">üèÉ ÈîªÁÇº <span class="hotkey">3</span></button>
            <button class="action-btn" id="social-btn">üë• Á§æ‰∫§ <span class="hotkey">4</span></button>
            <button class="action-btn purple" id="memory-btn">üí≠ ÂõûÂøÜ <span class="hotkey">5</span></button>
            <button class="action-btn warning" id="exam-btn">üìù Ê®°ËÄÉ <span class="hotkey">6</span></button>
            <button class="action-btn cyan" id="homework-btn">‚úèÔ∏è ‰Ωú‰∏ö <span class="hotkey">7</span></button>
            <button class="action-btn" id="activity-btn">üéâ Ê¥ªÂä® <span class="hotkey">8</span></button>
            <button class="action-btn" id="economy-btn">üí∞ ÁªèÊµé <span class="hotkey">9</span></button>
            <button class="action-btn danger" id="end-btn">üåô ÁªìÊùüÊú¨Âë® <span class="hotkey">0</span></button>
        </div>

        <!-- ÊàêÂ∞±Âå∫ÂüüÔºàÂ∑≤ÈöêËóèÔºâ -->
        <div class="achievements" style="display: none;">
            <h3>üèÜ ÊàêÂ∞±ËøõÂ∫¶ <span id="achievement-count">0</span>/60</h3>
            <div class="achievement-list" id="achievement-list">
                <!-- Âä®ÊÄÅÁîüÊàê -->
            </div>
        </div>

        <!-- È°µËÑö -->
        <div class="footer">
            <span>üí° ÊèêÁ§∫ÔºöÊåâ‰ΩèShiftÊòæÁ§∫Âø´Êç∑ÈîÆÊèêÁ§∫</span>
            <span>
                <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/legalcode.zh-Hans" target="_blank"
                   style="color: rgb(196, 196, 196)">
                    CC
                    BY-NC-ND 4.0
                </a> | wujiahaocoder | ‰ªìÂ∫ìÔºöhttps://github.com/wujiahaocoder/AFO-Simulator
            </span>
            <button class="donation-btn" onclick="showAchievementDetail()"
                    style="padding: 5px 10px; font-size: 0.75rem;">
                Êü•ÁúãÊàêÂ∞±
            </button>

        </div>
    </div>

    <!-- ==================== Ê®°ÊÄÅÊ°ÜÁ≥ªÁªü ==================== -->
    <!-- ÂêØÂä®ÂºπÁ™óÔºàÊçêÂä©+‰ªãÁªçÔºâ -->
    <div class="modal" id="welcome-modal" style="display: flex;">
        <div class="modal-content donation-modal">
            <div class="modal-header">
                <h2>üéâ Ê¨¢ËøéÊù•Âà∞ AFOÔºöÁªìÊùüÔºüÂºÄÂßãÔºü</h2>
            </div>
            <div class="modal-body donation-content">
                <h3>Ê∏∏Êàè‰ªãÁªç</h3>
                <p>ËøôÊòØ‰∏Ä‰∏™AFOÂêéËøõË°åÊñáÂåñÂ≠¶‰π†ÁöÑÊ®°ÊãüÊ∏∏Êàè„ÄÇ‰Ω†Â∞ÜÊâÆÊºî‰∏Ä‰ΩçÈÄÄÂΩπOIÈÄâÊâã,Âú®52Âë®ÁöÑÊó∂Èó¥ÂÜÖ,ÈÄöËøáÁ≠ñÁï•ÊÄßÁöÑÈÄâÊã©,Âπ≥Ë°°Â≠¶‰π†„ÄÅ‰ºëÊÅØ„ÄÅÁ§æ‰∫§„ÄÅÁªèÊµéÁ≠âÂ§öÁª¥Â∫¶Áä∂ÊÄÅ,ÊúÄÁªàÂú®È´òËÄÉ‰∏≠ÂèñÂæóÁêÜÊÉ≥ÊàêÁª©„ÄÇ</p>

                <p><strong>Ê†∏ÂøÉÊú∫Âà∂Ôºö</strong>ÊØèÂë®ÈôêÂà∂3Ê¨°Êìç‰Ωú,ÂøÖÈ°ªÂú®ÊúâÈôêËµÑÊ∫ê‰∏ãÂÅöÂá∫ÊúÄ‰ºòÂÜ≥Á≠ñ„ÄÇ‰Ω†ÁöÑÂøÉÁêÜÁä∂ÊÄÅ„ÄÅ‰∫∫ÈôÖÂÖ≥Á≥ª„ÄÅÁªèÊµéÁä∂ÂÜµÈÉΩ‰ºöÁõ¥Êé•ÂΩ±ÂìçÂ≠¶‰π†ÊïàÁéáÔºÅ</p>

                <h3 style="margin-top: 20px;">‚ù§Ô∏è ÊîØÊåÅÂºÄÂèë</h3>
                <p>
                    Êú¨Ê∏∏ÊàèÂÆåÂÖ®ÂÖçË¥π,ÈááÁî®<a href="https://creativecommons.org/licenses/by-nc-nd/4.0/legalcode.zh-Hans"
                                 target="_blank" style="color: rgb(196, 196, 196)">
                        CC BY-NC-ND
                        4.0
                    </a>ÂçèËÆÆ„ÄÇÂ¶ÇÊûú‰Ω†ÂñúÊ¨¢Ëøô‰∏™Ê∏∏Êàè,Ê¨¢ËøéËØ∑ÊàëÂñùÊùØÂíñÂï°,ÊîØÊåÅÂêéÁª≠ÂºÄÂèëÔºÅ
                </p>

                <div class="donation-qr">
                    <img src="https://github.com/wujiahaocoder/English_word_learner/blob/master/image.png?raw=true"
                         alt="ÊçêÂä©‰∫åÁª¥Á†Å"
                         onerror="this.style.display='none';this.parentElement.innerHTML='<div style=\'padding:20px;color:#666;font-size:0.8rem;\'>‰∫åÁª¥Á†ÅÂä†ËΩΩÂ§±Ë¥•<br>ËØ∑ËÆøÈóÆGitHubÊîØÊåÅ</div>'">
                </div>

                <a href="https://github.com/wujiahaocoder/English_word_learner/blob/master/image.png" target="_blank"
                   class="donation-link">ÊàñÁÇπÂáªËøôÈáåÊü•ÁúãÈ´òÊ∏Ö‰∫åÁª¥Á†Å</a>

                <div style="margin-top: 20px; font-size: 0.85rem; opacity: 0.7; text-align: left; background: rgba(0,0,0,0.2); padding: 10px; border-radius: 6px;">
                    <strong>Ê∏∏ÊàèÁâπËâ≤Ôºö</strong><br>
                    ‚Ä¢ 52Âë®ÂÆåÊï¥Â≠¶Âπ¥,ÊØèÂë®3Ê¨°Êìç‰ΩúÈôêÂà∂<br>
                    ‚Ä¢ 50+ÈöèÊú∫‰∫ã‰ª∂,15+ÊïÖ‰∫ãÂâßÊÉÖ<br>
                    ‚Ä¢ 60+ÊàêÂ∞±,10+ÁªìÂ±Ä<br>
                    ‚Ä¢ Â§öÁª¥Â∫¶Â±ûÊÄßËÅîÂä®Á≥ªÁªü<br>
                    ‚Ä¢ Á≠ñÁï•ÊÄßËµÑÊ∫êÁÆ°ÁêÜ
                </div>
            </div>
            <div class="donation-buttons">
                <button class="donation-btn" onclick="closeModal('welcome-modal')">ÊöÇ‰∏çÊîØÊåÅ,Áõ¥Êé•ÂºÄÂßã</button>
                <button class="donation-btn primary"
                        onclick="window.open('https://github.com/wujiahaocoder/English_word_learner/blob/master/image.png', '_blank')">
                    ÊîØÊåÅÂºÄÂèëËÄÖ
                </button>
            </div>
        </div>
    </div>

    <!-- Â≠¶‰π†Ê®°ÊÄÅÊ°Ü -->
    <div class="modal" id="study-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìö ÈÄâÊã©Â≠¶‰π†ÁßëÁõÆ</h2>
                <button class="close-btn" onclick="closeModal('study-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <p>ÈÄâÊã©Ë¶ÅÈáçÁÇπÂ≠¶‰π†ÁöÑÁßëÁõÆ„ÄÇ‰∏çÂêåÁßëÁõÆÊ∂àËÄóÁ≤æÂäõ‰∏çÂêå,ÊèêÂçáÊïàÊûú‰πü‰∏çÂêå„ÄÇÁ´ûËµõËÉåÊôØËÆ©‰Ω†Âú®Êï∞ÁêÜÂåñ‰∏äÊúâÈ¢ùÂ§ñÂä†Êàê„ÄÇ</p>
                <div class="study-options">
                    <button class="study-btn" onclick="study('chinese')">
                        ËØ≠Êñá
                        <small>Ê∂àËÄó15Á≤æÂäõ</small>
                    </button>
                    <button class="study-btn" onclick="study('math')">
                        Êï∞Â≠¶
                        <small>Ê∂àËÄó20Á≤æÂäõ</small>
                    </button>
                    <button class="study-btn" onclick="study('english')">
                        Ëã±ËØ≠
                        <small>Ê∂àËÄó15Á≤æÂäõ</small>
                    </button>
                    <button class="study-btn" onclick="study('physics')">
                        Áâ©ÁêÜ
                        <small>Ê∂àËÄó20Á≤æÂäõ</small>
                    </button>
                    <button class="study-btn" onclick="study('chemistry')">
                        ÂåñÂ≠¶
                        <small>Ê∂àËÄó15Á≤æÂäõ</small>
                    </button>
                    <button class="study-btn" onclick="study('biology')">
                        ÁîüÁâ©
                        <small>Ê∂àËÄó15Á≤æÂäõ</small>
                    </button>
                </div>
                <div style="margin-top: 15px; font-size: 0.85rem; opacity: 0.8;">
                    üí° ÊèêÁ§∫ÔºöÊï∞Â≠¶ÂíåÁâ©ÁêÜÊúâÁ´ûËµõÂü∫Á°Ä,ÊèêÂçáÊõ¥Âø´‰ΩÜÊ∂àËÄóÊõ¥Â§ß„ÄÇÂøÉÁêÜÁä∂ÊÄÅ‰ºöÂΩ±ÂìçÂ≠¶‰π†ÊïàÁéáÔºÅ
                </div>
            </div>
        </div>
    </div>

    <!-- ‰ºëÊÅØÊ®°ÊÄÅÊ°Ü -->
    <div class="modal" id="rest-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üí§ ‰ºëÊÅØÊñπÂºè</h2>
                <button class="close-btn" onclick="closeModal('rest-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <p>ÈÄâÊã©ÈÄÇÂΩìÁöÑ‰ºëÊÅØÊñπÂºè„ÄÇËøáÂ∫¶Âä≥Á¥Ø‰ºöÂΩ±ÂìçÂÅ•Â∫∑,ÂêàÁêÜ‰ºëÊÅØÊâçËÉΩ‰øùÊåÅÊúÄ‰Ω≥Áä∂ÊÄÅ„ÄÇ</p>
                <div class="study-options">
                    <button class="study-btn" onclick="rest('sleep')">
                        Ê∑±Â∫¶Áù°Áú†
                        <small>ÊÅ¢Â§ç30Á≤æÂäõ | Èôç‰Ωé10ÂéãÂäõ</small>
                    </button>
                    <button class="study-btn" onclick="rest('nap')">
                        ÂçàÁù°
                        <small>ÊÅ¢Â§ç15Á≤æÂäõ | Èôç‰Ωé5ÂéãÂäõ</small>
                    </button>
                    <button class="study-btn" onclick="rest('relax')">
                        ÊîæÊùæÂ®±‰πê
                        <small>ÊÅ¢Â§ç10Á≤æÂäõ | Èôç‰Ωé15ÂéãÂäõ</small>
                    </button>
                    <button class="study-btn" onclick="rest('music')">
                        Âê¨Èü≥‰πê
                        <small>ÊÅ¢Â§ç5Á≤æÂäõ | Èôç‰Ωé8ÂéãÂäõ </small>
                    </button>
                    <button class="study-btn special" onclick="rest('counseling')">
                        ÂøÉÁêÜÂí®ËØ¢
                        <small>Ê∂àËÄó100ÂÖÉ | ÊÅ¢Â§ç20ÂøÉÁêÜ</small>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ÁªèÊµéÊ®°ÊÄÅÊ°Ü -->
    <div class="modal" id="economy-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üí∞ ÁªèÊµéÁÆ°ÁêÜ</h2>
                <button class="close-btn" onclick="closeModal('economy-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <p>ÁÆ°ÁêÜ‰Ω†ÁöÑÈõ∂Ëä±Èí±ÂíåÊîØÂá∫„ÄÇÂêàÁêÜËßÑÂàíÁªèÊµé,Ë¥≠‰π∞Â≠¶‰π†ËµÑÊñô„ÄÇ</p>
                <div class="study-options">
                    <button class="study-btn" onclick="economy('part-time')">
                        ÂÖºËÅåÂÆ∂Êïô
                        <small>Ëé∑Âæó200ÂÖÉ | Â¢ûÂä†ÂéãÂäõ</small>
                    </button>
                    <button class="study-btn" onclick="economy('buy-books')">
                        Ë¥≠‰π∞ËµÑÊñô
                        <small>Ê∂àËÄó100ÂÖÉ | ÂÖ®Áßë+1 | ÊèêÂçáÊïàÁéá</small>
                    </button>
                    <button class="study-btn" onclick="economy('buy-course')">
                        ÁΩëËØæË°•‰π†
                        <small>Ê∂àËÄó300ÂÖÉ | ÊåáÂÆöÁßëÁõÆ+3 | Ê∂àËÄóÁ≤æÂäõ</small>
                    </button>
                    <!-- <button class="study-btn" onclick="economy('save')">
                        Â≠òÈí±
                        <small>Êó†Ê∂àËÄó | Â¢ûÂä†Â≠òÊ¨æ | Êó†Áõ¥Êé•Êî∂Áõä</small>
                    </button> -->
                    <button class="study-btn" onclick="economy('parents')">
                        ÂêëÁà∂ÊØçË¶ÅÈí±
                        <small>Ê∂àËÄóÂÖ≥Á≥ª | Ëé∑Âæó150ÂÖÉ | Â¢ûÂä†ÂéãÂäõ</small>
                    </button>
                </div>
                <div style="margin-top: 10px; font-size: 0.85rem;">
                    ÂΩìÂâçÂ≠òÊ¨æ: <span id="current-money">500</span> ÂÖÉ
                </div>
            </div>
        </div>
    </div>

    <!-- Ê¥ªÂä®Ê®°ÊÄÅÊ°Ü -->
    <div class="modal" id="activity-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üéâ ËØæÂ§ñÊ¥ªÂä®</h2>
                <button class="close-btn" onclick="closeModal('activity-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <p>ÂèÇÂä†ËØæÂ§ñÊ¥ªÂä®ÂèØ‰ª•‰∏∞ÂØåÁªèÂéÜ,‰ΩÜ‰πü‰ºöÊ∂àËÄóÊó∂Èó¥ÂíåÁ≤æÂäõ„ÄÇ</p>
                <div class="study-options">
                    <button class="study-btn" onclick="activity('club')">
                        Á§æÂõ¢Ê¥ªÂä®
                        <small>ÂêåÂ≠¶ÂÖ≥Á≥ª+5 | ÂéãÂäõ-5</small>
                    </button>
                    <button class="study-btn" onclick="activity('volunteer')">
                        ÂøóÊÑøËÄÖ
                        <small>ÂøÉÁêÜ+3</small>
                    </button>
                    <button class="study-btn" onclick="activity('lecture')">
                        Âê¨ËÆ≤Â∫ß
                        <small>ÈöèÊú∫ÁßëÁõÆ+1 | ÂéãÂäõ-3</small>
                    </button>
                    <button class="study-btn" onclick="activity('competition')">
                        Áü•ËØÜÁ´ûËµõ
                        <small>ÂéãÂäõ+10</small>
                    </button>
                    <button class="study-btn special" onclick="activity('oi-meetup')">
                        OIËÅö‰ºö
                        <small>ÂéãÂäõ-10 | ÂõûÂøÜ+1</small>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ‰Ωú‰∏öÊ®°ÊÄÅÊ°Ü -->
    <div class="modal" id="homework-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‚úèÔ∏è ‰Ωú‰∏öÁÆ°ÁêÜ</h2>
                <button class="close-btn" onclick="closeModal('homework-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <p>ÂÆåÊàê‰Ωú‰∏öÂèØ‰ª•Â∑©Âõ∫Áü•ËØÜ,‰ΩÜ‰πü‰ºöÊ∂àËÄóÁ≤æÂäõ„ÄÇÊãñÊ¨†‰Ωú‰∏ö‰ºöÂΩ±ÂìçËÄÅÂ∏àÂÖ≥Á≥ª„ÄÇ</p>
                <div id="homework-list" style="margin-bottom: 15px;">
                    <!-- Âä®ÊÄÅÁîüÊàê -->
                </div>
                <div class="study-options">
                    <button class="study-btn" onclick="homework('complete-all')">
                        ÂÆåÊàêÊâÄÊúâ‰Ωú‰∏ö
                        <small>Ê∂àËÄó30Á≤æÂäõ | ÂÖ®Áßë+0.5 | ËÄÅÂ∏àÂÖ≥Á≥ª+3</small>
                    </button>
                    <button class="study-btn" onclick="homework('complete-one')">
                        ÂÆåÊàê‰∏ÄÈ°π‰Ωú‰∏ö
                        <small>Ê∂àËÄó10Á≤æÂäõ | ÈöèÊú∫ÁßëÁõÆ+0.3 | ËÄÅÂ∏àÂÖ≥Á≥ª+1</small>
                    </button>
                    <button class="study-btn danger" onclick="homework('skip')">
                        ÊãñÊ¨†‰Ωú‰∏ö
                        <small>Êó†Ê∂àËÄó | ËÄÅÂ∏àÂÖ≥Á≥ª-5 | ÂéãÂäõ+5</small>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ÊïÖ‰∫ã/ÂõûÂøÜÊ®°ÊÄÅÊ°Ü -->
    <div class="modal" id="story-modal">
        <div class="modal-content story-modal">
            <div class="modal-header">
                <h2>üìñ <span id="story-title">ÊïÖ‰∫ã‰∫ã‰ª∂</span></h2>
                <button class="close-btn" onclick="closeModal('story-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="story-content" id="story-content">
                    <!-- Âä®ÊÄÅÂÜÖÂÆπ -->
                </div>
                <div class="story-choices" id="story-choices">
                    <!-- Âä®ÊÄÅÈÄâÊã© -->
                </div>
            </div>
        </div>
    </div>

    <!-- Èò∂ÊÆµÁõÆÊ†áÂºπÁ™ó -->
    <div class="modal" id="goal-modal">
        <div class="modal-content goal-modal">
            <div class="modal-header">
                <h2>üéØ Èò∂ÊÆµÁõÆÊ†áÊõ¥Êñ∞</h2>
                <button class="close-btn" onclick="closeModal('goal-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="goal-content" id="goal-content">
                    <!-- Âä®ÊÄÅÁîüÊàê -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="donation-btn primary" onclick="closeModal('goal-modal')">ÊòéÁôΩ‰∫Ü</button>
            </div>
        </div>

    </div>

    <!-- ÊàêÂ∞±ËØ¶ÊÉÖÂºπÁ™ó -->
    <div class="modal" id="achievement-modal">
        <div class="modal-content achievement-detail-modal">
            <div class="modal-header">
                <h2>üèÜ ÊàêÂ∞±ËØ¶ÊÉÖ</h2>
                <button class="close-btn" onclick="closeModal('achievement-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="achievement-detail-content" id="achievement-detail-content">
                    <!-- Âä®ÊÄÅÁîüÊàê -->
                </div>
            </div>
        </div>
    </div>

    <!-- ÈÄöÁü• -->
    <div class="notification" id="notification">
        <div id="notification-text"></div>
    </div>

    <script>
        // ==================== Ê∏∏ÊàèÁä∂ÊÄÅ ====================
        const gameState = {
            // Êó∂Èó¥Á≥ªÁªü
            week: 1,
            dayOfWeek: 0, // 0=Âë®‰∏Ä, 6=Âë®Êó•
            period: 0, // 0=Êó©Êô®, 1=‰∏äÂçà, 2=‰∏ãÂçà, 3=Êôö‰∏ä
            daysLeft: 365,
            vacationDays: 0,
            season: 0, // 0=Êò•, 1=Â§è, 2=Áßã, 3=ÂÜ¨

            // Ê†∏ÂøÉÁä∂ÊÄÅ
            energy: 80,
            stress: 20,
            health: 85,
            mental: 75,
            money: 500,

            // Â≠¶ÁßëËÉΩÂäõ
            subjects: {
                chinese: 10,
                math: 15,
                english: 8,
                physics: 20,
                chemistry: 12,
                biology: 10
            },

            // ‰∫∫ÈôÖÂÖ≥Á≥ªÔºà8‰∏™ËßíËâ≤Ôºâ
            relationships: {
                teacher: 50,        // Áè≠‰∏ª‰ªª
                mathTeacher: 50,    // Êï∞Â≠¶ËÄÅÂ∏à
                chineseTeacher: 50, // ËØ≠ÊñáËÄÅÂ∏à
                englishTeacher: 50, // Ëã±ËØ≠ËÄÅÂ∏à
                classmateA: 50,     // ÂêåÂ≠¶A
                classmateB: 50,     // ÂêåÂ≠¶B
                parents: 50,        // Áà∂ÊØç
                crush: 0            // ÊöóÊÅãÂØπË±°
            },

            // ‰Ωú‰∏öÁ≥ªÁªü
            homework: {
                chinese: false,
                math: false,
                english: false,
                physics: false,
                chemistry: false,
                biology: false
            },

            // ËØæÁ®ãË°®ÔºàÊØèÂë®Ôºâ
            schedule: [],

            // Ê¥ªÂä®ËÆ∞ÂΩï
            weekActivities: 0,
            totalActivities: 0,

            // ‰∏ìÁ≤æÁ≥ªÁªü
            specialization: null, // 'literature', 'science', 'all-rounder'

            // Ê∏∏ÊàèËøõÂ∫¶
            events: [], // Â∑≤Ëß¶ÂèëÁöÑÊïÖ‰∫ã‰∫ã‰ª∂ID
            achievements: new Set(),
            storyProgress: 0,
            examCount: 0,
            memoryCount: 0,
            perfectWeeks: 0,

            // ÁªüËÆ°
            totalStudyHours: 0,
            totalRestHours: 0,
            totalExerciseHours: 0,
            totalSocialHours: 0,

            // Êìç‰ΩúÈôêÂà∂
            actionsThisWeek: 0,
            maxActionsPerWeek: 3,

            // Èò∂ÊÆµÁõÆÊ†á
            currentGoal: null,
            goalProgress: 0,

            // Ê∏∏ÊàèÁä∂ÊÄÅ
            gameOver: false,
            lastAction: null,
            studyStreak: 0,

            // Â§©Ê∞î
            weather: '‚òÄÔ∏è',
            currentWeather: { type: '‚òÄÔ∏è', name: 'Êô¥Â§©', mood: 1, efficiency: 1.1 }
        };

        // ==================== Êï∞ÊçÆÂ∫ì ====================

        // Â≠£ËäÇÁ≥ªÁªü
        const seasons = [
            { name: 'Êò•Â≠£', emoji: 'üå∏', mood: 1, events: ['ÂºÄÂ≠¶', 'Êò•Ê∏∏', 'Êúü‰∏≠ËÄÉËØï'] },
            { name: 'Â§èÂ≠£', emoji: '‚òÄÔ∏è', mood: 0, events: ['ÊúüÊú´ËÄÉËØï', 'ÊöëÂÅá', 'ÊØï‰∏ö'] },
            { name: 'ÁßãÂ≠£', emoji: 'üçÇ', mood: -1, events: ['ÂºÄÂ≠¶', 'ËøêÂä®‰ºö', 'Êúü‰∏≠ËÄÉËØï'] },
            { name: 'ÂÜ¨Â≠£', emoji: '‚ùÑÔ∏è', mood: -2, events: ['ÊúüÊú´ËÄÉËØï', 'ÂØíÂÅá', 'Êò•ËäÇ'] }
        ];

        // Â§©Ê∞îÁ≥ªÁªü
        const weathers = [
            { type: '‚òÄÔ∏è', name: 'Êô¥Â§©', mood: 1, efficiency: 1.1 },
            { type: '‚òÅÔ∏è', name: 'Èò¥Â§©', mood: 0, efficiency: 1.0 },
            { type: 'üåßÔ∏è', name: 'Èõ®Â§©', mood: -1, efficiency: 0.9 },
            { type: '‚õàÔ∏è', name: 'Èõ∑Èõ®', mood: -2, efficiency: 0.8 },
            { type: '‚ùÑÔ∏è', name: 'Èõ™Â§©', mood: -1, efficiency: 0.85 },
            { type: 'üå´Ô∏è', name: 'ÈõæÈúæ', mood: -1, efficiency: 0.85 }
        ];

        // ÂÅáÊúüÁ≥ªÁªü
        const holidays = {
            1: { name: 'ÂõΩÂ∫Ü', days: 7, week: 1, effect: { stress: -10 } },
            2: { name: 'ÂÖÉÊó¶', days: 3, week: 20, effect: { stress: -5 } },
            3: { name: 'ÂØíÂÅá', days: 21, week: 25, effect: { stress: -20, health: 5 } },
            4: { name: 'Êò•ËäÇ', days: 7, week: 26, effect: { parents: 10, stress: -15 } },
            5: { name: 'Ê∏ÖÊòé', days: 3, week: 35, effect: { mental: 5 } },
            6: { name: '‰∫î‰∏Ä', days: 5, week: 40, effect: { stress: -8 } },
            7: { name: 'Á´ØÂçà', days: 3, week: 45, effect: { stress: -5 } }
        };

        // Èò∂ÊÆµÁõÆÊ†áÁ≥ªÁªü
        const stageGoals = {
            5: {
                title: "ÈÄÇÂ∫îÊúüÁõÆÊ†áÔºàÁ¨¨5Âë®Ôºâ",
                desc: "ÂÖ®ÁßëÂπ≥ÂùáËææÂà∞20ÂàÜ,ÂéãÂäõ‰Ωé‰∫é40,ÂÅ•Â∫∑‰øùÊåÅ80‰ª•‰∏ä",
                check: (s) => {
                    const avg = Object.values(s.subjects).reduce((a, b) => a + b, 0) / 6;
                    return avg >= 20 && s.stress < 40 && s.health >= 80;
                },
                reward: { energy: 10, stress: -5 }
            },
            10: {
                title: "ÊèêÂçáÊúüÁõÆÊ†áÔºàÁ¨¨10Âë®Ôºâ",
                desc: "Ëá≥Â∞ë‰∏§ÁßëËææÂà∞40ÂàÜ,‰∏éËÄÅÂ∏àÂÖ≥Á≥ªËâØÂ•ΩÔºà>60Ôºâ,ÁªèÊµéÁä∂ÂÜµÊ≠£Â∏∏Ôºà>300ÂÖÉÔºâ",
                check: (s) => {
                    const highCount = Object.values(s.subjects).filter(v => v >= 40).length;
                    return highCount >= 2 && s.relationships.teacher >= 60 && s.money >= 300;
                },
                reward: { mental: 5, money: 100 }
            },
            15: {
                title: "Á®≥ÂÆöÊúüÁõÆÊ†áÔºàÁ¨¨15Âë®Ôºâ",
                desc: "ÂÖ®ÁßëÂπ≥ÂùáËææÂà∞50ÂàÜ,ÂéãÂäõ‰Ωé‰∫é30,ÂÆåÊàêËá≥Â∞ë5Ê¨°‰Ωú‰∏ö",
                check: (s) => {
                    const avg = Object.values(s.subjects).reduce((a, b) => a + b, 0) / 6;
                    const homeworkCount = Object.values(s.homework).filter(v => v).length;
                    return avg >= 50 && s.stress < 30 && homeworkCount >= 5;
                },
                reward: { health: 5, stress: -10 }
            },
            25: {
                title: "ÂÜ≤Âà∫ÊúüÁõÆÊ†áÔºàÁ¨¨25Âë®Ôºâ",
                desc: "ÂÖ®ÁßëÂπ≥ÂùáËææÂà∞65ÂàÜ,Ëá≥Â∞ë‰∏ÄÁßëËææÂà∞70ÂàÜ,ÊöóÊÅãÂØπË±°ÂÖ≥Á≥ª>30",
                check: (s) => {
                    const avg = Object.values(s.subjects).reduce((a, b) => a + b, 0) / 6;
                    const has70 = Object.values(s.subjects).some(v => v >= 70);
                    return avg >= 65 && has70 && s.relationships.crush >= 30;
                },
                reward: { energy: 15, mental: 10 }
            },
            35: {
                title: "ÂÜ≥ÊàòÊúüÁõÆÊ†áÔºàÁ¨¨35Âë®Ôºâ",
                desc: "ÂÖ®ÁßëÂπ≥ÂùáËææÂà∞75ÂàÜ,ÂøÉÁêÜÂÄº>70,ÂÆåÊàêËá≥Â∞ë3Ê¨°Ê®°ËÄÉ",
                check: (s) => {
                    const avg = Object.values(s.subjects).reduce((a, b) => a + b, 0) / 6;
                    return avg >= 75 && s.mental > 70 && s.examCount >= 3;
                },
                reward: { stress: -15, health: 10 }
            },
            45: {
                title: "ÊúÄÁªàÁõÆÊ†áÔºàÁ¨¨45Âë®Ôºâ",
                desc: "ÂÖ®ÁßëÂπ≥ÂùáËææÂà∞85ÂàÜ,ÊâÄÊúâÂÖ≥Á≥ª>60,ÂéãÂäõ<20",
                check: (s) => {
                    const avg = Object.values(s.subjects).reduce((a, b) => a + b, 0) / 6;
                    const allRel = Object.values(s.relationships).every(v => v >= 60);
                    return avg >= 85 && allRel && s.stress < 20;
                },
                reward: { energy: 20, mental: 15 }
            }
        };

        // ÈöèÊú∫‰∫ã‰ª∂Â∫ìÔºà‰ºòÂåñÁâàÔºöÂä†ÂÖ•ÂêàÁêÜÊÄßÊ£ÄÊü•Ôºâ
        const randomEvents = {
            study: [
                {
                    text: "Êï∞Â≠¶ËÄÅÂ∏àÈ¢ùÂ§ñÂ∏ÉÁΩÆ‰∫Ü5ÈÅìÈöæÈ¢ò,ËØ¥'Á´ûËµõÁîüÂ∫îËØ•ËΩªÊùæÊêûÂÆö'",
                    effect: { stress: 5, math: 1 },
                    type: "bad",
                    weight: 10,
                    condition: (s) => s.subjects.math >= 15
                },
                {
                    text: "ÂèëÁé∞‰∏ÄÈÅìÊï∞Â≠¶È¢òÊúâ‰∏âÁßçËß£Ê≥ï,Ë±ÅÁÑ∂ÂºÄÊúó",
                    effect: { math: 2, energy: 3 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.subjects.math >= 20
                },
                {
                    text: "Êï∞Â≠¶ÊµãÈ™åÊúÄÂêé‰∏ÄÈ¢òÂÖ®Áè≠Âè™Êúâ‰Ω†ÂÅöÂØπ‰∫Ü",
                    effect: { math: 3, teacher: 5, stress: -5 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.subjects.math >= 35
                },
                {
                    text: "Êï∞Â≠¶‰Ωú‰∏öÂ§™Â§ö,ÁÜ¨Â§úÂà∞ÂáåÊô®‰∏§ÁÇπ",
                    effect: { math: 1, energy: -10, stress: 8 },
                    type: "bad",
                    weight: 8,
                    condition: (s) => s.subjects.math >= 25
                },
                {
                    text: "Êï∞Â≠¶ËØæ‰ª£Ë°®‰∏ªÂä®ÂàÜ‰∫´‰ªñÁöÑÈîôÈ¢òÊú¨",
                    effect: { math: 2, classmateA: 2 },
                    type: "good",
                    weight: 7,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "Êï∞Â≠¶ËÄÅÂ∏àÁî®‰Ω†ÁöÑËß£Ê≥ïÂΩìËåÉ‰æãËÆ≤Ëß£",
                    effect: { math: 3, teacher: 5, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.subjects.math >= 30
                },
                {
                    text: "Êï∞Â≠¶Á´ûËµõÊä•ÂêçÊà™Ê≠¢,‰Ω†ÁäπË±´‰∏çÂÜ≥",
                    effect: { stress: 5 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => s.subjects.math >= 25 && s.week <= 8
                },
                {
                    text: "Êï∞Â≠¶ÂÖ¨ÂºèÁ™ÅÁÑ∂ÊÉ≥‰∏çËµ∑Êù•,ËÄÉËØïÂç°Â£≥",
                    effect: { math: -2, stress: 8 },
                    type: "bad",
                    weight: 7,
                    condition: (s) => s.subjects.math >= 20
                },
                {
                    text: "Êï∞Â≠¶ËÄÅÂ∏àÊé®Ëçê‰∫Ü‰∏ÄÊú¨ÂæàÂ•ΩÁöÑÂèÇËÄÉ‰π¶",
                    effect: { math: 2, teacher: 3 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.mathTeacher >= 40
                },
                {
                    text: "Êï∞Â≠¶ËØæ‰∏äÊâìÁûåÁù°,ÈîôËøá‰∫ÜÂÖ≥ÈîÆÁü•ËØÜÁÇπ",
                    effect: { math: -1, energy: -3, stress: 3 },
                    type: "bad",
                    weight: 8,
                    condition: (s) => s.energy < 50
                },
                // ËØ≠ÊñáÁõ∏ÂÖ≥
                {
                    text: "ËØ≠Êñá‰ΩúÊñáË¢´ÂΩì‰ΩúËåÉÊñáÊúóËØª",
                    effect: { chinese: 2, teacher: 5 },
                    type: "good",
                    weight: 7,
                    condition: (s) => s.subjects.chinese >= 20
                },
                {
                    text: "Âè§ÊñáÈªòÂÜôÈîô‰∫Ü‰∏Ä‰∏™Â≠ó,Ë¢´Êâ£ÂàÜ",
                    effect: { chinese: -1, stress: 3 },
                    type: "bad",
                    weight: 8,
                    condition: (s) => s.subjects.chinese >= 15
                },
                {
                    text: "ËØ≠ÊñáËÄÅÂ∏àÊé®Ëçê‰Ω†ÂèÇÂä†‰ΩúÊñáÊØîËµõ",
                    effect: { chinese: 3, teacher: 5, stress: 5 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.subjects.chinese >= 30
                },
                {
                    text: "ÈòÖËØªÁêÜËß£È¢òÂÆåÂÖ®ÁêÜËß£‰∫Ü‰ΩúËÄÖÁöÑÊÑèÂõæ",
                    effect: { chinese: 2, energy: 2 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.subjects.chinese >= 25
                },
                {
                    text: "ËØ≠ÊñáËØæ‰∏äËÆ®ËÆ∫„ÄäÁ∫¢Ê•ºÊ¢¶„Äã,‰Ω†ÂèëË®ÄÁ≤æÂΩ©",
                    effect: { chinese: 2, classmateA: 3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.subjects.chinese >= 20
                },
                {
                    text: "ËØ≠Êñá‰Ωú‰∏öÊòØÊäÑÂÜôËØæÊñá,ÊûØÁá•‰πèÂë≥",
                    effect: { chinese: 1, stress: 2 },
                    type: "neutral",
                    weight: 7,
                    condition: (s) => true
                },
                {
                    text: "ËØ≠ÊñáËÄÉËØï‰ΩúÊñáË∑ëÈ¢ò,ÂàÜÊï∞‰∏çÁêÜÊÉ≥",
                    effect: { chinese: -2, stress: 5 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.subjects.chinese >= 15
                },
                {
                    text: "ËØ≠ÊñáËÄÅÂ∏àË°®Êâ¨‰Ω†ÁöÑÊñáÁ¨îÊúâËøõÊ≠•",
                    effect: { chinese: 2, teacher: 3, stress: -3 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.subjects.chinese >= 18
                },
                {
                    text: "ÊñáË®ÄÊñáÁøªËØëÈÅáÂà∞ÁîüÂÉªÂ≠ó,Êü•Â≠óÂÖ∏Ëä±‰∫ÜÂæà‰πÖ",
                    effect: { chinese: 1, energy: -2 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => s.subjects.chinese >= 20
                },
                {
                    text: "ËØ≠ÊñáËØæ‰∏äÂàÜ‰∫´ËØª‰π¶ÂøÉÂæó,Ëé∑ÂæóÊéåÂ£∞",
                    effect: { chinese: 2, classmateA: 2, stress: -2 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.subjects.chinese >= 25
                },
                // Ëã±ËØ≠Áõ∏ÂÖ≥
                {
                    text: "ÂêåÂ≠¶ÂàÜ‰∫´‰∫ÜÈ´òÊïàËã±ËØ≠ÂçïËØçËÆ∞ÂøÜÊ≥ï,ÂæàÊúâÁî®",
                    effect: { english: 2, stress: -2 },
                    type: "good",
                    weight: 10,
                    condition: (s) => true
                },
                {
                    text: "Ëã±ËØ≠Âê¨ÂäõËÄÉËØïÂÆåÂÖ®Âê¨ÊáÇ‰∫Ü,ÂæàËá™‰ø°",
                    effect: { english: 3, stress: -5 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.subjects.english >= 25
                },
                {
                    text: "Ëã±ËØ≠‰ΩúÊñáÁî®‰∫ÜÈ´òÁ∫ßÂè•Âûã,Ë¢´ËÄÅÂ∏àÂúàÂá∫Ë°®Êâ¨",
                    effect: { english: 2, teacher: 3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.subjects.english >= 30
                },
                {
                    text: "Ëã±ËØ≠ÂçïËØçËÉå‰∫ÜÂèàÂøò,ÂæàÊ≤Æ‰∏ß",
                    effect: { english: -1, stress: 3 },
                    type: "bad",
                    weight: 8,
                    condition: (s) => s.subjects.english >= 15
                },
                {
                    text: "Ëã±ËØ≠ËÄÅÂ∏àËÆ©‰Ω†ÂΩìÂ∞èËÄÅÂ∏à,ÊïôÂêåÂ≠¶ÂèëÈü≥",
                    effect: { english: 3, teacher: 5, stress: 2 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.subjects.english >= 35
                },
                {
                    text: "Ëã±ËØ≠ËØæ‰∏äÂíåÂ§ñÊïôÂØπËØù,ËôΩÁÑ∂Á¥ßÂº†‰ΩÜÂÆåÊàê‰∫Ü",
                    effect: { english: 2, stress: 3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.subjects.english >= 20
                },
                {
                    text: "Ëã±ËØ≠ÈòÖËØªÁêÜËß£ÈÅáÂà∞ÁîüËØçÂ§™Â§ö,ÂΩ±ÂìçÁêÜËß£",
                    effect: { english: -1, stress: 4 },
                    type: "bad",
                    weight: 7,
                    condition: (s) => s.subjects.english >= 18
                },
                {
                    text: "Ëã±ËØ≠ËÄÅÂ∏àÈÄÅ‰Ω†‰∏ÄÊú¨ÂéüÁâàÂ∞èËØ¥",
                    effect: { english: 2, englishTeacher: 5 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.englishTeacher >= 40
                },
                {
                    text: "Ëã±ËØ≠Âè£ËØ≠ÁªÉ‰π†Êó∂,ÂêåÂ≠¶Á∫†Ê≠£‰∫Ü‰Ω†ÁöÑÂèëÈü≥",
                    effect: { english: 1, classmateA: 1 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => s.subjects.english >= 15
                },
                {
                    text: "Ëã±ËØ≠ËÄÉËØïÊó∂Èó¥‰∏çÂ§ü,ÊúÄÂêéÂá†È¢ò‰π±Â°´",
                    effect: { english: -2, stress: 5 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.subjects.english >= 20
                },
                // Áâ©ÁêÜÁõ∏ÂÖ≥
                {
                    text: "Áâ©ÁêÜËØæ‰∏äÁ™ÅÁÑ∂Ë¢´ÁÇπÂêçËß£È¢ò,Âπ∏Â•Ω‰ª•ÂâçÁ´ûËµõÂ≠¶Ëøá",
                    effect: { physics: 1, teacher: 3 },
                    type: "good",
                    weight: 8,
                    condition: (s) => s.subjects.physics >= 15
                },
                {
                    text: "Áâ©ÁêÜÂÆûÈ™åÊï∞ÊçÆËØØÂ∑ÆÂæàÂ§ß,Ë¢´ËÄÅÂ∏àÊåáÂá∫",
                    effect: { physics: -1, stress: 3 },
                    type: "bad",
                    weight: 7,
                    condition: (s) => s.subjects.physics >= 10
                },
                {
                    text: "Áâ©ÁêÜËÄÅÂ∏àÁî®ÁîüÂä®ÁöÑÊØîÂñªËÆ≤Ëß£ÁîµÁ£ÅÂ≠¶,ÊÅçÁÑ∂Â§ßÊÇü",
                    effect: { physics: 3, energy: 2 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.subjects.physics >= 20
                },
                {
                    text: "Áâ©ÁêÜÁ´ûËµõÊ®°ÊãüÈ¢òÂ§™Èöæ,Âè™ÂÅöÂá∫Êù•‰∏ÄÂçä",
                    effect: { physics: 1, stress: 5 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => s.subjects.physics >= 25
                },
                {
                    text: "Áâ©ÁêÜËØæ‰ª£Ë°®ÁªÑÁªáËÆ®ËÆ∫,‰Ω†ÊèêÂá∫‰∫ÜÊñ∞ÊÄùË∑Ø",
                    effect: { physics: 2, classmateA: 3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.subjects.physics >= 30
                },
                {
                    text: "Áâ©ÁêÜÂÖ¨ÂºèÊé®ÂØºÂç°Âú®ÂÖ≥ÈîÆÊ≠•È™§,ÂæàÁÉ¶Ë∫Å",
                    effect: { physics: -1, stress: 4 },
                    type: "bad",
                    weight: 7,
                    condition: (s) => s.subjects.physics >= 20
                },
                {
                    text: "Áâ©ÁêÜËÄÅÂ∏àË°®Êâ¨‰Ω†ÂÆûÈ™åÊìç‰ΩúËßÑËåÉ",
                    effect: { physics: 2, teacher: 3 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.subjects.physics >= 15
                },
                {
                    text: "Áâ©ÁêÜËÄÉËØïÈÄâÊã©È¢òÂÖ®ÂØπ,Â§ßÈ¢òÂç¥‰∏ç‰ºö",
                    effect: { physics: 1, stress: 3 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => s.subjects.physics >= 18
                },
                {
                    text: "Áâ©ÁêÜÂÆûÈ™åÂô®ÊùêÊçüÂùè,ÂÆûÈ™åËØæÂèñÊ∂à",
                    effect: { physics: -1, stress: 2 },
                    type: "bad",
                    weight: 4,
                    condition: (s) => s.subjects.physics >= 10
                },
                {
                    text: "Áâ©ÁêÜËÄÅÂ∏àÊé®Ëçê‰Ω†ÂèÇÂä†Áâ©ÁêÜÁ´ûËµõÂüπËÆ≠",
                    effect: { physics: 3, teacher: 5, stress: 5 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.subjects.physics >= 35
                },
                // ÂåñÂ≠¶Áõ∏ÂÖ≥
                {
                    text: "ÂåñÂ≠¶ÂÆûÈ™åÂ§±Ë¥•,Ë¢´ËÄÅÂ∏àÊâπËØÑ",
                    effect: { chemistry: -1, stress: 3 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.subjects.chemistry >= 10
                },
                {
                    text: "ÂåñÂ≠¶ÊñπÁ®ãÂºèÈÖçÂπ≥Á™ÅÁÑ∂ÂºÄÁ™ç,‰∏ÄÊ∞îÂëµÊàê",
                    effect: { chemistry: 2, energy: 2 },
                    type: "good",
                    weight: 7,
                    condition: (s) => s.subjects.chemistry >= 15
                },
                {
                    text: "ÂåñÂ≠¶ËÄÅÂ∏àÊºîÁ§∫‰∫ÜÊúâË∂£ÁöÑÈ¢úËâ≤ÂèòÂåñÂÆûÈ™å",
                    effect: { chemistry: 2, stress: -3 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.subjects.chemistry >= 10
                },
                {
                    text: "ÂåñÂ≠¶ÊúâÊú∫ÂåñÂ≠¶ÈÉ®ÂàÜÂÆåÂÖ®Âê¨‰∏çÊáÇ",
                    effect: { chemistry: -2, stress: 5 },
                    type: "bad",
                    weight: 8,
                    condition: (s) => s.subjects.chemistry >= 15
                },
                {
                    text: "ÂåñÂ≠¶ÂÆûÈ™åÂà∂Â§áÊàêÂäü,‰∫ßÁéáÂæàÈ´ò",
                    effect: { chemistry: 3, teacher: 3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.subjects.chemistry >= 20
                },
                {
                    text: "ÂåñÂ≠¶ËÄÉËØïËÆ°ÁÆóÈ¢òÂçï‰ΩçÊç¢ÁÆóÈîôËØØ,ÂÖ®Èîô",
                    effect: { chemistry: -2, stress: 4 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.subjects.chemistry >= 18
                },
                {
                    text: "ÂåñÂ≠¶ËÄÅÂ∏àÁî®ÁîüÊ¥ª‰æãÂ≠êËÆ≤Ëß£ÈÖ∏Á¢±‰∏≠Âíå",
                    effect: { chemistry: 2, energy: 1 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.subjects.chemistry >= 12
                },
                {
                    text: "ÂåñÂ≠¶ÂÖÉÁ¥†Âë®ÊúüË°®ËÉåËØµÊØîËµõ,‰Ω†Âæó‰∫ÜÁ¨¨‰∫å",
                    effect: { chemistry: 2, classmateA: 2 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.subjects.chemistry >= 25
                },
                {
                    text: "ÂåñÂ≠¶ÂÆûÈ™åÊä•ÂëäË¢´ÂΩì‰Ωú‰ºòÁßÄËåÉ‰æãÂ±ïÁ§∫",
                    effect: { chemistry: 3, teacher: 5 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.subjects.chemistry >= 30
                },
                {
                    text: "ÂåñÂ≠¶ËØæ‰∏äÈóªÂà∞Âà∫ÊøÄÊÄßÊ∞îÂë≥,Â§¥Êôï",
                    effect: { chemistry: -1, health: -2, stress: 2 },
                    type: "bad",
                    weight: 5,
                    condition: (s) => s.subjects.chemistry >= 10
                },
                // ÁîüÁâ©Áõ∏ÂÖ≥
                {
                    text: "ÁîüÁâ©ËØæ‰ª£Ë°®‰∏ªÂä®Â∏Æ‰Ω†Â§ç‰π†ÈÅó‰º†Â≠¶",
                    effect: { biology: 2, classmateA: 2 },
                    type: "good",
                    weight: 8,
                    condition: (s) => s.relationships.classmateA >= 40
                },
                {
                    text: "ÁîüÁâ©ÂÆûÈ™åÊòæÂæÆÈïúÊìç‰Ωú‰∏çÁÜüÁªÉ,ËßÜÈáéÊ®°Á≥ä",
                    effect: { biology: -1, stress: 3 },
                    type: "bad",
                    weight: 7,
                    condition: (s) => s.subjects.biology >= 10
                },
                {
                    text: "ÁîüÁâ©ËÄÅÂ∏àÁî®Âä®ÁîªÊºîÁ§∫ÁªÜËÉûÂàÜË£Ç,Âç∞Ë±°Ê∑±Âàª",
                    effect: { biology: 3, energy: 2 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.subjects.biology >= 15
                },
                {
                    text: "ÁîüÁâ©ÈÅó‰º†È¢òÊ¶ÇÁéáËÆ°ÁÆóÈîôËØØ,Á≠îÊ°àÂÖ®Èîô",
                    effect: { biology: -2, stress: 4 },
                    type: "bad",
                    weight: 7,
                    condition: (s) => s.subjects.biology >= 20
                },
                {
                    text: "ÁîüÁâ©ÂÆûÈ™åËßÇÂØüÊ§çÁâ©ÁªÜËÉû,ÂèëÁé∞ÊúâË∂£Áé∞Ë±°",
                    effect: { biology: 2, classmateA: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.subjects.biology >= 15
                },
                {
                    text: "ÁîüÁâ©ËØæ‰∏äËÆ®ËÆ∫ÁîüÊÄÅÁ≥ªÁªü,‰Ω†ÂèëË®ÄÊúâÊ∑±Â∫¶",
                    effect: { biology: 2, teacher: 3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.subjects.biology >= 25
                },
                {
                    text: "ÁîüÁâ©ËÄÉËØïÂ°´Á©∫È¢òËÆ∞Ê∑∑‰∫Ü‰∏ì‰∏öÊúØËØ≠",
                    effect: { biology: -1, stress: 3 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.subjects.biology >= 18
                },
                {
                    text: "ÁîüÁâ©ËÄÅÂ∏àÊé®Ëçê‰Ω†ÂèÇÂä†ÁîüÁâ©Â••ËµõÂüπËÆ≠",
                    effect: { biology: 3, teacher: 5, stress: 5 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.subjects.biology >= 35
                },
                {
                    text: "ÁîüÁâ©ÂÆûÈ™åËß£ÂâñÈùíËõô,ÂøÉÁêÜÂéãÂäõÂ§ß",
                    effect: { biology: 1, stress: 5, mental: -2 },
                    type: "bad",
                    weight: 4,
                    condition: (s) => s.subjects.biology >= 20
                },
                {
                    text: "ÁîüÁâ©ËØæ‰∏äÂ∞èÁªÑÂêà‰ΩúÂÆåÊàêÂÆûÈ™å,ÊïàÁéáÂæàÈ´ò",
                    effect: { biology: 2, classmateA: 2, energy: 2 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                // ÁªºÂêàÂ≠¶‰π†‰∫ã‰ª∂
                {
                    text: "ÂèëÁé∞‰∏ÄÊú¨ÁªùÁâàÂèÇËÄÉ‰π¶,Â¶ÇËé∑Ëá≥ÂÆù",
                    effect: { chinese: 1, math: 1, physics: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.money >= 100
                },
                {
                    text: "Ëá™‰π†ÂÆ§Á©∫Ë∞ÉÂùè‰∫Ü,Èó∑ÁÉ≠ÈöæËÄê",
                    effect: { energy: -5, stress: 5 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "Âõæ‰π¶È¶ÜÂ∫ß‰ΩçË¢´Âç†,Âè™Â•ΩÂõûÊïôÂÆ§",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 7,
                    condition: (s) => true
                },
                {
                    text: "ÂèëÁé∞‰∏Ä‰∏™Ë∂ÖÂ•ΩÁî®ÁöÑÂ≠¶‰π†APP",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Â∞èÁªÑËÆ®ËÆ∫ÊøÄÁÉà,Êî∂Ëé∑ÂæàÂ§ö",
                    effect: { math: 1, physics: 1, chemistry: 1, energy: 2 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 40
                },
                {
                    text: "ËÄÉËØïÂâç‰∏ÄÂ§©Â§ç‰π†Âà∞Ê∑±Â§ú,ÊïàÁéá‰Ωé‰∏ã",
                    effect: { energy: -8, stress: 5 },
                    type: "bad",
                    weight: 8,
                    condition: (s) => s.week >= 4
                },
                {
                    text: "ËØæÈó¥ÂêëËÄÅÂ∏àËØ∑ÊïôÈóÆÈ¢ò,ÂæóÂà∞ËÄêÂøÉËß£Á≠î",
                    effect: { teacher: 3, stress: -2 },
                    type: "good",
                    weight: 7,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†ËÆ°ÂàíË¢´Êâì‰π±,ÊÑüÂà∞ÁÑ¶Ëôë",
                    effect: { stress: 5 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "ÊèêÂâçÈ¢Ñ‰π†‰∫ÜÊñ∞ËØæ,‰∏äËØæËΩªÊùæÂæàÂ§ö",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 7,
                    condition: (s) => true
                },
                {
                    text: "ÂèëÁé∞Ëá™Â∑±ÁöÑÁ¨îËÆ∞Á≥ªÁªüÈúÄË¶ÅÊîπËøõ",
                    effect: { stress: 2 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Êï∞Â≠¶ÂíåÁâ©ÁêÜÈÉΩËÄÉ‰∫ÜÈ´òÂàÜ,‰ø°ÂøÉÂ§ßÂ¢û",
                    effect: { math: 2, physics: 2, stress: -5, energy: 3 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.subjects.math >= 30 && s.subjects.physics >= 30
                },
                {
                    text: "ÂåñÂ≠¶ÂíåÁîüÁâ©ÂÆûÈ™åÂÜ≤Á™Å,Êó∂Èó¥Á¥ßÂº†",
                    effect: { chemistry: -1, biology: -1, stress: 4 },
                    type: "bad",
                    weight: 5,
                    condition: (s) => s.subjects.chemistry >= 15 && s.subjects.biology >= 15
                },
                {
                    text: "ËØ≠ÊñáÂíåËã±ËØ≠‰ΩúÊñáÈÉΩÂÜôÂæó‰∏çÈîô,ËÄÅÂ∏àË°®Êâ¨",
                    effect: { chinese: 2, english: 2, teacher: 3 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.subjects.chinese >= 25 && s.subjects.english >= 25
                },
                {
                    text: "Â≠¶‰π†Êó∂ÊâãÊú∫Âπ≤Êâ∞‰∏•Èáç,ÊïàÁéá‰Ωé‰∏ã",
                    effect: { energy: -3, stress: 3 },
                    type: "bad",
                    weight: 8,
                    condition: (s) => true
                },
                {
                    text: "ÊâæÂà∞ÈÄÇÂêàËá™Â∑±ÁöÑÂ≠¶‰π†ËäÇÂ•è,‰∫ãÂçäÂäüÂÄç",
                    effect: { energy: 5, stress: -5 },
                    type: "good",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁ™ÅÁÑ∂ÂÆ£Â∏ÉÂ∞èÊµãÈ™å,Êé™Êâã‰∏çÂèä",
                    effect: { stress: 5 },
                    type: "bad",
                    weight: 7,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂Á™óÂ§ñÈ£éÊôØÂæàÁæé,ÂøÉÊÉÖÊÑâÊÇ¶",
                    effect: { stress: -3, energy: 2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ÂèëÁé∞Ëá™Â∑±ÁöÑÈîôÈ¢òÊú¨Êï¥ÁêÜÂæóÂæà‰π±",
                    effect: { stress: 2 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂Á™ÅÁÑ∂ÂÅúÁîµ,Ë¢´Ëø´‰ºëÊÅØ",
                    effect: { energy: 3, stress: 2 },
                    type: "neutral",
                    weight: 4,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÂ∏ÉÁΩÆÁöÑ‰Ωú‰∏öÈáèÁ™ÅÁÑ∂ÂáèÂ∞ë",
                    effect: { stress: -5, energy: 3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂Ë¢´ÂêåÂ≠¶ÊâìÊâ∞,ÂæàÁÉ¶Ë∫Å",
                    effect: { stress: 4 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "ÂèëÁé∞‰∏Ä‰∏™ÂÆâÈùôÁöÑÂ≠¶‰π†ËßíËêΩ,ÊïàÁéáÊèêÂçá",
                    effect: { energy: 3, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂Á™ÅÁÑ∂ÊÉ≥ÈÄö‰∏Ä‰∏™ÈöæÈ¢ò,ÂæàÂÖ¥Â•ã",
                    effect: { energy: 5, stress: -5 },
                    type: "good",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àËÆ≤ËØæÂ£∞Èü≥Â§™Â∞è,Âê¨‰∏çÊ∏Ö",
                    effect: { stress: 3 },
                    type: "bad",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÁü•ËØÜ‰ΩìÁ≥ªÊúâÊºèÊ¥û",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®ÂπΩÈªòÁöÑÊñπÂºèËÆ≤Ëß£ÊûØÁá•ÂÜÖÂÆπ",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÁ¨îËÆ∞ËÆ∞ÂæóÂæàËØ¶ÁªÜ",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁ™ÅÁÑ∂ÊèêÈóÆ,‰Ω†Á≠î‰∏ç‰∏äÊù•",
                    effect: { stress: 4 },
                    type: "bad",
                    weight: 7,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑËøõÊ≠•ÂæàÊòéÊòæ",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÂ∏ÉÁΩÆÁöÑ‰Ωú‰∏öÈúÄË¶ÅÊü•ÂæàÂ§öËµÑÊñô",
                    effect: { energy: -3, stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÊó∂Èó¥ÁÆ°ÁêÜÊúâÈóÆÈ¢ò",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®ÂÆûÁâ©ÊºîÁ§∫ÊäΩË±°Ê¶ÇÂøµ,ÁêÜËß£Âä†Ê∑±",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑ‰∏ìÊ≥®Âäõ‰∏ãÈôç",
                    effect: { energy: -2, stress: 2 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÈºìÂä±Â§ßÂÆ∂Â§öÊèêÈóÆ,Ê∞õÂõ¥ÂæàÂ•Ω",
                    effect: { stress: -3, energy: 2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÁü•ËØÜÈù¢ÂæàÁ™Ñ",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®ÊÄùÁª¥ÂØºÂõæÊ¢≥ÁêÜÁü•ËØÜ,Ê∏ÖÊô∞Êòé‰∫Ü",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†ÊñπÊ≥ïÈúÄË¶ÅË∞ÉÊï¥",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÂàÜ‰∫´‰∫ÜËá™Â∑±ÁöÑÂ≠¶‰π†ÁªèÂéÜ,ÂæàÂèóÂêØÂèë",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂü∫Á°Ä‰∏çÁâ¢Âõ∫",
                    effect: { stress: 4 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Ê∏∏ÊàèÁöÑÊñπÂºèÂ§ç‰π†,ÊúâË∂£ÂèàÊúâÊïà",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 4,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÁü•ËØÜÈÅóÂøòÂæàÂø´",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®ÂØπÊØîÊ≥ïËÆ≤Ëß£ÊòìÊ∑∑Ê∑ÜÊ¶ÇÂøµ,Âç∞Ë±°Ê∑±Âàª",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÁêÜËß£ËÉΩÂäõÊúâÂæÖÊèêÈ´ò",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®ÊïÖ‰∫ãÂºïÂÖ•Êñ∞ËØæ,Âê∏ÂºïÊ≥®ÊÑèÂäõ",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑËÆ°ÁÆóËÉΩÂäõ‰∏çË∂≥",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®ÂõæË°®Â±ïÁ§∫Êï∞ÊçÆ,‰∏ÄÁõÆ‰∫ÜÁÑ∂",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÈÄªËæëÊÄùÁª¥ÈúÄË¶ÅËÆ≠ÁªÉ",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®ÂÆûÈ™åÈ™åËØÅÁêÜËÆ∫,Âä†Ê∑±ÁêÜËß£",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑËÆ∞ÂøÜÂäõÈúÄË¶ÅÊèêÂçá",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Á±ªÊØîÊ≥ïËÆ≤Ëß£ÊäΩË±°Ê¶ÇÂøµ,ÂÆπÊòìÁêÜËß£",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑË°®ËææËÉΩÂäõ‰∏çË∂≥",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®ÂàÜÁªÑËÆ®ËÆ∫ÁöÑÊñπÂºè,‰∫íÁõ∏Â≠¶‰π†",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÊó∂Èó¥ÂàÜÈÖç‰∏çÂêàÁêÜ",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®ÊÄùÁª¥ËÆ≠ÁªÉÈ¢ò,ÈîªÁÇºÂ§ßËÑë",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†Âä®Âäõ‰∏çË∂≥",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®ÊàêÂäüÊ°à‰æãÊøÄÂä±Â§ßÂÆ∂,ÂÖÖÊª°Â∏åÊúõ",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑËá™‰ø°ÂøÉ‰∏çË∂≥",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®ÈîôËØØÊ°à‰æãÂàÜÊûê,ÈÅøÂÖçË∏©Âùë",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÊäóÂéãËÉΩÂäõÈúÄË¶ÅÊèêÈ´ò",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Èò∂ÊÆµÊÄßÁõÆÊ†áËÆæÂÆö,ÊúâÊàêÂ∞±ÊÑü",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†‰π†ÊÉØÈúÄË¶ÅÂüπÂÖª",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Ê≠£ÂêëÂèçÈ¶àÈºìÂä±,ËøõÊ≠•ÊòéÊòæ",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†ÊñπÊ≥ïÈúÄË¶Å‰ºòÂåñ",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Áü•ËØÜÂõæË∞±‰∏≤ËÅîÁü•ËØÜÁÇπ,Á≥ªÁªüÊÄßÂº∫",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†ÊïàÁéáÈúÄË¶ÅÊèêÈ´ò",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®ÊÄùÁª¥ÂØºÂõæÊÄªÁªì,‰∏ÄÁõÆ‰∫ÜÁÑ∂",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†ÊÄÅÂ∫¶ÈúÄË¶ÅÁ´ØÊ≠£",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®ÊàêÂäüÁªèÈ™åÂàÜ‰∫´,Â∞ëËµ∞ÂºØË∑Ø",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†ÁõÆÊ†á‰∏çÊòéÁ°Æ",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â§±Ë¥•ÊïôËÆ≠Ë≠¶Á§∫,ÈÅøÂÖçÈáçËπàË¶ÜËæô",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†ËÆ°Âàí‰∏çÂàáÂÆûÈôÖ",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®ÁßëÂ≠¶ÊñπÊ≥ïÊåáÂØº,‰∫ãÂçäÂäüÂÄç",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†ÁéØÂ¢É‰∏ç‰Ω≥",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®ÂøÉÁêÜËæÖÂØºÁºìËß£ÁÑ¶Ëôë,ÂøÉÊÄÅÂπ≥Á®≥",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†ËµÑÊ∫ê‰∏çË∂≥",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†Á≠ñÁï•ÊåáÂØº,ÊèêÂçáÊïàÁéá",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†ÊñπÊ≥ï‰∏çÈÄÇÂêà",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†ÊäÄÂ∑ßÂàÜ‰∫´,Âø´ÈÄüÊèêÂçá",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†Âä®ÂäõÊù•Ê∫êÂçï‰∏Ä",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†ÁõÆÊ†áÂàÜËß£,Âæ™Â∫èÊ∏êËøõ",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†ÂèçÈ¶à‰∏çË∂≥",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†ËØÑ‰º∞ÊñπÊ≥ï,ÂèäÊó∂Ë∞ÉÊï¥",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†ÁõëÊéß‰∏çÂ§ü",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†ÂèçÊÄùÊåáÂØº,ÊåÅÁª≠ÊîπËøõ",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†ËøÅÁßªËÉΩÂäõÂº±",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†Â∫îÁî®ÊåáÂØº,Â≠¶‰ª•Ëá¥Áî®",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†ÂàõÊñ∞ËÉΩÂäõ‰∏çË∂≥",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†ÊãìÂ±ïÊåáÂØº,ÂºÄÈòîËßÜÈáé",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†ÊâπÂà§ÊÄßÊÄùÁª¥Âº±",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†ÊÄùËæ®ÊåáÂØº,ÊèêÂçáÊÄùÁª¥",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†Âêà‰ΩúËÉΩÂäõÂ∑Æ",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†Âçè‰ΩúÊåáÂØº,Âõ¢ÈòüËøõÊ≠•",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†Ê≤üÈÄöËÉΩÂäõÂº±",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†Ë°®ËææÊåáÂØº,Ê∏ÖÊô∞‰º†Ëææ",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†È¢ÜÂØºËÉΩÂäõ‰∏çË∂≥",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†ÁªÑÁªáÊåáÂØº,ÊèêÂçáÊïàÁéá",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†ÈÄÇÂ∫îËÉΩÂäõÂ∑Æ",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†Ë∞ÉÊï¥ÊåáÂØº,ÁÅµÊ¥ªÂ∫îÂØπ",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†ÊäóÊå´ÊäòËÉΩÂäõÂº±",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†ÂùöÊåÅÊåáÂØº,ÂÖãÊúçÂõ∞Èöæ",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†Ëá™ÊàëÁÆ°ÁêÜËÉΩÂäõÂ∑Æ",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†Ëá™ÂæãÊåáÂØº,ÊèêÂçáËá™Âà∂Âäõ",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†Ëá™ÊàëÊøÄÂä±ËÉΩÂäõÂº±",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†Ëá™‰ø°ÊåáÂØº,Â¢ûÂº∫‰ø°ÂøÉ",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†Ëá™ÊàëÂèçÊÄùËÉΩÂäõ‰∏çË∂≥",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†ÊÄªÁªìÊåáÂØº,ÊèêÂçáËÆ§Áü•",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†Ëá™ÊàëËØÑ‰º∞ËÉΩÂäõÂº±",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†ËØäÊñ≠ÊåáÂØº,Á≤æÂáÜÊîπËøõ",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†Ëá™ÊàëË∞ÉËäÇËÉΩÂäõÂ∑Æ",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†‰ºòÂåñÊåáÂØº,ÊåÅÁª≠ÊèêÂçá",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†Ëá™ÊàëÂèëÂ±ïËÉΩÂäõ‰∏çË∂≥",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†ËßÑÂàíÊåáÂØº,ÊòéÁ°ÆÊñπÂêë",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†Ëá™ÊàëÂÆûÁé∞ËÉΩÂäõÂº±",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†ÁõÆÊ†áÊåáÂØº,ÊøÄÂèëÊΩúËÉΩ",
                    effect: { energy: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Â≠¶‰π†Êó∂ÂèëÁé∞Ëá™Â∑±ÁöÑÂ≠¶‰π†Ëá™ÊàëË∂ÖË∂äËÉΩÂäõ‰∏çË∂≥",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÁî®Â≠¶‰π†ÊÑøÊôØÊåáÂØº,ËøΩÊ±ÇÂçìË∂ä",
                    effect: { energy: 3, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                }
            ],

            relationship: [

                {
                    text: "ÊúãÂèã‰∏ªÂä®ÂÄü‰Ω†ËØæÂ†ÇÁ¨îËÆ∞,Â≠óËøπÂ∑•Êï¥",
                    effect: { classmateA: 3, stress: -2 },
                    type: "good",
                    weight: 8,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "ÂíåÊúãÂèã‰∏ÄËµ∑Âà∑È¢ò,ÊïàÁéáÁøªÂÄç",
                    effect: { classmateA: 2, math: 1, energy: -2 },
                    type: "good",
                    weight: 7,
                    condition: (s) => s.subjects.math >= 10
                },
                {
                    text: "ÊúãÂèãÂèëÁé∞‰Ω†ÊºèËÆ∞‰∫ÜÈáçÁÇπ,ÂèäÊó∂ÊèêÈÜí",
                    effect: { classmateA: 4, stress: -3 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 20
                },
                {
                    text: "ÊúãÂèãÁöÑËß£È¢òÊÄùË∑ØÂæàÁã¨Áâπ,ËÆ©‰Ω†Ë±ÅÁÑ∂ÂºÄÊúó",
                    effect: { classmateA: 3, physics: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.subjects.physics >= 15
                },
                {
                    text: "ÊúãÂèãÁ∫¶‰Ω†Âë®Êú´‰∏ÄËµ∑Â§ç‰π†,‰Ω†Á≠îÂ∫î‰∫Ü",
                    effect: { classmateA: 2, stress: 2 },
                    type: "neutral",
                    weight: 7,
                    condition: (s) => s.relationships.classmateA >= 25
                },
                {
                    text: "ÊúãÂèãÁöÑËã±ËØ≠‰ΩúÊñáË¢´ËÄÅÂ∏àË°®Êâ¨,‰Ω†‰∏∫‰ªñÈ´òÂÖ¥",
                    effect: { classmateA: 3, english: 1 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 35
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÁîüÁóÖÊó∂Â∏ÆÂøôÊäÑ‰∫ÜÁ¨îËÆ∞",
                    effect: { classmateA: 5, stress: -5 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.health < 70
                },
                {
                    text: "ÊúãÂèãÁöÑÂåñÂ≠¶ÂÆûÈ™åÊï∞ÊçÆÁªô‰Ω†ÂèÇËÄÉ",
                    effect: { classmateA: 2, chemistry: 1 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.subjects.chemistry >= 10
                },
                {
                    text: "ÊúãÂèãÊèêÈÜí‰Ω†ÊòéÂ§©ÊúâÂ∞èÊµã",
                    effect: { classmateA: 3, stress: 3 },
                    type: "neutral",
                    weight: 8,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁöÑÁîüÁâ©Á¨îËÆ∞ÊúâÂΩ©Ëâ≤ÂõæËß£,ÂæàÊ∏ÖÊô∞",
                    effect: { classmateA: 2, biology: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†ÊØîËµõËÉåÂçïËØç,Ëæì‰∫ÜËØ∑Â•∂Ëå∂",
                    effect: { classmateA: 2, english: 1, stress: 2 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 20
                },
                {
                    text: "ÊúãÂèãÁöÑ‰ΩúÊñáÊÄùË∑ØÂêØÂèë‰∫Ü‰Ω†",
                    effect: { classmateA: 3, chinese: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.subjects.chinese >= 15
                },
                {
                    text: "ÊúãÂèãÁöÑÁâ©ÁêÜÈîôÈ¢òÊú¨ÂÄü‰Ω†ÂèÇËÄÉ",
                    effect: { classmateA: 2, physics: 1 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.subjects.physics >= 10
                },
                {
                    text: "ÊúãÂèãÁöÑÊï∞Â≠¶Á´ûËµõÈ¢òËß£Ê≥ïÂæàÂ∑ßÂ¶ô",
                    effect: { classmateA: 3, math: 2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.subjects.math >= 25
                },
                {
                    text: "ÊúãÂèãÁöÑÁîüÁâ©ÂÆûÈ™åÊä•ÂëäÂÜôÂæóËØ¶ÁªÜ",
                    effect: { classmateA: 2, biology: 1 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 35
                },
                {
                    text: "ÊúãÂèãÁöÑËØ≠ÊñáÈòÖËØªÁ¨îËÆ∞ÂæàÊúâËßÅËß£",
                    effect: { classmateA: 2, chinese: 1 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.subjects.chinese >= 20
                },
                {
                    text: "ÊúãÂèãÁöÑËã±ËØ≠Âê¨ÂäõÊäÄÂ∑ßÂæàÂÆûÁî®",
                    effect: { classmateA: 2, english: 1 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "ÊúãÂèãÁöÑÂåñÂ≠¶ÊñπÁ®ãÂºèËÆ∞ÂøÜÊ≥ïÂæàÊúâÊïà",
                    effect: { classmateA: 2, chemistry: 1 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.subjects.chemistry >= 15
                },
                {
                    text: "ÊúãÂèãÁöÑÂéÜÂè≤Êó∂Èó¥ËΩ¥Êï¥ÁêÜÂæóÂæàÊ∏ÖÊô∞",
                    effect: { classmateA: 2, history: 1 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 25
                },
                {
                    text: "ÊúãÂèãÁöÑÂú∞ÁêÜÂú∞ÂõæÂÜåÂÄü‰Ω†Â§ç‰π†",
                    effect: { classmateA: 2, geography: 1 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 30
                },

                {
                    text: "ÊúãÂèãÂàÜ‰∫´‰∫ÜÂñúÊ¨¢ÁöÑÈü≥‰πê,ÂæàÂ•ΩÂê¨",
                    effect: { classmateA: 2, stress: -3 },
                    type: "good",
                    weight: 8,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁ∫¶‰Ω†‰∏ÄËµ∑ÂéªÈ£üÂ†ÇÂêÉÈ•≠",
                    effect: { classmateA: 2, energy: 3 },
                    type: "good",
                    weight: 9,
                    condition: (s) => s.relationships.classmateA >= 20
                },
                {
                    text: "ÊúãÂèãÁöÑÁ¨ëËØùËÆ©‰Ω†Á¨ëÂá∫Â£∞",
                    effect: { classmateA: 2, stress: -5 },
                    type: "good",
                    weight: 7,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÂÄü‰Ω†ÂÖÖÁîµÂÆù,ÊâãÊú∫Ê≤°Áîµ‰∫Ü",
                    effect: { classmateA: 3, stress: -2 },
                    type: "good",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÂ∏Æ‰Ω†Âç†‰∫ÜÂõæ‰π¶È¶ÜÂ∫ß‰Ωç",
                    effect: { classmateA: 3, stress: -3 },
                    type: "good",
                    weight: 7,
                    condition: (s) => s.relationships.classmateA >= 25
                },
                {
                    text: "ÊúãÂèãÁöÑÈõ®‰ºûÂÄü‰Ω†Áî®,‰∏ãÈõ®‰∫Ü",
                    effect: { classmateA: 3, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁöÑÁ∫∏Â∑æÂÄü‰Ω†Áî®,Êâì‰∫Ü‰∏™Âñ∑Âöè",
                    effect: { classmateA: 2, stress: -1 },
                    type: "good",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁöÑÂàõÂèØË¥¥ÂÄü‰Ω†Áî®,Êì¶‰º§‰∫Ü",
                    effect: { classmateA: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁöÑÊ©°ÁöÆÂÄü‰Ω†Áî®,Á¨îÊ≤°Â¢®‰∫Ü",
                    effect: { classmateA: 2, stress: -1 },
                    type: "good",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁöÑ‰øÆÊ≠£Â∏¶ÂÄü‰Ω†Áî®,ÂÜôÈîô‰∫Ü",
                    effect: { classmateA: 2, stress: -1 },
                    type: "good",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁöÑÂ∞∫Â≠êÂÄü‰Ω†Áî®,ÁîªÂõæÈúÄË¶Å",
                    effect: { classmateA: 2, stress: -1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁöÑÂúÜËßÑÂÄü‰Ω†Áî®,Âá†‰ΩïÈ¢òÈúÄË¶Å",
                    effect: { classmateA: 2, stress: -1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁöÑÈáèËßíÂô®ÂÄü‰Ω†Áî®,ËßíÂ∫¶ÊµãÈáè",
                    effect: { classmateA: 2, stress: -1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁöÑËÆ°ÁÆóÂô®ÂÄü‰Ω†Áî®,Â§çÊùÇËÆ°ÁÆó",
                    effect: { classmateA: 2, stress: -1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁöÑËçßÂÖâÁ¨îÂÄü‰Ω†Áî®,ÂàíÈáçÁÇπ",
                    effect: { classmateA: 2, stress: -1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁöÑ‰æøÂà©Ë¥¥ÂÄü‰Ω†Áî®,ËÆ∞‰∏¥Êó∂‰∫ãÈ°π",
                    effect: { classmateA: 2, stress: -1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁöÑËÆ¢‰π¶Êú∫ÂÄü‰Ω†Áî®,Êï¥ÁêÜËµÑÊñô",
                    effect: { classmateA: 2, stress: -1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁöÑÊâìÂ≠îÂô®ÂÄü‰Ω†Áî®,ÂÅöÁ¨îËÆ∞",
                    effect: { classmateA: 2, stress: -1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁöÑÊñá‰ª∂Â§πÂÄü‰Ω†Áî®,ÂàÜÁ±ªËØïÂç∑",
                    effect: { classmateA: 2, stress: -1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁöÑ‰π¶Á´ãÂÄü‰Ω†Áî®,Êï¥ÁêÜ‰π¶Êú¨",
                    effect: { classmateA: 2, stress: -1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },

                {
                    text: "ÊúãÂèãÂú®‰Ω†‰ΩéËêΩÊó∂ÂÆâÊÖ∞‰Ω†",
                    effect: { classmateA: 4, stress: -8, mental: 2 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.stress > 40
                },
                {
                    text: "ÊúãÂèã‰∏∫‰Ω†Â∫ÜÁ•ùÁîüÊó•,ÈÄÅ‰∫ÜÂ∞èÁ§ºÁâ©",
                    effect: { classmateA: 5, stress: -5, energy: 3 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 50
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ËÄÉËØïÂ§±Âà©Êó∂ÈºìÂä±‰Ω†",
                    effect: { classmateA: 3, stress: -5, mental: 1 },
                    type: "good",
                    weight: 7,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "ÊúãÂèãÂàÜ‰∫´‰∫ÜËá™Â∑±ÁöÑÁÉ¶ÊÅº,‰Ω†ÂÄæÂê¨‰∫Ü",
                    effect: { classmateA: 3, stress: 2 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 40
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë¢´ÊâπËØÑÊó∂‰∏∫‰Ω†Ëæ©Êä§",
                    effect: { classmateA: 5, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 45
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÁîüÁóÖÊó∂ÂèëÊ∂àÊÅØÂÖ≥ÂøÉ",
                    effect: { classmateA: 3, stress: -2 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.health < 80
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÁÜ¨Â§úÊó∂ÊèêÈÜí‰Ω†Êó©ÁÇπ‰ºëÊÅØ",
                    effect: { classmateA: 2, stress: -1 },
                    type: "good",
                    weight: 7,
                    condition: (s) => s.energy < 50
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÂéãÂäõÂ§ßÊó∂Èô™‰Ω†Êï£Ê≠•",
                    effect: { classmateA: 3, stress: -6, energy: 2 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.stress > 50
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ëø∑Ëå´Êó∂Áªô‰Ω†Âª∫ËÆÆ",
                    effect: { classmateA: 3, stress: -3, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 35
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÊàêÂäüÊó∂ÁúüÂøÉ‰∏∫‰Ω†È´òÂÖ¥",
                    effect: { classmateA: 4, stress: -3, energy: 2 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 40
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Â§±Ë¥•Êó∂ËØ¥'‰∏ãÊ¨°‰ºöÊõ¥Â•Ω'",
                    effect: { classmateA: 3, stress: -4, mental: 1 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Â≠§Áã¨Êó∂Èô™‰Ω†ËÅäÂ§©",
                    effect: { classmateA: 3, stress: -4, mental: 1 },
                    type: "good",
                    weight: 7,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÁÑ¶ËôëÊó∂Êïô‰Ω†Ê∑±ÂëºÂê∏",
                    effect: { classmateA: 2, stress: -5, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.stress > 45
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Â§±Áú†Êó∂ÂàÜ‰∫´Âä©Áú†Èü≥‰πê",
                    effect: { classmateA: 2, stress: -3, energy: 2 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.energy < 40
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†È••È•øÊó∂ÂàÜ‰Ω†Èõ∂È£ü",
                    effect: { classmateA: 2, energy: 3, stress: -2 },
                    type: "good",
                    weight: 8,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Âè£Ê∏¥Êó∂ÂàÜ‰Ω†Ê∞¥",
                    effect: { classmateA: 2, energy: 2, stress: -1 },
                    type: "good",
                    weight: 8,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÂÜ∑Êó∂ÂÄü‰Ω†Â§ñÂ•ó",
                    effect: { classmateA: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÁÉ≠Êó∂ÂÄü‰Ω†ÊâáÂ≠ê",
                    effect: { classmateA: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Âõ∞Êó∂ÂÄü‰Ω†È£éÊ≤πÁ≤æ",
                    effect: { classmateA: 2, energy: 2, stress: -1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Â§¥ÁñºÊó∂ÂÄü‰Ω†Ê≠¢ÁóõËçØ",
                    effect: { classmateA: 2, stress: -3 },
                    type: "good",
                    weight: 4,
                    condition: (s) => true
                },

                {
                    text: "ÊúãÂèãËØØ‰ºö‰Ω†,ËØ¥‰∫ÜÊ∞îËØù",
                    effect: { classmateA: -5, stress: 8 },
                    type: "bad",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "‰Ω†ÂíåÊúãÂèãÂõ†‰∏∫Â∞è‰∫ã‰∫âÂêµ",
                    effect: { classmateA: -3, stress: 5 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 20
                },
                {
                    text: "ÊúãÂèãÁöÑÁé©Á¨ëÂºÄËøá‰∫Ü,‰Ω†ÊÑüÂà∞‰∏çËàíÊúç",
                    effect: { classmateA: -2, stress: 3 },
                    type: "bad",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 25
                },
                {
                    text: "ÊúãÂèãÂøòËÆ∞Á≠îÂ∫î‰Ω†ÁöÑ‰∫ã,‰Ω†ÊúâÁÇπÂ§±Êúõ",
                    effect: { classmateA: -2, stress: 2 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "‰Ω†ÂíåÊúãÂèãÁ´û‰∫âÂêå‰∏Ä‰∏™Â•ñÈ°π,Ê∞îÊ∞õÁ¥ßÂº†",
                    effect: { classmateA: -3, stress: 5 },
                    type: "bad",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 40
                },
                {
                    text: "ÊúãÂèãÂú®ËÉåÂêéËØ¥‰Ω†ÂùèËØù,Ë¢´‰Ω†Âê¨Âà∞",
                    effect: { classmateA: -8, stress: 10, mental: -2 },
                    type: "bad",
                    weight: 3,
                    condition: (s) => s.relationships.classmateA >= 35
                },
                {
                    text: "‰Ω†ÂíåÊúãÂèãÂõ†‰∏∫ËßÇÁÇπ‰∏çÂêåËÄå‰∫âËÆ∫",
                    effect: { classmateA: -2, stress: 4 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 25
                },
                {
                    text: "ÊúãÂèãÂÄü‰Ω†Èí±Âç¥ËøüËøü‰∏çËøò",
                    effect: { classmateA: -4, stress: 5, money: -50 },
                    type: "bad",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 40
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÂøôÊó∂ÊâìÊâ∞‰Ω†,‰Ω†ÊúâÁÇπÁÉ¶Ë∫Å",
                    effect: { classmateA: -1, stress: 3 },
                    type: "bad",
                    weight: 7,
                    condition: (s) => s.relationships.classmateA >= 20
                },
                {
                    text: "ÊúãÂèãÁöÑÊâøËØ∫Ê≤°ÂÅöÂà∞,‰Ω†ÊÑüÂà∞Â§±Êúõ",
                    effect: { classmateA: -3, stress: 4 },
                    type: "bad",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "‰Ω†ÂíåÊúãÂèãÂÜ∑Êàò‰∫Ü,‰∫í‰∏çÁêÜÁù¨",
                    effect: { classmateA: -5, stress: 6, mental: -1 },
                    type: "bad",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 35
                },
                {
                    text: "ÊúãÂèãÂêë‰Ω†ÈÅìÊ≠â,ÊâøËÆ§ÈîôËØØ",
                    effect: { classmateA: 4, stress: -3 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 20
                },
                {
                    text: "‰Ω†‰∏ªÂä®ÂíåÊúãÂèãÂíåËß£,ÂÖ≥Á≥ª‰øÆÂ§ç",
                    effect: { classmateA: 5, stress: -5, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 10
                },
                {
                    text: "ÊúãÂèãÈÄÅ‰Ω†Â∞èÁ§ºÁâ©Ë°®Á§∫Ê≠âÊÑè",
                    effect: { classmateA: 4, stress: -4 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 25
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÁîüÊó•Êó∂‰∏ªÂä®ÂíåÂ•Ω",
                    effect: { classmateA: 6, stress: -6 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.relationships.classmateA >= 15
                },

                {
                    text: "ÊúãÂèãÈÇÄËØ∑‰Ω†ÂèÇÂä†Áè≠Á∫ßÁØÆÁêÉËµõ",
                    effect: { classmateA: 3, energy: -5, stress: 2 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ÂèÇÂä†Á§æÂõ¢Ê¥ªÂä®",
                    effect: { classmateA: 3, energy: -3, stress: -2 },
                    type: "good",
                    weight: 7,
                    condition: (s) => s.relationships.classmateA >= 25
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†ÁªÑÈòüÂèÇÂä†Áü•ËØÜÁ´ûËµõ",
                    effect: { classmateA: 4, stress: 5, energy: -3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 35
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ÊéíÁªÉÊñáËâ∫Ê±áÊºî",
                    effect: { classmateA: 3, stress: 3, energy: -4 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ÂÅöÂøóÊÑøËÄÖÊ¥ªÂä®",
                    effect: { classmateA: 4, stress: -3, energy: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 40
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ÂáÜÂ§áÁè≠Á∫ßÈªëÊùøÊä•",
                    effect: { classmateA: 3, stress: 2, energy: -3 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 25
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ÂèÇÂä†ËøêÂä®‰ºö",
                    effect: { classmateA: 3, energy: -8, stress: 2 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ÂáÜÂ§áÊºîËÆ≤ÊØîËµõ",
                    effect: { classmateA: 4, stress: 5, energy: -4 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 35
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑Á≠ñÂàíÁè≠Á∫ßÊ¥ªÂä®",
                    effect: { classmateA: 3, stress: 3, energy: -3 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ÂèÇÂä†Ëæ©ËÆ∫Ëµõ",
                    effect: { classmateA: 4, stress: 6, energy: -5 },
                    type: "neutral",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 40
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ÂèÇÂä†ÂêàÂî±ÊØîËµõ",
                    effect: { classmateA: 3, stress: 2, energy: -3 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 25
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ÂèÇÂä†ÁæéÊúØÂ±ïËßà",
                    effect: { classmateA: 3, stress: -2, energy: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ÂèÇÂä†ÁßëÊäÄÂà∂‰Ωú",
                    effect: { classmateA: 4, stress: 3, energy: -4 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 35
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ÂèÇÂä†Êï∞Â≠¶Âª∫Ê®°",
                    effect: { classmateA: 4, stress: 5, energy: -5 },
                    type: "neutral",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 40
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ÂèÇÂä†Áâ©ÁêÜÂÆûÈ™åÁ´ûËµõ",
                    effect: { classmateA: 4, stress: 4, energy: -4 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 35
                },

                {
                    text: "ÊúãÂèãÂú®‰Ω†ËΩ¨Â≠¶Êó∂ÈÄÅ‰Ω†Á∫™ÂøµÂÜå",
                    effect: { classmateA: 6, stress: -5, mental: 2 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.relationships.classmateA >= 50
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÊØï‰∏öÊó∂ÈÄÅ‰Ω†ÊØï‰∏öÁ§ºÁâ©",
                    effect: { classmateA: 5, stress: -3, energy: 2 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.week >= 12
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ëé∑Â•ñÊó∂Á¨¨‰∏Ä‰∏™Á•ùË¥∫‰Ω†",
                    effect: { classmateA: 4, stress: -4, energy: 3 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 35
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ËêΩÈÄâÊó∂ÂÆâÊÖ∞‰Ω†",
                    effect: { classmateA: 4, stress: -6, mental: 1 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÁîüÁóÖÊó∂Â∏Æ‰Ω†ËØ∑ÂÅá",
                    effect: { classmateA: 5, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.health < 70
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÂøòÂ∏¶‰Ωú‰∏öÊó∂Â∏Æ‰Ω†Ëß£Èáä",
                    effect: { classmateA: 3, stress: -2 },
                    type: "good",
                    weight: 7,
                    condition: (s) => s.relationships.classmateA >= 25
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ËøüÂà∞Êó∂Â∏Æ‰Ω†ÊâìÊé©Êä§",
                    effect: { classmateA: 3, stress: -3 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë¢´ËÄÅÂ∏àËØØ‰ºöÊó∂‰∏∫‰Ω†‰ΩúËØÅ",
                    effect: { classmateA: 5, stress: -5 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 40
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë¢´ÊâπËØÑÊó∂‰∏∫‰Ω†ËØ¥ËØù",
                    effect: { classmateA: 4, stress: -4 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 35
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë¢´Â≠§Á´ãÊó∂‰∏ªÂä®Êé•Ëøë‰Ω†",
                    effect: { classmateA: 6, stress: -8, mental: 2 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 20
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë¢´Ê¨∫Ë¥üÊó∂Á´ôÂá∫Êù•‰øùÊä§‰Ω†",
                    effect: { classmateA: 7, stress: -6, mental: 3 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.relationships.classmateA >= 45
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë¢´Âò≤Á¨ëÊó∂‰∏∫‰Ω†Ëæ©Êä§",
                    effect: { classmateA: 5, stress: -5, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 35
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë¢´ËØØËß£Êó∂‰∏∫‰Ω†ÊæÑÊ∏Ö",
                    effect: { classmateA: 4, stress: -4 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë¢´ÂøΩËßÜÊó∂Ê≥®ÊÑèÂà∞‰Ω†",
                    effect: { classmateA: 3, stress: -3, mental: 1 },
                    type: "good",
                    weight: 7,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë¢´ÂÜ∑ËêΩÊó∂ÈÇÄËØ∑‰Ω†Âä†ÂÖ•",
                    effect: { classmateA: 4, stress: -4, mental: 1 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 25
                },

                {
                    text: "ÊúãÂèãÂíå‰Ω†Á´û‰∫âÂêå‰∏Ä‰∏™ÊéíÂêç,ÂéãÂäõÂæàÂ§ß",
                    effect: { classmateA: -2, stress: 5 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "ÊúãÂèãÁöÑÊàêÁª©Ë∂ÖËøá‰Ω†,‰Ω†ÊÑüÂà∞Â§±ËêΩ",
                    effect: { classmateA: -1, stress: 4, mental: -1 },
                    type: "bad",
                    weight: 7,
                    condition: (s) => s.relationships.classmateA >= 35
                },
                {
                    text: "ÊúãÂèãÁöÑËß£È¢òÈÄüÂ∫¶ÊØî‰Ω†Âø´,‰Ω†ÊúâÁÇπÁùÄÊÄ•",
                    effect: { classmateA: -1, stress: 3 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 25
                },
                {
                    text: "ÊúãÂèãÁöÑÁ¨îËÆ∞ÊØî‰Ω†ËØ¶ÁªÜ,‰Ω†ÊÑüÂà∞ÂéãÂäõ",
                    effect: { classmateA: -1, stress: 2 },
                    type: "bad",
                    weight: 7,
                    condition: (s) => s.relationships.classmateA >= 20
                },
                {
                    text: "ÊúãÂèãÁöÑÂ§ç‰π†ËøõÂ∫¶ÊØî‰Ω†Âø´,‰Ω†ÊúâÁÇπÁÑ¶Ëôë",
                    effect: { classmateA: -1, stress: 3 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 25
                },
                {
                    text: "ÊúãÂèãÁöÑÈîôÈ¢òÊú¨ÊØî‰Ω†Âéö,‰Ω†ÊÑüÂà∞ÂéãÂäõ",
                    effect: { classmateA: -1, stress: 2 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 20
                },
                {
                    text: "ÊúãÂèãÁöÑÂ§ç‰π†Êó∂Èó¥ÊØî‰Ω†Èïø,‰Ω†ÊúâÁÇπÁùÄÊÄ•",
                    effect: { classmateA: -1, stress: 3 },
                    type: "bad",
                    weight: 7,
                    condition: (s) => s.relationships.classmateA >= 25
                },
                {
                    text: "ÊúãÂèãÁöÑÊ®°ÊãüËÄÉÂàÜÊï∞ÊØî‰Ω†È´ò,‰Ω†ÊÑüÂà∞Â§±ËêΩ",
                    effect: { classmateA: -2, stress: 4, mental: -1 },
                    type: "bad",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 35
                },
                {
                    text: "ÊúãÂèãÁöÑËß£È¢òÊñπÊ≥ïÊØî‰Ω†Â∑ßÂ¶ô,‰Ω†ÊúâÁÇπÊ≤Æ‰∏ß",
                    effect: { classmateA: -1, stress: 3 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "ÊúãÂèãÁöÑÂ§ç‰π†ÊïàÁéáÊØî‰Ω†È´ò,‰Ω†ÊÑüÂà∞ÂéãÂäõ",
                    effect: { classmateA: -1, stress: 3 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 25
                },

                {
                    text: "ÊúãÂèãÂíå‰Ω†ÂàÜ‰∫´‰∫ÜÁßòÂØÜ",
                    effect: { classmateA: 5, stress: -2, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 45
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†ËÅäÂà∞Ê∑±Â§ú,ÂÖ≥Á≥ªÊõ¥Ëøë",
                    effect: { classmateA: 4, energy: -5, stress: -3 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 40
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ËßÑÂàíÊú™Êù•",
                    effect: { classmateA: 4, stress: -2, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 50
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†Á∫¶ÂÆöËÄÉ‰∏äÂêå‰∏ÄÊâÄÂ§ßÂ≠¶",
                    effect: { classmateA: 6, stress: 5, energy: 3 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.relationships.classmateA >= 55
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†Êàê‰∏∫ÊúÄÂ•ΩÁöÑÊúãÂèã",
                    effect: { classmateA: 8, stress: -5, mental: 2 },
                    type: "good",
                    weight: 2,
                    condition: (s) => s.relationships.classmateA >= 60
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÁîüÊó•Êó∂‰∏∫‰Ω†ÂáÜÂ§áÊÉäÂñú",
                    effect: { classmateA: 6, stress: -8, energy: 3 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.relationships.classmateA >= 50
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÈáçË¶ÅÊó∂ÂàªÈô™‰º¥‰Ω†",
                    effect: { classmateA: 5, stress: -5, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 45
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÈúÄË¶ÅÊó∂ÊÄªÊòØÂá∫Áé∞",
                    effect: { classmateA: 4, stress: -4, mental: 1 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 40
                },
                {
                    text: "ÊúãÂèãÁöÑÁêÜËß£ËÆ©‰Ω†ÊÑüÂà∞Ê∏©Êöñ",
                    effect: { classmateA: 3, stress: -3, mental: 1 },
                    type: "good",
                    weight: 7,
                    condition: (s) => s.relationships.classmateA >= 35
                },
                {
                    text: "ÊúãÂèãÁöÑ‰ø°‰ªªËÆ©‰Ω†ÊÑüÂà∞Ë¥£‰ªª",
                    effect: { classmateA: 3, stress: 2, mental: 1 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 40
                },

                {
                    text: "ÊúãÂèãÂú®‰Ω†Âõ∞ÈöæÊó∂ÁäπË±´ÊòØÂê¶Â∏ÆÂøô",
                    effect: { classmateA: -3, stress: 4 },
                    type: "bad",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ê±ÇÂä©Êó∂ÊâæÂÄüÂè£Êé®ËÑ±",
                    effect: { classmateA: -4, stress: 5 },
                    type: "bad",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 35
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÊàêÂäüÊó∂Ë°®Áé∞Âá∫Â´âÂ¶í",
                    effect: { classmateA: -3, stress: 3, mental: -1 },
                    type: "bad",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 40
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Â§±Ë¥•Êó∂Ë°®Áé∞Âá∫ËΩªËßÜ",
                    effect: { classmateA: -4, stress: 5, mental: -1 },
                    type: "bad",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 35
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Èù¢ÂâçÁÇ´ËÄÄÊàêÁª©",
                    effect: { classmateA: -2, stress: 3 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Èù¢ÂâçË¥¨‰Ωé‰Ω†ÁöÑÂä™Âäõ",
                    effect: { classmateA: -3, stress: 4, mental: -1 },
                    type: "bad",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 35
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Èù¢Ââç‰º†Êí≠‰Ω†ÁöÑË∞£Ë®Ä",
                    effect: { classmateA: -6, stress: 8, mental: -2 },
                    type: "bad",
                    weight: 3,
                    condition: (s) => s.relationships.classmateA >= 40
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ËÉåÂêéËØ¥‰Ω†ÁöÑÂùèËØù",
                    effect: { classmateA: -5, stress: 6, mental: -1 },
                    type: "bad",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 35
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†‰∏çÁü•ÊÉÖÊó∂Âà©Áî®‰Ω†",
                    effect: { classmateA: -7, stress: 7, mental: -2 },
                    type: "bad",
                    weight: 3,
                    condition: (s) => s.relationships.classmateA >= 45
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†‰ø°‰ªªÊó∂ËÉåÂèõ‰Ω†",
                    effect: { classmateA: -8, stress: 10, mental: -3 },
                    type: "bad",
                    weight: 2,
                    condition: (s) => s.relationships.classmateA >= 50
                },


                {
                    text: "ÊúãÂèã‰∏ªÂä®Êâæ‰Ω†Ë∞àÂøÉ,ÂåñËß£ËØØ‰ºö",
                    effect: { classmateA: 5, stress: -5, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 20
                },
                {
                    text: "ÊúãÂèãÂÜô‰ø°Âêë‰Ω†ÈÅìÊ≠â,ÊÉÖÁúüÊÑèÂàá",
                    effect: { classmateA: 6, stress: -6, mental: 1 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 25
                },
                {
                    text: "ÊúãÂèãÈÄÅ‰Ω†‰∫≤ÊâãÂÅöÁöÑÁ§ºÁâ©Ë°®Á§∫Ê≠âÊÑè",
                    effect: { classmateA: 5, stress: -4 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 30
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÁîüÊó•Êó∂‰∏ªÂä®ÂíåÂ•Ω",
                    effect: { classmateA: 7, stress: -7 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.relationships.classmateA >= 15
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Âõ∞ÈöæÊó∂‰º∏Âá∫Êè¥Êâã,ÂÖ≥Á≥ª‰øÆÂ§ç",
                    effect: { classmateA: 6, stress: -5, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 20
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÊàêÂäüÊó∂ÁúüÂøÉÁ•ùË¥∫,ÂÜ∞ÈáäÂâçÂ´å",
                    effect: { classmateA: 5, stress: -4 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 25
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Â§±Ë¥•Êó∂ÂÆâÊÖ∞‰Ω†,ÈáçÂΩí‰∫éÂ•Ω",
                    effect: { classmateA: 5, stress: -6, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 20
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë¢´ÊâπËØÑÊó∂‰∏∫‰Ω†ËØ¥ËØù,ÂÖ≥Á≥ªÁºìÂíå",
                    effect: { classmateA: 4, stress: -3 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 25
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë¢´Â≠§Á´ãÊó∂Êé•Ëøë‰Ω†,ÂèãË∞äÈáçÂª∫",
                    effect: { classmateA: 6, stress: -5, mental: 1 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 15
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë¢´Ê¨∫Ë¥üÊó∂‰øùÊä§‰Ω†,ÂèãË∞äÂä†Ê∑±",
                    effect: { classmateA: 7, stress: -6, mental: 2 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.relationships.classmateA >= 30
                },


                {
                    text: "ÊúãÂèãÂú®‰Ω†ÊúÄÈúÄË¶ÅÊó∂Âá∫Áé∞,Êàê‰∏∫Áü•Â∑±",
                    effect: { classmateA: 8, stress: -8, mental: 3 },
                    type: "good",
                    weight: 2,
                    condition: (s) => s.relationships.classmateA >= 55
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ëø∑Ëå´Êó∂ÊåáÂºï‰Ω†,Êàê‰∏∫ÂØºÂ∏à",
                    effect: { classmateA: 6, stress: -5, mental: 2 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.relationships.classmateA >= 50
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë∑åÂÄíÊó∂Êâ∂Ëµ∑‰Ω†,Êàê‰∏∫‰æùÈù†",
                    effect: { classmateA: 7, stress: -7, mental: 2 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.relationships.classmateA >= 55
                }, {
                    text: "ÊúãÂèãÁöÑÂú∞ÁêÜÂú∞ÂõæÂÜåÂÄü‰Ω†Â§ç‰π†,ÁîªÊª°‰∫ÜÈáçÁÇπ",
                    effect: { classmateB: 3, geography: 1, stress: -2 },
                    type: "good",
                    weight: 7,
                    condition: (s) => s.relationships.classmateB >= 30
                },
                {
                    text: "ÊúãÂèãÁöÑÂéÜÂè≤Êó∂Èó¥ËΩ¥Êï¥ÁêÜÂæóÈùûÂ∏∏Ê∏ÖÊô∞",
                    effect: { classmateB: 2, history: 1 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 25
                },
                {
                    text: "ÊúãÂèãÁöÑËØ≠ÊñáÈòÖËØªÁêÜËß£ÊäÄÂ∑ßÂæàÂÆûÁî®",
                    effect: { classmateB: 2, chinese: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.subjects.chinese >= 15
                },
                {
                    text: "ÊúãÂèãÁöÑËã±ËØ≠‰ΩúÊñáÊ®°ÊùøÂÄü‰Ω†ÂèÇËÄÉ",
                    effect: { classmateB: 3, english: 1 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 35
                },
                {
                    text: "ÊúãÂèãÁöÑÂåñÂ≠¶ÂÆûÈ™åÊä•ÂëäÂÜôÂæóËØ¶ÁªÜ",
                    effect: { classmateB: 2, chemistry: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.subjects.chemistry >= 10
                },
                {
                    text: "ÊúãÂèãÁöÑÁîüÁâ©Á¨îËÆ∞ÊúâÊâãÁªòÂõæËß£",
                    effect: { classmateB: 2, biology: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 30
                },
                {
                    text: "ÊúãÂèãÁöÑÁâ©ÁêÜÈîôÈ¢òÊú¨ÂÄü‰Ω†ÂèÇËÄÉ",
                    effect: { classmateB: 2, physics: 1 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.subjects.physics >= 10
                },
                {
                    text: "ÊúãÂèãÁöÑÊï∞Â≠¶Á´ûËµõÈ¢òËß£Ê≥ïÂæàÂ∑ßÂ¶ô",
                    effect: { classmateB: 3, math: 2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.subjects.math >= 25
                },
                {
                    text: "ÊúãÂèãÁöÑËã±ËØ≠Âê¨ÂäõÊäÄÂ∑ßÂæàÂÆûÁî®",
                    effect: { classmateB: 2, english: 1 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateB >= 30
                },
                {
                    text: "ÊúãÂèãÁöÑËØ≠Êñá‰ΩúÊñáÊÄùË∑ØÂêØÂèë‰∫Ü‰Ω†",
                    effect: { classmateB: 3, chinese: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.subjects.chinese >= 20
                },

                {
                    text: "ÊúãÂèãÂàÜ‰∫´‰∫ÜÂñúÊ¨¢ÁöÑÁîµÂΩ±,ÂæàÂ•ΩÁúã",
                    effect: { classmateB: 2, stress: -3 },
                    type: "good",
                    weight: 8,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁ∫¶‰Ω†‰∏ÄËµ∑ÂéªÂõæ‰π¶È¶ÜËá™‰π†",
                    effect: { classmateB: 2, energy: -2, stress: -1 },
                    type: "good",
                    weight: 9,
                    condition: (s) => s.relationships.classmateB >= 20
                },
                {
                    text: "ÊúãÂèãÁöÑÂÜ∑Á¨ëËØùËÆ©‰Ω†Á¨ëÂá∫Â£∞",
                    effect: { classmateB: 2, stress: -5 },
                    type: "good",
                    weight: 7,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÂÄü‰Ω†ÂÖÖÁîµÂÆù,ÊâãÊú∫Ê≤°Áîµ‰∫Ü",
                    effect: { classmateB: 3, stress: -2 },
                    type: "good",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÂ∏Æ‰Ω†Âç†‰∫ÜËá™‰π†ÂÆ§Â∫ß‰Ωç",
                    effect: { classmateB: 3, stress: -3 },
                    type: "good",
                    weight: 7,
                    condition: (s) => s.relationships.classmateB >= 25
                },
                {
                    text: "ÊúãÂèãÁöÑÈõ®‰ºûÂÄü‰Ω†Áî®,‰∏ãÈõ®‰∫Ü",
                    effect: { classmateB: 3, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁöÑÁ∫∏Â∑æÂÄü‰Ω†Áî®,Êâì‰∫Ü‰∏™Âñ∑Âöè",
                    effect: { classmateB: 2, stress: -1 },
                    type: "good",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁöÑÂàõÂèØË¥¥ÂÄü‰Ω†Áî®,Êì¶‰º§‰∫Ü",
                    effect: { classmateB: 2, stress: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁöÑÊ©°ÁöÆÂÄü‰Ω†Áî®,Á¨îÊ≤°Â¢®‰∫Ü",
                    effect: { classmateB: 2, stress: -1 },
                    type: "good",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÁöÑ‰øÆÊ≠£Â∏¶ÂÄü‰Ω†Áî®,ÂÜôÈîô‰∫Ü",
                    effect: { classmateB: 2, stress: -1 },
                    type: "good",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†‰ΩéËêΩÊó∂ÂÆâÊÖ∞‰Ω†",
                    effect: { classmateB: 4, stress: -8, mental: 2 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.stress > 40
                },
                {
                    text: "ÊúãÂèã‰∏∫‰Ω†Â∫ÜÁ•ùÁîüÊó•,ÈÄÅ‰∫ÜÂ∞èÁ§ºÁâ©",
                    effect: { classmateB: 5, stress: -5, energy: 3 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateB >= 50
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ËÄÉËØïÂ§±Âà©Êó∂ÈºìÂä±‰Ω†",
                    effect: { classmateB: 3, stress: -5, mental: 1 },
                    type: "good",
                    weight: 7,
                    condition: (s) => s.relationships.classmateB >= 30
                },
                {
                    text: "ÊúãÂèãÂàÜ‰∫´‰∫ÜËá™Â∑±ÁöÑÁÉ¶ÊÅº,‰Ω†ÂÄæÂê¨‰∫Ü",
                    effect: { classmateB: 3, stress: 2 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 40
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë¢´ÊâπËØÑÊó∂‰∏∫‰Ω†Ëæ©Êä§",
                    effect: { classmateB: 5, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 45
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÁîüÁóÖÊó∂ÂèëÊ∂àÊÅØÂÖ≥ÂøÉ",
                    effect: { classmateB: 3, stress: -2 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.health < 80
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÁÜ¨Â§úÊó∂ÊèêÈÜí‰Ω†Êó©ÁÇπ‰ºëÊÅØ",
                    effect: { classmateB: 2, stress: -1 },
                    type: "good",
                    weight: 7,
                    condition: (s) => s.energy < 50
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÂéãÂäõÂ§ßÊó∂Èô™‰Ω†Êï£Ê≠•",
                    effect: { classmateB: 3, stress: -6, energy: 2 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.stress > 50
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ëø∑Ëå´Êó∂Áªô‰Ω†Âª∫ËÆÆ",
                    effect: { classmateB: 3, stress: -3, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 35
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÊàêÂäüÊó∂ÁúüÂøÉ‰∏∫‰Ω†È´òÂÖ¥",
                    effect: { classmateB: 4, stress: -3, energy: 2 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 40
                },
                {
                    text: "ÊúãÂèãËØØ‰ºö‰Ω†,ËØ¥‰∫ÜÊ∞îËØù",
                    effect: { classmateB: -5, stress: 8 },
                    type: "bad",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 30
                },
                {
                    text: "‰Ω†ÂíåÊúãÂèãÂõ†‰∏∫Â∞è‰∫ã‰∫âÂêµ",
                    effect: { classmateB: -3, stress: 5 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 20
                },
                {
                    text: "ÊúãÂèãÁöÑÁé©Á¨ëÂºÄËøá‰∫Ü,‰Ω†ÊÑüÂà∞‰∏çËàíÊúç",
                    effect: { classmateB: -2, stress: 3 },
                    type: "bad",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 25
                },
                {
                    text: "ÊúãÂèãÂøòËÆ∞Á≠îÂ∫î‰Ω†ÁöÑ‰∫ã,‰Ω†ÊúâÁÇπÂ§±Êúõ",
                    effect: { classmateB: -2, stress: 2 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 30
                },
                {
                    text: "‰Ω†ÂíåÊúãÂèãÁ´û‰∫âÂêå‰∏Ä‰∏™Â•ñÈ°π,Ê∞îÊ∞õÁ¥ßÂº†",
                    effect: { classmateB: -3, stress: 5 },
                    type: "bad",
                    weight: 4,
                    condition: (s) => s.relationships.classmateB >= 40
                },
                {
                    text: "ÊúãÂèãÂú®ËÉåÂêéËØ¥‰Ω†ÂùèËØù,Ë¢´‰Ω†Âê¨Âà∞",
                    effect: { classmateB: -8, stress: 10, mental: -2 },
                    type: "bad",
                    weight: 3,
                    condition: (s) => s.relationships.classmateB >= 35
                },
                {
                    text: "‰Ω†ÂíåÊúãÂèãÂõ†‰∏∫ËßÇÁÇπ‰∏çÂêåËÄå‰∫âËÆ∫",
                    effect: { classmateB: -2, stress: 4 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 25
                },
                {
                    text: "ÊúãÂèãÂÄü‰Ω†Èí±Âç¥ËøüËøü‰∏çËøò",
                    effect: { classmateB: -4, stress: 5, money: -50 },
                    type: "bad",
                    weight: 4,
                    condition: (s) => s.relationships.classmateB >= 40
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÂøôÊó∂ÊâìÊâ∞‰Ω†,‰Ω†ÊúâÁÇπÁÉ¶Ë∫Å",
                    effect: { classmateB: -1, stress: 3 },
                    type: "bad",
                    weight: 7,
                    condition: (s) => s.relationships.classmateB >= 20
                },
                {
                    text: "ÊúãÂèãÁöÑÊâøËØ∫Ê≤°ÂÅöÂà∞,‰Ω†ÊÑüÂà∞Â§±Êúõ",
                    effect: { classmateB: -3, stress: 4 },
                    type: "bad",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 30
                },
                {
                    text: "ÊúãÂèãÈÇÄËØ∑‰Ω†ÂèÇÂä†Áè≠Á∫ßÁØÆÁêÉËµõ",
                    effect: { classmateB: 3, energy: -5, stress: 2 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 30
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ÂèÇÂä†Á§æÂõ¢Ê¥ªÂä®",
                    effect: { classmateB: 3, energy: -3, stress: -2 },
                    type: "good",
                    weight: 7,
                    condition: (s) => s.relationships.classmateB >= 25
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†ÁªÑÈòüÂèÇÂä†Áü•ËØÜÁ´ûËµõ",
                    effect: { classmateB: 4, stress: 5, energy: -3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 35
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ÊéíÁªÉÊñáËâ∫Ê±áÊºî",
                    effect: { classmateB: 3, stress: 3, energy: -4 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 30
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ÂÅöÂøóÊÑøËÄÖÊ¥ªÂä®",
                    effect: { classmateB: 4, stress: -3, energy: -2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 40
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ÂáÜÂ§áÁè≠Á∫ßÈªëÊùøÊä•",
                    effect: { classmateB: 3, stress: 2, energy: -3 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 25
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ÂèÇÂä†ËøêÂä®‰ºö",
                    effect: { classmateB: 3, energy: -8, stress: 2 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 30
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ÂáÜÂ§áÊºîËÆ≤ÊØîËµõ",
                    effect: { classmateB: 4, stress: 5, energy: -4 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 35
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑Á≠ñÂàíÁè≠Á∫ßÊ¥ªÂä®",
                    effect: { classmateB: 3, stress: 3, energy: -3 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 30
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ÂèÇÂä†Ëæ©ËÆ∫Ëµõ",
                    effect: { classmateB: 4, stress: 6, energy: -5 },
                    type: "neutral",
                    weight: 4,
                    condition: (s) => s.relationships.classmateB >= 40
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ËΩ¨Â≠¶Êó∂ÈÄÅ‰Ω†Á∫™ÂøµÂÜå",
                    effect: { classmateB: 6, stress: -5, mental: 2 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.relationships.classmateB >= 50
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÊØï‰∏öÊó∂ÈÄÅ‰Ω†ÊØï‰∏öÁ§ºÁâ©",
                    effect: { classmateB: 5, stress: -3, energy: 2 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.week >= 12
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ëé∑Â•ñÊó∂Á¨¨‰∏Ä‰∏™Á•ùË¥∫‰Ω†",
                    effect: { classmateB: 4, stress: -4, energy: 3 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 35
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ËêΩÈÄâÊó∂ÂÆâÊÖ∞‰Ω†",
                    effect: { classmateB: 4, stress: -6, mental: 1 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 30
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÁîüÁóÖÊó∂Â∏Æ‰Ω†ËØ∑ÂÅá",
                    effect: { classmateB: 5, stress: -3 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.health < 70
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÂøòÂ∏¶‰Ωú‰∏öÊó∂Â∏Æ‰Ω†Ëß£Èáä",
                    effect: { classmateB: 3, stress: -2 },
                    type: "good",
                    weight: 7,
                    condition: (s) => s.relationships.classmateB >= 25
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ËøüÂà∞Êó∂Â∏Æ‰Ω†ÊâìÊé©Êä§",
                    effect: { classmateB: 3, stress: -3 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 30
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë¢´ËÄÅÂ∏àËØØ‰ºöÊó∂‰∏∫‰Ω†‰ΩúËØÅ",
                    effect: { classmateB: 5, stress: -5 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 40
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë¢´ÊâπËØÑÊó∂‰∏∫‰Ω†ËØ¥ËØù",
                    effect: { classmateB: 4, stress: -4 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 35
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë¢´Â≠§Á´ãÊó∂‰∏ªÂä®Êé•Ëøë‰Ω†",
                    effect: { classmateB: 6, stress: -8, mental: 2 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateB >= 20
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†Á´û‰∫âÂêå‰∏Ä‰∏™ÊéíÂêç,ÂéãÂäõÂæàÂ§ß",
                    effect: { classmateB: -2, stress: 5 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 30
                },
                {
                    text: "ÊúãÂèãÁöÑÊàêÁª©Ë∂ÖËøá‰Ω†,‰Ω†ÊÑüÂà∞Â§±ËêΩ",
                    effect: { classmateB: -1, stress: 4, mental: -1 },
                    type: "bad",
                    weight: 7,
                    condition: (s) => s.relationships.classmateB >= 35
                },
                {
                    text: "ÊúãÂèãÁöÑËß£È¢òÈÄüÂ∫¶ÊØî‰Ω†Âø´,‰Ω†ÊúâÁÇπÁùÄÊÄ•",
                    effect: { classmateB: -1, stress: 3 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 25
                },
                {
                    text: "ÊúãÂèãÁöÑÁ¨îËÆ∞ÊØî‰Ω†ËØ¶ÁªÜ,‰Ω†ÊÑüÂà∞ÂéãÂäõ",
                    effect: { classmateB: -1, stress: 2 },
                    type: "bad",
                    weight: 7,
                    condition: (s) => s.relationships.classmateB >= 20
                },
                {
                    text: "ÊúãÂèãÁöÑÂ§ç‰π†ËøõÂ∫¶ÊØî‰Ω†Âø´,‰Ω†ÊúâÁÇπÁÑ¶Ëôë",
                    effect: { classmateB: -1, stress: 3 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 25
                },
                {
                    text: "ÊúãÂèãÁöÑÈîôÈ¢òÊú¨ÊØî‰Ω†Âéö,‰Ω†ÊÑüÂà∞ÂéãÂäõ",
                    effect: { classmateB: -1, stress: 2 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 20
                },
                {
                    text: "ÊúãÂèãÁöÑÂ§ç‰π†Êó∂Èó¥ÊØî‰Ω†Èïø,‰Ω†ÊúâÁÇπÁùÄÊÄ•",
                    effect: { classmateB: -1, stress: 3 },
                    type: "bad",
                    weight: 7,
                    condition: (s) => s.relationships.classmateB >= 25
                },
                {
                    text: "ÊúãÂèãÁöÑÊ®°ÊãüËÄÉÂàÜÊï∞ÊØî‰Ω†È´ò,‰Ω†ÊÑüÂà∞Â§±ËêΩ",
                    effect: { classmateB: -2, stress: 4, mental: -1 },
                    type: "bad",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 35
                },
                {
                    text: "ÊúãÂèãÁöÑËß£È¢òÊñπÊ≥ïÊØî‰Ω†Â∑ßÂ¶ô,‰Ω†ÊúâÁÇπÊ≤Æ‰∏ß",
                    effect: { classmateB: -1, stress: 3 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 30
                },
                {
                    text: "ÊúãÂèãÁöÑÂ§ç‰π†ÊïàÁéáÊØî‰Ω†È´ò,‰Ω†ÊÑüÂà∞ÂéãÂäõ",
                    effect: { classmateB: -1, stress: 3 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 25
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†ÂàÜ‰∫´‰∫ÜÁßòÂØÜ",
                    effect: { classmateB: 5, stress: -2, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 45
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†ËÅäÂà∞Ê∑±Â§ú,ÂÖ≥Á≥ªÊõ¥Ëøë",
                    effect: { classmateB: 4, energy: -5, stress: -3 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateB >= 40
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†‰∏ÄËµ∑ËßÑÂàíÊú™Êù•",
                    effect: { classmateB: 4, stress: -2, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 50
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†Á∫¶ÂÆöËÄÉ‰∏äÂêå‰∏ÄÊâÄÂ§ßÂ≠¶",
                    effect: { classmateB: 6, stress: 5, energy: 3 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.relationships.classmateB >= 55
                },
                {
                    text: "ÊúãÂèãÂíå‰Ω†Êàê‰∏∫ÊúÄÂ•ΩÁöÑÊúãÂèã",
                    effect: { classmateB: 8, stress: -5, mental: 2 },
                    type: "good",
                    weight: 2,
                    condition: (s) => s.relationships.classmateB >= 60
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÁîüÊó•Êó∂‰∏∫‰Ω†ÂáÜÂ§áÊÉäÂñú",
                    effect: { classmateB: 6, stress: -8, energy: 3 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.relationships.classmateB >= 50
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÈáçË¶ÅÊó∂ÂàªÈô™‰º¥‰Ω†",
                    effect: { classmateB: 5, stress: -5, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 45
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÈúÄË¶ÅÊó∂ÊÄªÊòØÂá∫Áé∞",
                    effect: { classmateB: 4, stress: -4, mental: 1 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 40
                },
                {
                    text: "ÊúãÂèãÁöÑÁêÜËß£ËÆ©‰Ω†ÊÑüÂà∞Ê∏©Êöñ",
                    effect: { classmateB: 3, stress: -3, mental: 1 },
                    type: "good",
                    weight: 7,
                    condition: (s) => s.relationships.classmateB >= 35
                },
                {
                    text: "ÊúãÂèãÁöÑ‰ø°‰ªªËÆ©‰Ω†ÊÑüÂà∞Ë¥£‰ªª",
                    effect: { classmateB: 3, stress: 2, mental: 1 },
                    type: "neutral",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 40
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Âõ∞ÈöæÊó∂ÁäπË±´ÊòØÂê¶Â∏ÆÂøô",
                    effect: { classmateB: -3, stress: 4 },
                    type: "bad",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 30
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ê±ÇÂä©Êó∂ÊâæÂÄüÂè£Êé®ËÑ±",
                    effect: { classmateB: -4, stress: 5 },
                    type: "bad",
                    weight: 4,
                    condition: (s) => s.relationships.classmateB >= 35
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÊàêÂäüÊó∂Ë°®Áé∞Âá∫Â´âÂ¶í",
                    effect: { classmateB: -3, stress: 3, mental: -1 },
                    type: "bad",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 40
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Â§±Ë¥•Êó∂Ë°®Áé∞Âá∫ËΩªËßÜ",
                    effect: { classmateB: -4, stress: 5, mental: -1 },
                    type: "bad",
                    weight: 4,
                    condition: (s) => s.relationships.classmateB >= 35
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Èù¢ÂâçÁÇ´ËÄÄÊàêÁª©",
                    effect: { classmateB: -2, stress: 3 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 30
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Èù¢ÂâçË¥¨‰Ωé‰Ω†ÁöÑÂä™Âäõ",
                    effect: { classmateB: -3, stress: 4, mental: -1 },
                    type: "bad",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 35
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Èù¢Ââç‰º†Êí≠‰Ω†ÁöÑË∞£Ë®Ä",
                    effect: { classmateB: -6, stress: 8, mental: -2 },
                    type: "bad",
                    weight: 3,
                    condition: (s) => s.relationships.classmateB >= 40
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ËÉåÂêéËØ¥‰Ω†ÁöÑÂùèËØù",
                    effect: { classmateB: -5, stress: 6, mental: -1 },
                    type: "bad",
                    weight: 4,
                    condition: (s) => s.relationships.classmateB >= 35
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†‰∏çÁü•ÊÉÖÊó∂Âà©Áî®‰Ω†",
                    effect: { classmateB: -7, stress: 7, mental: -2 },
                    type: "bad",
                    weight: 3,
                    condition: (s) => s.relationships.classmateB >= 45
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†‰ø°‰ªªÊó∂ËÉåÂèõ‰Ω†",
                    effect: { classmateB: -8, stress: 10, mental: -3 },
                    type: "bad",
                    weight: 2,
                    condition: (s) => s.relationships.classmateB >= 50
                },

                {
                    text: "ÊúãÂèã‰∏ªÂä®Êâæ‰Ω†Ë∞àÂøÉ,ÂåñËß£ËØØ‰ºö",
                    effect: { classmateB: 5, stress: -5, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 20
                },
                {
                    text: "ÊúãÂèãÂÜô‰ø°Âêë‰Ω†ÈÅìÊ≠â,ÊÉÖÁúüÊÑèÂàá",
                    effect: { classmateB: 6, stress: -6, mental: 1 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateB >= 25
                },
                {
                    text: "ÊúãÂèãÈÄÅ‰Ω†‰∫≤ÊâãÂÅöÁöÑÁ§ºÁâ©Ë°®Á§∫Ê≠âÊÑè",
                    effect: { classmateB: 5, stress: -4 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateB >= 30
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÁîüÊó•Êó∂‰∏ªÂä®ÂíåÂ•Ω",
                    effect: { classmateB: 7, stress: -7 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.relationships.classmateB >= 15
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Âõ∞ÈöæÊó∂‰º∏Âá∫Êè¥Êâã,ÂÖ≥Á≥ª‰øÆÂ§ç",
                    effect: { classmateB: 6, stress: -5, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 20
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÊàêÂäüÊó∂ÁúüÂøÉÁ•ùË¥∫,ÂÜ∞ÈáäÂâçÂ´å",
                    effect: { classmateB: 5, stress: -4 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 25
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Â§±Ë¥•Êó∂ÂÆâÊÖ∞‰Ω†,ÈáçÂΩí‰∫éÂ•Ω",
                    effect: { classmateB: 5, stress: -6, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 20
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë¢´ÊâπËØÑÊó∂‰∏∫‰Ω†ËØ¥ËØù,ÂÖ≥Á≥ªÁºìÂíå",
                    effect: { classmateB: 4, stress: -3 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateB >= 25
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë¢´Â≠§Á´ãÊó∂Êé•Ëøë‰Ω†,ÂèãË∞äÈáçÂª∫",
                    effect: { classmateB: 6, stress: -5, mental: 1 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateB >= 15
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë¢´Ê¨∫Ë¥üÊó∂‰øùÊä§‰Ω†,ÂèãË∞äÂä†Ê∑±",
                    effect: { classmateB: 7, stress: -6, mental: 2 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.relationships.classmateB >= 30
                },

                {
                    text: "ÊúãÂèãÂú®‰Ω†ÊúÄÈúÄË¶ÅÊó∂Âá∫Áé∞,Êàê‰∏∫Áü•Â∑±",
                    effect: { classmateB: 8, stress: -8, mental: 3 },
                    type: "good",
                    weight: 2,
                    condition: (s) => s.relationships.classmateB >= 55
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ëø∑Ëå´Êó∂ÊåáÂºï‰Ω†,Êàê‰∏∫ÂØºÂ∏à",
                    effect: { classmateB: 6, stress: -5, mental: 2 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.relationships.classmateB >= 50
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ë∑åÂÄíÊó∂Êâ∂Ëµ∑‰Ω†,Êàê‰∏∫‰æùÈù†",
                    effect: { classmateB: 7, stress: -7, mental: 2 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.relationships.classmateB >= 55
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÊàêÂäüÊó∂‰∏∫‰Ω†È™ÑÂÇ≤,Êàê‰∏∫ËßÅËØÅËÄÖ",
                    effect: { classmateB: 5, stress: -4, energy: 3 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateB >= 45
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Â§±Ë¥•Êó∂Èô™‰Ω†ÊåØ‰Ωú,Êàê‰∏∫ÊîØÊíë",
                    effect: { classmateB: 6, stress: -6, mental: 2 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateB >= 50
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Â≠§Áã¨Êó∂Èô™‰º¥‰Ω†,Êàê‰∏∫Ê∏©Êöñ",
                    effect: { classmateB: 5, stress: -5, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 40
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÁÑ¶ËôëÊó∂ÂÆâÊäö‰Ω†,Êàê‰∏∫ÈïáÂÆöÂâÇ",
                    effect: { classmateB: 5, stress: -7, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 45
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÊÅêÊÉßÊó∂ÈºìÂä±‰Ω†,Êàê‰∏∫ÂãáÊ∞î",
                    effect: { classmateB: 5, stress: -6, mental: 2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateB >= 40
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÁªùÊúõÊó∂Êãâ‰Ω†‰∏ÄÊää,Êàê‰∏∫Â∏åÊúõ",
                    effect: { classmateB: 7, stress: -8, mental: 3 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.relationships.classmateB >= 50
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ëø∑Ëå´Êó∂ÁÇπ‰∫ÆÁÅØÂ°î,Êàê‰∏∫ÊñπÂêë",
                    effect: { classmateB: 6, stress: -5, mental: 2 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateB >= 45
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÊàêÂäüÊó∂‰∏∫‰Ω†È™ÑÂÇ≤,Êàê‰∏∫ËßÅËØÅËÄÖ",
                    effect: { classmateA: 5, stress: -4, energy: 3 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 45
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Â§±Ë¥•Êó∂Èô™‰Ω†ÊåØ‰Ωú,Êàê‰∏∫ÊîØÊíë",
                    effect: { classmateA: 6, stress: -6, mental: 2 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 50
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Â≠§Áã¨Êó∂Èô™‰º¥‰Ω†,Êàê‰∏∫Ê∏©Êöñ",
                    effect: { classmateA: 5, stress: -5, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 40
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÁÑ¶ËôëÊó∂ÂÆâÊäö‰Ω†,Êàê‰∏∫ÈïáÂÆöÂâÇ",
                    effect: { classmateA: 5, stress: -7, mental: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 45
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÊÅêÊÉßÊó∂ÈºìÂä±‰Ω†,Êàê‰∏∫ÂãáÊ∞î",
                    effect: { classmateA: 5, stress: -6, mental: 2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.relationships.classmateA >= 40
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†ÁªùÊúõÊó∂Êãâ‰Ω†‰∏ÄÊää,Êàê‰∏∫Â∏åÊúõ",
                    effect: { classmateA: 7, stress: -8, mental: 3 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.relationships.classmateA >= 50
                },
                {
                    text: "ÊúãÂèãÂú®‰Ω†Ëø∑Ëå´Êó∂ÁÇπ‰∫ÆÁÅØÂ°î,Êàê‰∏∫ÊñπÂêë",
                    effect: { classmateA: 6, stress: -5, mental: 2 },
                    type: "good",
                    weight: 4,
                    condition: (s) => s.relationships.classmateA >= 45
                },
                {
                    text: "Áà∂ÊØçÁúãÂà∞‰Ω†ÁöÑÊàêÁª©Âçï,Âèπ‰∫ÜÂè£Ê∞îÊ≤°ËØ¥ËØù",
                    effect: { stress: 5, parents: -3 },
                    type: "bad",
                    weight: 8,
                    condition: (s) => s.relationships.parents >= 30
                },
                {
                    text: "Â¶àÂ¶àÁªô‰Ω†ÁÇñ‰∫ÜÈ∏°Ê±§,ËØ¥'Âà´Â§™Á¥Ø‰∫Ü'",
                    effect: { energy: 5, stress: -5, parents: 3 },
                    type: "good",
                    weight: 10,
                    condition: (s) => true
                },
                {
                    text: "Áà∏Áà∏Á™ÅÁÑ∂ÈóÆËµ∑OIÁöÑ‰∫ã,‰Ω†Ê≤âÈªò‰∫Ü",
                    effect: { stress: 8 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.memoryCount >= 1
                },
                {
                    text: "ÊöóÊÅãÁöÑÂêåÂ≠¶ÈóÆ‰Ω†‰∏ÄÈÅìÊï∞Â≠¶È¢ò,‰Ω†ËΩªÊùæËß£Á≠î",
                    effect: { crush: 5, math: 1 },
                    type: "good",
                    weight: 7,
                    condition: (s) => s.subjects.math >= 30
                },
                {
                    text: "ÊöóÊÅãÁöÑËØ∑‰Ω†‰∏ÄËµ∑Âá∫ÂéªÁé©,‰Ω†ÂêåÊÑè‰∫Ü„ÄÇ",
                    effect: { crush: 5, math: 1 },
                    type: "good",
                    weight: 7,
                    condition: (s) => s.relationships.crush >= 25
                },
                {
                    text: "ÂêåÂ≠¶ÈÇÄËØ∑‰Ω†‰∏ÄËµ∑ÊâìÁØÆÁêÉ,‰ΩÜ‰Ω†ÊãíÁªù‰∫Ü",
                    effect: { classmateA: -2, stress: 2 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 40
                },
                {
                    text: "ÂíåÂêåÂ≠¶ËÆ®ËÆ∫È¢òÁõÆ,ÂèëÁé∞Â§ßÂÆ∂ÈÉΩÂæàÂä™Âäõ",
                    effect: { classmateA: 3, stress: -3 },
                    type: "good",
                    weight: 9,
                    condition: (s) => true
                },
                {
                    text: "ËÄÅÂ∏àÂú®ÂäûÂÖ¨ÂÆ§Ë°®Êâ¨‰Ω†ËøõÊ≠•ÊòéÊòæ",
                    effect: { teacher: 5, stress: -5 },
                    type: "good",
                    weight: 8,
                    condition: (s) => s.week >= 4
                },
                {
                    text: "Áè≠‰∏ª‰ªªÊâæ‰Ω†Ë∞àËØù,ÊèêÈÜí‰Ω†Ê≥®ÊÑèÂÅèÁßë",
                    effect: { stress: 3, teacher: 2 },
                    type: "neutral",
                    weight: 7,
                    condition: (s) => true
                },
                {
                    text: "Ëã±ËØ≠ËÄÅÂ∏àÈÄÅ‰Ω†‰∏ÄÊú¨ÂçïËØç‰π¶",
                    effect: { english: 2, englishTeacher: 5 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.englishTeacher >= 40
                },
                {
                    text: "Êï∞Â≠¶ËÄÅÂ∏àÊâπËØÑ‰Ω†‰Ωú‰∏ö‰∏çËÆ§Áúü",
                    effect: { math: -1, mathTeacher: -3, stress: 3 },
                    type: "bad",
                    weight: 7,
                    condition: (s) => s.subjects.math >= 20
                }
            ],

            health: [
                {
                    text: "ËøûÁª≠ÁÜ¨Â§ú,‰ªäÂ§©‰∏äËØæÊâìÁûåÁù°Ë¢´ÊâπËØÑ",
                    effect: { energy: -10, stress: 5, health: -3 },
                    type: "bad",
                    weight: 8,
                    condition: (s) => s.energy < 40
                },
                {
                    text: "ÂùöÊåÅÊô®Ë∑ë,ÊÑüËßâÁ≤æÁ•ûÁÑïÂèë",
                    effect: { energy: 8, health: 2, stress: -5 },
                    type: "good",
                    weight: 9,
                    condition: (s) => s.health >= 60
                },
                {
                    text: "ÂéãÂäõÂ§™Â§ß,Êôö‰∏äÂ§±Áú†‰∫Ü",
                    effect: { energy: -8, stress: 8 },
                    type: "bad",
                    weight: 7,
                    condition: (s) => s.stress > 50
                },
                {
                    text: "Âê¨‰∫Ü‰∏ÄÈ¶ñÂñúÊ¨¢ÁöÑÊ≠å,ÂøÉÊÉÖÂèòÂ•Ω‰∫Ü",
                    effect: { stress: -8 },
                    type: "good",
                    weight: 8,
                    condition: (s) => true
                },
                {
                    text: "ÊÑüÂÜí‰∫Ü,Â≠¶‰π†ÊïàÁéá‰∏ãÈôç",
                    effect: { health: -5, energy: -10, stress: 3 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.health >= 50
                },
                {
                    text: "ÂùöÊåÅÂÅöÁúº‰øùÂÅ•Êìç,ËßÜÂäõ‰øùÊä§",
                    effect: { health: 2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "È£üÂ†ÇÈ•≠Ëèú‰∏çÂêàËÉÉÂè£,Âè™ÂêÉ‰∫ÜÂçäÁ¢ó",
                    effect: { energy: -5, health: -2 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => true
                },
                {
                    text: "Âë®Êú´Áù°‰∫Ü‰∏™ÊáíËßâ,ÊÑüËßâÊÅ¢Â§ç‰∫Ü",
                    effect: { energy: 15, stress: -5 },
                    type: "good",
                    weight: 9,
                    condition: (s) => s.dayOfWeek === 6
                },
                {
                    text: "ËøêÂä®Êó∂Êâ≠‰º§‰∫ÜËÑö,‰ºëÊÅØ‰∏§Â§©",
                    effect: { health: -8, energy: -5 },
                    type: "bad",
                    weight: 4,
                    condition: (s) => s.health >= 70
                },
                {
                    text: "ÂøÉÁêÜÂí®ËØ¢ËÄÅÂ∏à‰∏ªÂä®Êâæ‰Ω†ËÅäÂ§©",
                    effect: { mental: 5, stress: -8 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.mental < 60
                }
            ],

            memory: [
                {
                    text: "ÁøªÂá∫‰ª•ÂâçÁöÑËé∑Â•ñËØÅ‰π¶,ÊÅçÂ¶ÇÈöî‰∏ñ",
                    effect: { stress: 5 },
                    type: "neutral",
                    weight: 7,
                    condition: (s) => s.memoryCount >= 1
                },
                {
                    text: "Êî∂Âà∞OIÁæ§ÁöÑÊ∂àÊÅØ,Êúâ‰∫∫Ëøõ‰∫ÜÁúÅÈòü",
                    effect: { stress: 10 },
                    type: "bad",
                    weight: 6,
                    condition: (s) => s.memoryCount >= 2
                },
                {
                    text: "ÊÉ≥Ëµ∑ÈõÜËÆ≠Êó∂ÁöÑÊó•Â≠ê,Âò¥Ëßí‰∏äÊâ¨",
                    effect: { stress: -5, energy: 3 },
                    type: "good",
                    weight: 8,
                    condition: (s) => s.memoryCount >= 1
                },
                {
                    text: "ÁúãÂà∞ÁºñÁ®ãÈ¢ò,ÊâãÁóíÊÉ≥ÂÜô‰ª£Á†Å",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => s.memoryCount >= 1
                },
                {
                    text: "‰ª•ÂâçÈòüÂèãÂèëÊù•ÈóÆÂÄô,ÊÑüÊÖ®‰∏áÂçÉ",
                    effect: { stress: -3, mental: 2 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.memoryCount >= 2
                },
                {
                    text: "Ë∑ØËøáÊú∫Êàø,ÊÉ≥Ëµ∑ÊõæÁªèÁöÑÊó∂ÂÖâ",
                    effect: { stress: 5 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => s.memoryCount >= 1
                },
                {
                    text: "Ê¢¶ËßÅËá™Â∑±ËøòÂú®ÊØîËµõ,ÊÉäÈÜí",
                    effect: { energy: -5, stress: 5 },
                    type: "bad",
                    weight: 4,
                    condition: (s) => s.memoryCount >= 3
                },
                {
                    text: "Êï¥ÁêÜÊóß‰π¶,ÂèëÁé∞Á´ûËµõÁ¨îËÆ∞",
                    effect: { mental: 3 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => true
                },
                {
                    text: "Âê¨ËØ¥‰ª•ÂâçÊïôÁªÉÈÄÄ‰ºë‰∫Ü",
                    effect: { stress: 2 },
                    type: "neutral",
                    weight: 4,
                    condition: (s) => true
                },
                {
                    text: "ÊÉ≥Ëµ∑Á¨¨‰∏ÄÊ¨°Ëé∑Â•ñÁöÑÂÖ¥Â•ã",
                    effect: { stress: -5, energy: 5 },
                    type: "good",
                    weight: 6,
                    condition: (s) => true
                }
            ],

            economy: [
                {
                    text: "Áà∂ÊØçÁªô‰∫ÜÈ¢ùÂ§ñÁöÑÈõ∂Ëä±Èí±",
                    effect: { money: 100, parents: 2 },
                    type: "good",
                    weight: 8,
                    condition: (s) => true
                },
                {
                    text: "‰π∞‰∫ÜÊñ∞ÂèÇËÄÉ‰π¶,Ëä±Êéâ200ÂÖÉ",
                    effect: { money: -200 },
                    type: "neutral",
                    weight: 7,
                    condition: (s) => s.money >= 200
                },
                {
                    text: "ÂèëÁé∞‰π¶Â∫óÊâìÊäò,‰π∞‰∫ÜÂá†Êú¨",
                    effect: { money: -150, chinese: 1, math: 1 },
                    type: "good",
                    weight: 5,
                    condition: (s) => s.money >= 150
                },
                {
                    text: "Â∏ÆÂêåÂ≠¶Ë°•ËØæ,Ëµö‰∫Ü100ÂÖÉ",
                    effect: { money: 100, stress: 3 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.classmateA >= 50
                },
                {
                    text: "‰∏çÂ∞èÂøÉ‰∏¢‰∫Ü100ÂÖÉ",
                    effect: { money: -100, stress: 5 },
                    type: "bad",
                    weight: 4,
                    condition: (s) => s.money >= 100
                },
                {
                    text: "ÁΩë‰∏ä‰π∞‰∫ÜÁΩëËØæ,Ëä±Ë¥π300ÂÖÉ",
                    effect: { money: -300 },
                    type: "neutral",
                    weight: 5,
                    condition: (s) => s.money >= 300
                },
                {
                    text: "Áà∂ÊØçÈóÆËµ∑Èí±ÁöÑÁî®ÈÄî,Ëß£ÈáäÊ∏ÖÊ•ö",
                    effect: { parents: 3 },
                    type: "good",
                    weight: 6,
                    condition: (s) => s.relationships.parents >= 40
                },

                { text: "ÂèëÁé∞ÂÖçË¥πÁöÑÂ≠¶‰π†ËµÑÊ∫êÁΩëÁ´ô", effect: { energy: 5 }, type: "good", weight: 5, condition: (s) => true },
                {
                    text: "ÂêåÂ≠¶ÂÄüÈí±,‰∏çÂ•ΩÊÑèÊÄùÊãíÁªù",
                    effect: { money: -50, stress: 2 },
                    type: "bad",
                    weight: 4,
                    condition: (s) => s.money >= 50
                },
                {
                    text: "Ëé∑ÂæóÂ•ñÂ≠¶Èáë200ÂÖÉ",
                    effect: { money: 200, teacher: 5 },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.week >= 8
                }
            ],

            special: [
                {
                    text: "Â≠¶Ê†°ÁªÑÁªáÂä±ÂøóËÆ≤Â∫ß,ÂæàÂèóÈºìËàû",
                    effect: { stress: -10, energy: 5 },
                    type: "good",
                    weight: 7,
                    condition: (s) => true
                },
                {
                    text: "ÊúàËÄÉ‰∏¥Ëøë,Âõæ‰π¶È¶Ü‰∏ÄÂ∫ßÈöæÊ±Ç",
                    effect: { stress: 5 },
                    type: "neutral",
                    weight: 8,
                    condition: (s) => s.week >= 4
                },
                {
                    text: "È£üÂ†ÇÈòøÂß®Â§öÁªô‰∫ÜÂùóËÇâ,Â∞èÁ°ÆÂπ∏",
                    effect: { stress: -3 },
                    type: "good",
                    weight: 6,
                    condition: (s) => true
                },

                {
                    text: "‰∏ãÈõ®Â§©Ê≤°Â∏¶‰ºû,Ê∑ãÊπø‰∫Ü",
                    effect: {
                        health: -3,
                        stress: 5
                    },
                    type: "bad",
                    weight: 5,
                    condition: (s) => true
                },

                {
                    text: "Êî∂Âà∞Â≠¶ÈïøÂ≠¶ÂßêÁöÑÈºìÂä±‰ø°",
                    effect: {
                        stress: -8,
                        energy: 5
                    },
                    type: "good",
                    weight: 6,
                    condition: (s) => true
                },

                {
                    text: "Áè≠Á∫ßÁæ§ÈáåÊúâ‰∫∫ÂèëÊêûÁ¨ëÊÆµÂ≠ê,Á¨ëÂá∫Â£∞",
                    effect: { stress: -5 },
                    type: "good",
                    weight: 7,
                    condition: (s) => true
                },

                {
                    text: "Á™ÅÁÑ∂Êñ≠Áîµ,Ëá™‰π†‰∏≠Êñ≠",
                    effect: { stress: 3 },
                    type: "neutral",
                    weight: 4,
                    condition: (s) => true
                },

                {
                    text: "ÂèëÁé∞ÊïôÂÆ§Êñ∞Êç¢‰∫ÜÊô∫ËÉΩÈªëÊùø",
                    effect: { energy: 2 },
                    type: "good",
                    weight: 3,
                    condition: (s) => true
                },

                {
                    text: "Â≠¶Ê†°ÁªÑÁªá‰ΩìÊ£Ä,‰∏ÄÂàáÊ≠£Â∏∏",
                    effect: { health: 2 },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },

                {
                    text: "Âê¨Âà∞ÈöîÂ£ÅÁè≠ÂêµÊû∂,ÂøÉÊÉÖÁÉ¶Ë∫Å",
                    effect: { stress: 3 },
                    type: "bad",
                    weight: 4,
                    condition: (s) => true
                },

                {
                    text: "ÂèëÁé∞‰∏Ä‰∏™ÂÆâÈùôÁöÑÂ§©Âè∞,ÈÄÇÂêàËÉå‰π¶",
                    effect: {
                        energy: 3,
                        stress: -2
                    },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },

                {
                    text: "Â≠¶Ê†°ÁªÑÁªáÊò•Ê∏∏,ÂèØ‰ª•ÊîæÊùæ",
                    effect: {
                        stress: -15,
                        energy: 5
                    },
                    type: "good",
                    weight: 3,
                    condition: (s) => s.week <= 13
                },

                {
                    text: "Áè≠‰∏ª‰ªªÁîüÁóÖ,‰ª£ËØæËÄÅÂ∏àÂæà‰∏•Ê†º",
                    effect: { stress: 5 },
                    type: "bad",
                    weight: 4,
                    condition: (s) => s.relationships.teacher >= 50
                },

                {
                    text: "ÂèëÁé∞Â≠¶Ê†°Êñ∞ÂºÄ‰∫ÜÂíñÂï°ÂéÖ",
                    effect: { stress: -3 },
                    type: "good",
                    weight: 3,
                    condition: (s) => true
                },

                {
                    text: "Âê¨Âà∞ÂπøÊí≠ÊîæÂñúÊ¨¢ÁöÑÊ≠å",
                    effect: { stress: -5 },
                    type: "good",
                    weight: 6,
                    condition: (s) => true
                },

                {
                    text: "Â≠¶Ê†°ÁîµË∑ØËÄÅÂåñ,ÁªèÂ∏∏Ë∑≥Èó∏",
                    effect: { stress: 3 },
                    type: "bad",
                    weight: 3,
                    condition: (s) => true
                },

                {
                    text: "ÂèëÁé∞Âõæ‰π¶È¶ÜÊñ∞Ëøõ‰∫ÜÂ•Ω‰π¶",
                    effect: { energy: 5 },
                    type: "good",
                    weight: 4,
                    condition: (s) => true
                },

                {
                    text: "Â≠¶Ê†°ÁªÑÁªáÊ∂àÈò≤ÊºîÁªÉ,Êµ™Ë¥πÊó∂Èó¥",
                    effect: { stress: 2 },
                    type: "neutral",
                    weight: 4,
                    condition: (s) => true
                },

                {
                    text: "ÂèëÁé∞‰∏Ä‰∏™Ë∂ÖÊ£íÁöÑÂ≠¶‰π†Âçö‰∏ª",
                    effect: {
                        energy: 3,
                        stress: -3
                    },
                    type: "good",
                    weight: 5,
                    condition: (s) => true
                },

                {
                    text: "Â≠¶Ê†°Ë¶ÅÊ±ÇÁªü‰∏ÄÁ©øÊ†°Êúç,Âæà‰∏ë",
                    effect: { stress: 2 },
                    type: "neutral",
                    weight: 3,
                    condition: (s) => true
                },

                {
                    text: "ÂèëÁé∞ÊïôÂÆ§Á©∫Ë∞ÉÂèØ‰ª•Ëá™Â∑±Ë∞ÉËäÇ",
                    effect: { energy: 2 },
                    type: "good",
                    weight: 3,
                    condition: (s) => true
                }

            ]
        };

        // ÊïÖ‰∫ãÁ∫ø‰∫ã‰ª∂Ôºà15+‰∫ã‰ª∂Ôºâ
        //const storyEvents = [
        //    {
        //        id: 1,
        //        week: 1,
        //        day: 0, // Âë®‰∏Ä
        //        title: "AFOÁ¨¨‰∏ÄÂ§©",
        //        content: "‰Ω†Á´ôÂú®ÊïôÂÆ§Èó®Âè£,Ê∑±Âê∏‰∏ÄÂè£Ê∞î„ÄÇÊõæÁªèÁöÑOIÈòüÂèãÂú®ÈöîÂ£ÅÁè≠,Âê¨ËØ¥‰ªñËøòÂú®ÂùöÊåÅÁ´ûËµõ„ÄÇ‰Ω†Êè°Á¥ß‰π¶ÂåÖÂ∏¶,Ëµ∞Ëøõ‰∫ÜÊñ∞Áè≠Á∫ß„ÄÇ",
        //        choices: [
        //            { text: "Êâæ‰∏™ËßíËêΩÂùê‰∏ã,‰ΩéË∞ÉÂºÄÂßã", effect: { stress: 5 }, next: 2 },
        //            { text: "‰∏ªÂä®ÂíåÂêåÊ°åÊâìÊãõÂëº", effect: { classmateA: 5, stress: -3 }, next: 2 }
        //        ]
        //    },
        //    {
        //        id: 2,
        //        week: 2,
        //        day: 2,
        //        title: "Á¨¨‰∏ÄÊ¨°‰Ωú‰∏ö",
        //        content: "Êï∞Â≠¶ËÄÅÂ∏àÂ∏ÉÁΩÆ‰∫Ü20ÈÅìÈ¢ò,‰Ω†ÂèëÁé∞Â§ßÈÉ®ÂàÜÈÉΩÊòØÁ´ûËµõÈöæÂ∫¶„ÄÇ‰Ω†ÁÜ¨Â§úÂà∞ÂáåÊô®,Áªà‰∫éÂÆåÊàê„ÄÇ",
        //        choices: [
        //            { text: "ÊåâÊó∂‰∫§‰Ωú‰∏ö,Â±ïÁ§∫ÂÆûÂäõ", effect: { math: 2, mathTeacher: 5, energy: -10 }, next: 3 },
        //            { text: "Âè™ÂÅö‰∏ÄÂçä,‰øùÁïôÂÆûÂäõ", effect: { stress: 3 }, next: 3 }
        //        ]
        //    },
        //    {
        //        id: 3,
        //        week: 3,
        //        day: 4,
        //        title: "Áà∂ÊØçÁöÑÊúüÊúõ",
        //        content: "Áà∂‰∫≤Âú®È•≠Ê°å‰∏äËØ¥Ôºö'Âê¨ËØ¥XXXÂÆ∂ÁöÑÂ≠©Â≠êËøôÊ¨°ËÄÉ‰∫ÜÁè≠Á∫ßÁ¨¨‰∏Ä,‰Ω†‰ª•ÂâçÊêûÁ´ûËµõ,Áé∞Âú®‰∏çËÉΩËêΩÂêéÂïä„ÄÇ'‰Ω†Êè°ÁùÄÁ≠∑Â≠êÁöÑÊâãÁ¥ß‰∫ÜÁ¥ß„ÄÇ",
        //        choices: [
        //            { text: "Ê≤âÈªò‰∏çËØ≠,ÈªòÈªòÊâøÂèó", effect: { stress: 8, parents: -2 }, next: 4 },
        //            { text: "Ëß£ÈáäËØ¥ÈúÄË¶ÅÊó∂Èó¥ÈÄÇÂ∫î", effect: { parents: 2, stress: -2 }, next: 4 },
        //            { text: "ÂèëËÑæÊ∞îËØ¥'‰Ω†‰ª¨ÊáÇ‰ªÄ‰πàÔºÅ'", effect: { parents: -10, stress: 10 }, next: 4 }
        //        ]
        //    },
        //    {
        //        id: 4,
        //        week: 4,
        //        day: 1,
        //        title: "ÊóßÂèãÈáçÈÄ¢",
        //        content: "Âú®Ëµ∞ÂªäÈÅáÂà∞‰ª•ÂâçÈõÜËÆ≠ÁöÑÈòüÂèã„ÄÇ‰ªñÈóÆÔºö'ÊÄé‰πàÈÄÄÁ´û‰∫ÜÔºü'‰Ω†‰∏çÁü•Â¶Ç‰ΩïÂõûÁ≠î„ÄÇ‰ªñÊãçÊãç‰Ω†ÁöÑËÇ©Ôºö'ÊñáÂåñËØæ‰πü‰∏çÂÆπÊòì,Âä†Ê≤π„ÄÇ'",
        //        choices: [
        //            { text: "ÊÑüÂà∞Â§±ËêΩ,ÊÄÄÁñëÈÄâÊã©", effect: { stress: 10 }, next: 5 },
        //            { text: "ÈáäÁÑ∂‰∏ÄÁ¨ë,ÂêÑËá™ÊúâË∑Ø", effect: { stress: -3 }, next: 5 },
        //            { text: "Êöó‰∏ãÂÜ≥ÂøÉ,Ë¶ÅËØÅÊòéËá™Â∑±", effect: { energy: 5, stress: 5 }, next: 5 }
        //        ]
        //    },
        //    {
        //        id: 5,
        //        week: 5,
        //        day: 3,
        //        title: "ÊöóÊÅãÁöÑÊÇ∏Âä®",
        //        content: "Â•πËΩ¨ËøáÂ§¥ÈóÆ‰Ω†Áâ©ÁêÜÈ¢ò,ÂèëÊ¢¢ÁöÑÈ¶ôÂë≥ËÆ©‰Ω†ÂøÉË∑≥Âä†ÈÄü„ÄÇ‰Ω†ÂèëÁé∞Â•π‰πüÂú®Âä™ÂäõÂ≠¶‰π†,Á¨îËÆ∞Êú¨‰∏äÂØÜÂØÜÈ∫ªÈ∫ª„ÄÇÂéüÊù•Â§ßÂÆ∂ÈÉΩÂú®‰∏∫Êú™Êù•ÊãºÂëΩ„ÄÇ",
        //        choices: [
        //            { text: "ËÆ§ÁúüËÆ≤È¢ò,Â±ïÁ§∫ÂÆûÂäõ", effect: { crush: 7, physics: 1 }, next: 6 },
        //            { text: "Á¥ßÂº†ÁªìÂ∑¥,ÂèëÊå•Â§±Â∏∏", effect: { crush: -5, stress: 3 }, next: 6 },
        //            { text: "ËÆ≤ÂÆåÂêéÈÇÄËØ∑‰∏ÄËµ∑Â≠¶‰π†", effect: { crush: 12, stress: -10 }, next: 6 }
        //        ]
        //    },
        //    {
        //        id: 6,
        //        week: 8,
        //        day: 4,
        //        title: "Á¨¨‰∏ÄÊ¨°ÊúàËÄÉ",
        //        content: "ÊàêÁª©Âá∫Êù•‰∫Ü,‰Ω†ËøõÊ≠•‰∫Ü15Âêç„ÄÇËÄÅÂ∏àÂú®ÂÖ®Áè≠Èù¢ÂâçË°®Êâ¨‰Ω†Ôºö'XXXÂêåÂ≠¶‰ªéÁ´ûËµõËΩ¨ÊñáÂåñËØæ,ÈÄÇÂ∫îÂæóÂæàÂø´„ÄÇ'‰Ω†ÁúãÂà∞Áà∂ÊØçÁúº‰∏≠ÁöÑÊ¨£ÊÖ∞„ÄÇ",
        //        choices: [
        //            { text: "ÁªßÁª≠‰øùÊåÅ,ÂÜ≤ÂáªÂâç10", effect: { energy: 5, stress: -5, teacher: 5 }, next: 7 },
        //            { text: "ÊùæÊáà‰∏ãÊù•,ÊÉ≥‰ºëÊÅØÂá†Â§©", effect: { energy: 10, stress: -10 }, next: 7 },
        //            { text: "ÊÑüÂà∞Ëø∑Ëå´,‰∏çÁü•ÈÅìÊÑè‰πâ‰ΩïÂú®", effect: { stress: 8 }, next: 7 }
        //        ]
        //    },
        //    {
        //        id: 7,
        //        week: 12,
        //        day: 6,
        //        title: "Ê∑±Â§úÁöÑÂØπËØù",
        //        content: "ÊØç‰∫≤Ê∑±Â§úÁ´ØÊù•ÁâõÂ•∂Ôºö'ÂÖ∂ÂÆûÊàë‰ª¨‰∏çÊ±Ç‰Ω†ËÄÉÂ§öÂ•Ω,Âè™Â∏åÊúõ‰Ω†Âà´ÂêéÊÇî„ÄÇ'‰Ω†Á¨¨‰∏ÄÊ¨°ÂíåÁà∂ÊØçËÅäËµ∑Á´ûËµõÁöÑÊó•Â≠ê,ËÅäËµ∑ÈÇ£‰∫õÁÜ¨Â§úÂà∑È¢òÁöÑÊó∂ÂÖâ„ÄÇ",
        //        choices: [
        //            { text: "ÊÑüÂä®ËêΩÊ≥™,ÂéãÂäõÈáäÊîæ", effect: { parents: 10, stress: -15 }, next: 8 },
        //            { text: "Ë°®Èù¢Âπ≥Èùô,ÂÜÖÂøÉÊ∏©Êöñ", effect: { parents: 5, stress: -8 }, next: 8 },
        //            { text: "ËßâÂæóÂî†Âè®,‰∏çËÄêÁÉ¶", effect: { parents: -5, stress: 3 }, next: 8 }
        //        ]
        //    },
        //    {
        //        id: 8,
        //        week: 16,
        //        day: 2,
        //        title: "ÂõûÂìç",
        //        content: "Êî∂Âà∞ÊõæÁªèOIÊïôÁªÉÁöÑÈÇÆ‰ª∂Ôºö'Âê¨ËØ¥‰Ω†ËΩ¨ÊñáÂåñËØæ‰∫Ü,Êó†ËÆ∫ÈÄâÊã©‰ªÄ‰πà,ÈÉΩË¶ÅÂÉèËß£È¢ò‰∏ÄÊ†∑,ÊâæÂà∞ÊúÄ‰ºòËß£„ÄÇ'‰Ω†Á™ÅÁÑ∂ÊòéÁôΩ,Á´ûËµõÊïô‰ºö‰Ω†ÁöÑ‰∏çÂè™ÊòØÁÆóÊ≥ï,Êõ¥ÊòØÊÄùÁª¥ÊñπÂºè„ÄÇ",
        //        choices: [
        //            { text: "ÈáçÊãæ‰ø°ÂøÉ,Â∫îÁî®ÁÆóÊ≥ïÊÄùÁª¥", effect: { math: 3, physics: 2, stress: -5 }, next: 9 },
        //            { text: "ÊÑüÂà∞ÈÅóÊÜæ,Âõû‰∏çÂéª‰∫Ü", effect: { stress: 8 }, next: 9 },
        //            { text: "ÈáäÁÑ∂,ÊÑüË∞¢ÈÇ£ÊÆµÁªèÂéÜ", effect: { stress: -8, energy: 5 }, next: 9 }
        //        ]
        //    },
        //    {
        //        id: 9,
        //        week: 20,
        //        day: 1,
        //        title: "ÂõûÂ∫î",
        //        content: "Â•πÈÄíÊù•‰∏ÄÂº†Á∫∏Êù°Ôºö'Ë∞¢Ë∞¢‰Ω†‰∏ÄÁõ¥Â∏ÆÊàë...„ÄÇÊàë‰ª¨‰∏ÄËµ∑Âä™Âäõ,ËÄÉÂêå‰∏ÄÊâÄÂ§ßÂ≠¶ÂêßÔºÅ'",
        //        choices: [
        //            { text: "ÂºÄÂøÉÊé•Âèó,Âä®ÂäõÊª°Êª°", effect: { crush: 15, stress: -10, energy: 30 }, next: 10 },
        //            { text: "Á¥ßÂº†‰∏çÁü•ÊâÄÊé™", effect: { stress: 10 }, next: 10 },
        //            { text: "ÊãíÁªù,ËØ¥Ë¶Å‰∏ìÂøÉÂ≠¶‰π†", effect: { crush: -10, stress: 5 }, next: 10 }
        //        ]
        //    },
        //    {
        //        id: 10,
        //        week: 24,
        //        day: 3,
        //        title: "ÂØíÂÅáÂâçÂ§ú",
        //        content: "ÊúüÊú´ËÄÉËØïÁªìÊùü,‰Ω†ËÄÉËøõ‰∫ÜÁè≠Á∫ßÂâç10„ÄÇÂØíÂÅáÊù•‰∏¥,‰ΩÜ‰Ω†Áü•ÈÅì,ÁúüÊ≠£ÁöÑÂÜ≤Âà∫ÊâçÂàöÂàöÂºÄÂßã„ÄÇ",
        //        choices: [
        //            { text: "Âà∂ÂÆöÂØíÂÅáËÆ°Âàí,ÂÖ®ÂäõÂÜ≤Âà∫", effect: { energy: 5, stress: -5 }, next: 11 },
        //            { text: "ÂÖàÊîæÊùæÂá†Â§©,ÂÜçÂ≠¶‰π†", effect: { energy: 10, stress: -10 }, next: 11 },
        //            { text: "ÊÑüÂà∞Áñ≤ÊÉ´,ÊÉ≥ÊîæÂºÉ", effect: { stress: 10 }, next: 11 }
        //        ]
        //    },
        //    {
        //        id: 11,
        //        week: 30,
        //        day: 5,
        //        title: "Êò•ËäÇÁöÑÊÑüÊÇü",
        //        content: "‰∫≤Êàö‰ª¨ÈóÆËµ∑‰Ω†ÁöÑÊàêÁª©,Áà∂ÊØçÈ™ÑÂÇ≤Âú∞ËØ¥Ôºö'ËøõÊ≠•ÂæàÂ§ßÔºÅ'‰Ω†Á™ÅÁÑ∂ÊÑèËØÜÂà∞,Ëá™Â∑±ÁöÑÂä™Âäõ‰∏ç‰ªÖÊòØ‰∏∫‰∫ÜËá™Â∑±,‰πü‰∏∫‰∫Ü‰∏çËæúË¥ü‰ªñ‰ª¨ÁöÑÊúüÊúõ„ÄÇ",
        //        choices: [
        //            { text: "ÊÑüÂà∞Ë¥£‰ªªÈáçÂ§ß", effect: { parents: 5, stress: 5 }, next: 12 },
        //            { text: "ÊÑüÂà∞Ê∏©ÊöñÂíåÊîØÊåÅ", effect: { parents: 8, stress: -5 }, next: 12 },
        //            { text: "ÊÑüÂà∞ÂéãÂäõÂÄçÂ¢û", effect: { stress: 10 }, next: 12 }
        //        ]
        //    },
        //    {
        //        id: 12,
        //        week: 35,
        //        day: 2,
        //        title: "ÂÄíËÆ°Êó∂100Â§©",
        //        content: "ÈªëÊùø‰∏äÁöÑÊï∞Â≠óÂèòÊàê100„ÄÇÊïôÂÆ§ÈáåÂº•Êº´ÁùÄÁ¥ßÂº†ÁöÑÊ∞îÊ∞õ,‰ΩÜ‰Ω†ÊÑüÂà∞‰∏ÄÁßçÂ•áÊÄ™ÁöÑÂπ≥Èùô„ÄÇ‰∏§Âπ¥Á´ûËµõ,‰∏ÄÂπ¥WHK,‰Ω†Â∑≤ÁªèÂáÜÂ§áÂ•Ω‰∫Ü„ÄÇ",
        //        choices: [
        //            { text: "ÂÖÖÊª°‰ø°ÂøÉ,ËøéÊé•ÊåëÊàò", effect: { stress: 10, energy: 20 }, next: 13 },
        //            { text: "ÊåâÈÉ®Â∞±Áè≠,‰øùÊåÅËäÇÂ•è", effect: { stress: 5 }, next: 13 },
        //            { text: "Á¥ßÂº†‰∏çÂÆâ,Èöæ‰ª•ÂÖ•Áú†", effect: { stress: 10, energy: -5 }, next: 13 }
        //        ]
        //    },
        //    {
        //        id: 13,
        //        week: 40,
        //        day: 4,
        //        title: "ÊúÄÂêéÁöÑÂÜ≤Âà∫",
        //        content: "‰∫î‰∏ÄÂÅáÊúü,‰Ω†ÊãíÁªù‰∫ÜÊâÄÊúâÈÇÄÁ∫¶,ÊØèÂ§©Â≠¶‰π†12Â∞èÊó∂„ÄÇËôΩÁÑ∂ËæõËã¶,‰ΩÜ‰Ω†Áü•ÈÅì,ËøôÊòØÊúÄÂêéÁöÑÂÜ≤Âà∫„ÄÇ",
        //        choices: [
        //            { text: "ÂùöÊåÅÂà∞Â∫ï,‰∏çÊîæÂºÉ", effect: { energy: -10, stress: 5, subjects: { all: 2 } }, next: 14 },
        //            { text: "ÈÄÇÂΩì‰ºëÊÅØ,Âä≥ÈÄ∏ÁªìÂêà", effect: { energy: 5, stress: -5 }, next: 14 },
        //            { text: "ÊÑüÂà∞Â¥©Ê∫É,ÊÉ≥ÊîæÂºÉ", effect: { stress: 15, energy: -15 }, next: 14 }
        //        ]
        //    },
        //    {
        //        id: 14,
        //        week: 45,
        //        day: 1,
        //        title: "ÊúÄÂêéÁöÑÂëäÂà´",
        //        content: "È´òËÄÉÂâç60Â§©,‰Ω†Êï¥ÁêÜ‰π¶Ê°å,ÁøªÂá∫ÈÇ£Âº†ÂêàÂΩ±„ÄÇÁÖßÁâáËÉåÈù¢ÂÜôÁùÄÔºö'To be continued...'‰Ω†Á¨ë‰∫ÜÁ¨ë,ÊääÂÆÉÊî∂ËøõÊäΩÂ±â„ÄÇÊòØÁöÑ,ÊïÖ‰∫ãËøòÂú®ÁªßÁª≠„ÄÇ",
        //        choices: [
        //            { text: "ÂÖÖÊª°ÊúüÂæÖ,ËøéÊé•ÊåëÊàò", effect: { stress: -10, energy: 10 }, next: 15 },
        //            { text: "Âπ≥ÈùôÊé•Âèó,È°∫ÂÖ∂Ëá™ÁÑ∂", effect: { stress: -5 }, next: 15 },
        //            { text: "Á¥ßÂº†‰∏çÂÆâ,Èöæ‰ª•ÂÖ•Áú†", effect: { stress: 10, energy: -5 }, next: 15 }
        //        ]
        //    },
        //    {
        //        id: 15,
        //        week: 50,
        //        day: 6,
        //        title: "È´òËÄÉÂâçÂ§ú",
        //        content: "‰Ω†Ë∫∫Âú®Â∫ä‰∏ä,ÂõûÊÉ≥Ëøô‰∏ÄÂπ¥„ÄÇ‰ªéËø∑Ëå´Âà∞ÂùöÂÆö,‰ªéÂ§±ËêΩÂà∞Â∏åÊúõ„ÄÇÊó†ËÆ∫ÁªìÊûúÂ¶Ç‰Ωï,‰Ω†ÈÉΩÂ∑≤ÁªèÊàêÈïø„ÄÇÈ©¨‰∏äÂ∞±ÊòØÊ£ÄÈ™åÁöÑÊó∂Âàª„ÄÇ",
        //        choices: [
        //            { text: "ÂÖÖÊª°‰ø°ÂøÉ,ÂÆâÁÑ∂ÂÖ•Áù°", effect: { stress: -10, energy: 5 }, next: 16 },
        //            { text: "Âπ≥ÈùôÊé•Âèó,È°∫ÂÖ∂Ëá™ÁÑ∂", effect: { stress: -5 }, next: 16 },
        //            { text: "Á¥ßÂº†Â§ç‰π†,ÊúÄÂêéÂÜ≤Âà∫", effect: { energy: -10, stress: 10 }, next: 16 }
        //        ]
        //    },
        //    {
        //        id: 16,
        //        week: 51,
        //        day: 6,
        //        title: "ÊâøËØ∫",
        //        content: "Â•πÊâæÂà∞‰Ω†:'È´òËÄÉÂä†Ê≤πÔºÅÊàë‰ª¨......'",
        //        choices: [
        //            { text: "Áõ∏Á∫¶ËÄÉÂêé,ÂÖ±Ëµ¥Â±±Êµ∑", effect: { stress: 5, energy: 5, crush: 10 }, next: null },
        //            { text: "ÈªòÈªòÁÇπÂ§¥,ËΩ¨Ë∫´Á¶ªÂéª", effect: { stress: 10, energy: 5, crush: 5 }, next: null },
        //            { text: "ÂøÉ‰π±Â¶ÇÈ∫ª,Êó†Ë®Ä‰ª•ÂØπ", effect: { energy: -10, stress: 10, crush: -2 }, next: null }
        //        ]
        //    },
        //];

        const storyEvents = [
            {
                id: 1,
                week: 1,
                day: 0,
                title: "AFOÁ¨¨‰∏ÄÂ§©",
                content: "‰Ω†Á´ôÂú®ÊïôÂÆ§Èó®Âè£,Ê∑±Âê∏‰∏ÄÂè£Ê∞î„ÄÇÊõæÁªèÁöÑOIÈòüÂèãÂú®ÈöîÂ£ÅÁè≠,Âê¨ËØ¥‰ªñËøòÂú®ÂùöÊåÅÁ´ûËµõ„ÄÇ‰Ω†Êè°Á¥ß‰π¶ÂåÖÂ∏¶,Ëµ∞Ëøõ‰∫ÜÊñ∞Áè≠Á∫ß„ÄÇ",
                choices: [
                    { text: "Êâæ‰∏™ËßíËêΩÂùê‰∏ã,‰ΩéË∞ÉÂºÄÂßã", effect: { stress: 5 }, next: 2 },
                    { text: "‰∏ªÂä®ÂíåÂêåÊ°åÊâìÊãõÂëº", effect: { classmateA: 5, stress: -3 }, next: 2 }
                ]
            },
            {
                id: 2,
                week: 2,
                day: 2,
                title: "‰Ωú‰∏ö",
                content:
                    "Êï∞Â≠¶ËÄÅÂ∏àÂ∏ÉÁΩÆ‰∫Ü20ÈÅìÈ¢ò,‰Ω†ÂèëÁé∞Â§ßÈÉ®ÂàÜÈÉΩÊòØÁ´ûËµõÈöæÂ∫¶„ÄÇ‰Ω†ÁÜ¨Â§úÂà∞ÂáåÊô®,Áªà‰∫éÂÆåÊàê„ÄÇ",
                choices: [
                    { text: "ÊåâÊó∂‰∫§‰Ωú‰∏ö,Â±ïÁ§∫ÂÆûÂäõ", effect: { math: 2, mathTeacher: 5, energy: -10 }, next: 3 },
                    { text: "Âè™ÂÅö‰∏ÄÂçä,‰øùÁïôÂÆûÂäõ", effect: { stress: 3, mathTeacher: -5 }, next: 3 }
                ]
            },
            {
                id: 3,
                week: 3,
                day: 2,
                title: "ÂåñÂ≠¶ËØæ",
                content: "ÂåñÂ≠¶ËÄÅÂ∏àËµ∞ËøõÊïôÂÆ§,‰Ω†ÊÉäËÆ∂Âú∞ÂèëÁé∞‰ªñÁ´üÊòØÊõæÁªèÂ∏¶ËøáÁ´ûËµõÈõÜËÆ≠ÁöÑÂä©Êïô„ÄÇ‰ªñÁúãÂà∞‰Ω†Êó∂ÁúºÁ•ûÂæÆÂæÆ‰∏Ä‰∫Æ,Âç¥Ê≤°ÊúâÁâπÂà´Ë°®Á§∫„ÄÇ‰∏ãËØæÊó∂,‰ªñÂú®‰Ω†Ê°åËæπÂÅúÈ°ø‰∫Ü‰∏Ä‰∏ã„ÄÇ",
                choices: [
                    { text: "‰∏ªÂä®‰∏äÂâçÁõ∏ËÆ§", effect: { chemistryTeacher: 5, stress: -3 }, next: 4 },
                    { text: "‰ΩéÂ§¥Ë£Ö‰ΩúÊ≤°ÁúãËßÅ", effect: { stress: 2, chemistryTeacher: -5 }, next: 4 },
                    { text: "ËØæÂêéÂéªÂäûÂÖ¨ÂÆ§Êâæ‰ªñ", effect: { chemistryTeacher: 5, stress: 5 }, next: 4 }
                ]
            },
            {
                id: 4,
                week: 3,
                day: 4,
                title: "Áà∂ÊØçÁöÑÊúüÊúõ",
                content: "Áà∂‰∫≤Âú®È•≠Ê°å‰∏äËØ¥Ôºö'Âê¨ËØ¥XXXÂÆ∂ÁöÑÂ≠©Â≠êËøôÊ¨°ËÄÉ‰∫ÜÁè≠Á∫ßÁ¨¨‰∏Ä,‰Ω†‰ª•ÂâçÊêûÁ´ûËµõ,Áé∞Âú®‰∏çËÉΩËêΩÂêéÂïä„ÄÇ'‰Ω†Êè°ÁùÄÁ≠∑Â≠êÁöÑÊâãÁ¥ß‰∫ÜÁ¥ß„ÄÇ",
                choices: [
                    { text: "Ê≤âÈªò‰∏çËØ≠,ÈªòÈªòÊâøÂèó", effect: { stress: 8, parents: -2 }, next: 5 },
                    { text: "Ëß£ÈáäËØ¥ÈúÄË¶ÅÊó∂Èó¥ÈÄÇÂ∫î", effect: { parents: 2, stress: 2 }, next: 5 },
                    { text: "ÂèëËÑæÊ∞îËØ¥'‰Ω†‰ª¨ÊáÇ‰ªÄ‰πàÔºÅ'", effect: { parents: -10, stress: 10, health: -5 }, next: 5 }
                ]
            },
            {
                id: 5,
                week: 4,
                day: 1,
                title: "ÊóßÂèãÈáçÈÄ¢",
                content: "Âú®Ëµ∞ÂªäÈÅáÂà∞‰ª•ÂâçÈõÜËÆ≠ÁöÑÈòüÂèã„ÄÇ‰ªñÈóÆÔºö'ÊÄé‰πàÈÄÄÁ´û‰∫ÜÔºü'‰Ω†‰∏çÁü•Â¶Ç‰ΩïÂõûÁ≠î„ÄÇ‰ªñÊãçÊãç‰Ω†ÁöÑËÇ©Ôºö'ÊñáÂåñËØæ‰πü‰∏çÂÆπÊòì,Âä†Ê≤π„ÄÇ'",
                choices: [
                    { text: "ÊÑüÂà∞Â§±ËêΩ,ÊÄÄÁñëÈÄâÊã©", effect: { stress: 10 }, next: 6 },
                    { text: "ÈáäÁÑ∂‰∏ÄÁ¨ë,ÂêÑËá™ÊúâË∑Ø", effect: { stress: -3 }, next: 6 },
                    { text: "Êöó‰∏ãÂÜ≥ÂøÉ,Ë¶ÅËØÅÊòéËá™Â∑±", effect: { energy: 5, stress: 5 }, next: 6 }
                ]
            },
            {
                id: 6,
                week: 5,
                day: 3,
                title: "ÊöóÊÅãÁöÑÊÇ∏Âä®",
                content: "Â•πËΩ¨ËøáÂ§¥ÈóÆ‰Ω†Áâ©ÁêÜÈ¢ò,ÂèëÊ¢¢ÁöÑÈ¶ôÂë≥ËÆ©‰Ω†ÂøÉË∑≥Âä†ÈÄü„ÄÇ‰Ω†ÂèëÁé∞Â•π‰πüÂú®Âä™ÂäõÂ≠¶‰π†,Á¨îËÆ∞Êú¨‰∏äÂØÜÂØÜÈ∫ªÈ∫ª„ÄÇÂéüÊù•Â§ßÂÆ∂ÈÉΩÂú®‰∏∫Êú™Êù•ÊãºÂëΩ„ÄÇ",
                choices: [
                    { text: "ËÆ§ÁúüËÆ≤È¢ò,Â±ïÁ§∫ÂÆûÂäõ", effect: { crush: 7, physics: 1 }, next: 7 },
                    { text: "Á¥ßÂº†ÁªìÂ∑¥,ÂèëÊå•Â§±Â∏∏", effect: { crush: -5, stress: 3 }, next: 7 },
                    { text: "ËÆ≤ÂÆåÂêéÈÇÄËØ∑‰∏ÄËµ∑Â≠¶‰π†", effect: { crush: 12, stress: -10, subjects: { all: 2 } }, next: 7 }
                ]
            },
            {
                id: 7,
                week: 6,
                day: 3,
                title: "Ê®°ÂºèÁöÑÁ¢∞Êíû",
                content: "Áâ©ÁêÜËØæËÆ≤Âà∞‰∏Ä‰∏™Â§çÊùÇÊ®°Âûã,‰Ω†‰∏ãÊÑèËØÜÂú∞Áî®Á´ûËµõÁöÑÊÄùÁª¥ÂéªÊãÜËß£,ÂæàÂø´ÊâæÂà∞‰∫ÜÂÖ≥ÈîÆ„ÄÇ‰ΩÜËß£È¢òÊ≠•È™§Âç¥ÂíåÊ†áÂáÜÁ≠îÊ°àÂ§ßÁõ∏ÂæÑÂ∫≠„ÄÇËÄÅÂ∏àÁúãÁùÄ‰Ω†ÁöÑËçâÁ®øÁ∫∏,Ëã•ÊúâÊâÄÊÄù„ÄÇ",
                choices: [
                    { text: "ÂêëËÄÅÂ∏àËß£Èáä‰Ω†ÁöÑÊÄùË∑Ø", effect: { physicsTeacher: 5, stress: -2, physics: 1 }, next: 8 },
                    { text: "ÈªòÈªòÊì¶Êéâ,ÊåâËØæÊú¨ÊñπÊ≥ïÈáçÂÅö", effect: { stress: 3 }, next: 8 },
                    { text: "ËØæÂêéÂíåÂêåÂ≠¶ËÆ®ËÆ∫‰Ω†ÁöÑÊñπÊ≥ï", effect: { classmateA: 3, physics: 2 }, next: 8 }
                ]
            },
            {
                id: 8,
                week: 7,
                day: 5,
                title: "Âë®Êú´ÁöÑÂõæ‰π¶È¶Ü",
                content: "‰Ω†ÈÄâÊã©ÂéªÂõæ‰π¶È¶ÜËá™‰π†,Âç¥ÂÅ∂ÈÅá‰∫Ü‰πüÂú®ÈÇ£ÈáåÁöÑÂ•π„ÄÇ‰Ω†‰ª¨ÈªòÂ•ëÂú∞ÂùêÂà∞‰∫ÜËßíËêΩÁöÑÂêå‰∏ÄÂº†Ê°åÂ≠ê,Êï¥Êï¥‰∏Ä‰∏™‰∏ãÂçà,Âè™ÊúâÁøª‰π¶Â£∞ÂíåÂÅ∂Â∞î‰ΩéÂ£∞ÁöÑËÆ®ËÆ∫„ÄÇ",
                choices: [
                    { text: "‰∏ìÊ≥®Â≠¶‰π†,ÂÅ∂Â∞î‰∫§ÊµÅ", effect: { crush: 3, subjects: { all: 1 }, stress: 5 }, next: 9 },
                    { text: "ÂàÜÂøÉÂÖ≥Ê≥®Â•π,ÊïàÁéáÈôç‰Ωé", effect: { crush: 5, energy: -5 }, next: 9 },
                    { text: "ÊèêÂâçÁ¶ªÂºÄ,ÈÅøÂÖçÁ¥ßÂº†", effect: { stress: -3, crush: -5 }, next: 9 }
                ]
            },
            {
                id: 9,
                week: 8,
                day: 4,
                title: "Á¨¨‰∏ÄÊ¨°ÊúàËÄÉ",
                content: "ÊàêÁª©Âá∫Êù•‰∫Ü,‰Ω†ËøõÊ≠•‰∫ÜËÆ∏Â§ö„ÄÇËÄÅÂ∏àÂú®ÂÖ®Áè≠Èù¢ÂâçË°®Êâ¨‰Ω†Ôºö'XXXÂêåÂ≠¶‰ªéÁ´ûËµõËΩ¨ÊñáÂåñËØæ,ÈÄÇÂ∫îÂæóÂæàÂø´„ÄÇ'‰Ω†ÁúãÂà∞Áà∂ÊØçÁúº‰∏≠ÁöÑÊ¨£ÊÖ∞„ÄÇ",
                choices: [
                    { text: "ÁªßÁª≠‰øùÊåÅ,ÂÜ≤ÂáªÊõ¥È´òÂàÜÊï∞", effect: { energy: 5, stress: -5, teacher: 5 }, next: 10 },
                    { text: "ÊùæÊáà‰∏ãÊù•,ÊÉ≥‰ºëÊÅØÂá†Â§©", effect: { energy: 10, stress: -10 }, next: 10 },
                    { text: "ÊÑüÂà∞Ëø∑Ëå´,‰∏çÁü•ÈÅìÊÑè‰πâ‰ΩïÂú®", effect: { stress: 8 }, next: 10 }
                ]
            },
            {
                id: 10,
                week: 9,
                day: 1,
                title: "Áè≠ÂßîÁ´ûÈÄâ",
                content: "Áè≠‰∏ª‰ªªÂª∫ËÆÆ‰Ω†Á´ûÈÄâÂ≠¶‰π†ÂßîÂëò,ËØ¥‰Ω†ÁöÑÁ´ûËµõÁªèÂéÜËÉΩÂ∏ÆÂä©ÂêåÂ≠¶„ÄÇ‰Ω†ÁäπË±´‰∫Ü,Ëøô‰ºö‰∏ç‰ºöÂç†Áî®Â§™Â§öÂ≠¶‰π†Êó∂Èó¥Ôºü",
                choices: [
                    { text: "Êé•ÂèóÊåëÊàò,ÂèÇÂä†Á´ûÈÄâ", effect: { teacher: 5, classmateA: 3, classmateB: 3, stress: 5, energy: -10 }, next: 11 },
                    { text: "Â©âÊãí,ËØ¥ÊòéË¶Å‰∏ìÊ≥®Â≠¶‰π†", effect: { stress: -3, teacher: -2 }, next: 11 },
                    { text: "Êäò‰∏≠,Âè™ÂÅöÁßë‰ª£Ë°®", effect: { teacher: 2, stress: 2 }, next: 11 }
                ]
            },
            {
                id: 11,
                week: 10,
                day: 5,
                title: "ÊÑèÂ§ñÁöÑÁõüÂèã",
                content: "ÊîæÂ≠¶Êó∂‰∏ãÈõ®‰∫Ü,‰Ω†Ê≤°Â∏¶‰ºû„ÄÇÈÇ£‰∏™ÊÄªÂú®ÂüãÂ§¥Âà∑È¢òÁöÑ'Âç∑Áéã'ÂêåÊ°åÈªòÈªòÊää‰ºûÂæÄ‰Ω†ËøôËæπÊå™‰∫ÜÊå™„ÄÇ'‰∏ÄËµ∑Ëµ∞Âêß,È°∫‰æøÈóÆ‰Ω†‰∏äÂçàÈÇ£ÈÅìÈ¢òÁöÑÂè¶‰∏ÄÁßçËß£Ê≥ï„ÄÇ'",
                choices: [
                    { text: "ÊÑüÊøÄÊé•Âèó,Ë∑Ø‰∏äÁÉ≠ÁÉàËÆ®ËÆ∫", effect: { classmateA: 8, stress: -5, math: 1 }, next: 12 },
                    { text: "Â©âÊãí,ËØ¥ÊÉ≥Ëá™Â∑±ÈùôÈùô", effect: { stress: 2, energy: 5, health: -5 }, next: 12 },
                    { text: "Êé•Âèó,‰ΩÜ‰∏ÄË∑ØÊ≤âÈªò", effect: { classmateA: -2, stress: 5 }, next: 12 }
                ]
            },
            {
                id: 12,
                week: 11,
                day: 4,
                title: "Áâ©ÁêÜÁ´ûËµõÈ¢ò",
                content: "Áâ©ÁêÜËÄÅÂ∏à‰∏äËØæÊó∂ËÆ≤Âà∞‰∫Ü‰∏ÄÈÅìÊîπÁºñËá™Á´ûËµõÁöÑÈ¢òÁõÆ,ÂÖ®Áè≠Âè™Êúâ‰Ω†ÂíåÂè¶‰∏ÄÂêçÂêåÂ≠¶‰∏æÊâãË°®Á§∫‰ºöÂÅö„ÄÇËÄÅÂ∏àËÆ©‰Ω†‰ª¨ÂêÑËá™‰∏äÂè∞ËÆ≤Ëß£„ÄÇ",
                choices: [
                    { text: "Áî®ÁÆÄÊ¥ÅÁöÑÁ´ûËµõÊÄùË∑ØËÆ≤Ëß£", effect: { teacher: 1, physics: 2, stress: -3 }, next: 13 },
                    { text: "ÊåâÂ∏∏ËßÑËØæÊú¨ÊñπÊ≥ïËÆ≤Ëß£", effect: { stress: -2 }, next: 13 },
                    { text: "Ë∞¶ËÆ©,ËÆ©ÂêåÂ≠¶ÂÖàËÆ≤", effect: { classmateA: 3, teacher: 1 }, next: 13 }
                ]
            },
            {
                id: 13,
                week: 12,
                day: 6,
                title: "Ê∑±Â§úÁöÑÂØπËØù",
                content: "ÊØç‰∫≤Ê∑±Â§úÁ´ØÊù•ÁâõÂ•∂Ôºö'ÂÖ∂ÂÆûÊàë‰ª¨‰∏çÊ±Ç‰Ω†ËÄÉÂ§öÂ•Ω,Âè™Â∏åÊúõ‰Ω†Âà´ÂêéÊÇî„ÄÇ'‰Ω†Á¨¨‰∏ÄÊ¨°ÂíåÁà∂ÊØçËÅäËµ∑Á´ûËµõÁöÑÊó•Â≠ê,ËÅäËµ∑ÈÇ£‰∫õÁÜ¨Â§úÂà∑È¢òÁöÑÊó∂ÂÖâ„ÄÇ",
                choices: [
                    { text: "ÊÑüÂä®ËêΩÊ≥™,ÂéãÂäõÈáäÊîæ", effect: { parents: 10, stress: -15 }, next: 14 },
                    { text: "Ë°®Èù¢Âπ≥Èùô,ÂÜÖÂøÉÊ∏©Êöñ", effect: { parents: 5, stress: -8 }, next: 14 },
                    { text: "ËßâÂæóÂî†Âè®,‰∏çËÄêÁÉ¶", effect: { parents: -5, stress: 3 }, next: 14 }
                ]
            },
            {
                id: 14,
                week: 13,
                day: 0,
                title: "ÊØç‰∫≤ÁöÑÊó©È§ê",
                content: "ËøûÁª≠‰∏ÄÂë®,‰Ω†ÂèëÁé∞Êó©È§êÁõíÈáåÂ§ö‰∫ÜÂº†‰æøÁ≠æ„ÄÇ‰ªäÂ§©ÂÜôÁùÄÔºö'ËÆ∞ÂæóÂêÉÈ∏°Ëõã,Ë°•ÂÖÖËõãÁôΩË¥®„ÄÇÂà´Â§™Êãº,Ë∫´‰ΩìË¶ÅÁ¥ß„ÄÇ'Â≠óËøπÊòØÊØç‰∫≤ÁöÑ„ÄÇ",
                choices: [
                    { text: "ÁªôÊØç‰∫≤ÂèëÁü≠‰ø°ÊÑüË∞¢", effect: { parents: 5, stress: -5 }, next: 15 },
                    { text: "Êää‰æøÁ≠æÂ∞èÂøÉÊî∂Ëµ∑Êù•", effect: { parents: 3, stress: -3 }, next: 15 },
                    { text: "ËßâÂæóÈöæ‰∏∫ÊÉÖ,ÊâîÊéâ‰æøÁ≠æ", effect: { stress: 2 }, next: 15 }
                ]
            },
            {
                id: 15,
                week: 14,
                day: 0,
                title: "Áì∂È¢àÊúü",
                content: "ÊúÄËøëÂá†Ê¨°Âë®ÊµãÊàêÁª©ÂÉèÂç°‰Ωè‰∫Ü‰∏ÄÊ†∑,‰∏çËøõ‰∏çÈÄÄ„ÄÇ‰Ω†ÁúãÁùÄÈÇ£‰∫õÂèçÂ§çÂá∫ÈîôÁöÑÈ¢òÂûã,Á¨¨‰∏ÄÊ¨°ÂØπ'Âä™ÂäõÂ∞±ÊúâÂõûÊä•'‰∫ßÁîü‰∫ÜÊÄÄÁñë„ÄÇÊ∑±Â§ú,Âè∞ÁÅØÁöÑÂÖâÊòæÂæóÊ†ºÂ§ñÂà∫Áúº„ÄÇ",
                choices: [
                    { text: "Êõ¥ÁñØÁãÇÂà∑È¢ò,Á™ÅÁ†¥Áì∂È¢à", effect: { energy: -15, stress: 10, math: 1 }, next: 16 },
                    { text: "ÂÅú‰∏ãÊù•,ÈáçÊñ∞ÂàÜÊûêÈîôÈ¢òÊú¨", effect: { stress: -3, subjects: { all: 1 } }, next: 16 },
                    { text: "ÊöÇÊó∂Êîæ‰∏ã,ÂéªÊìçÂú∫Ë∑ëÊ≠•", effect: { energy: 10, stress: -8 }, next: 16 }
                ]
            },
            {
                id: 16,
                week: 15,
                day: 3,
                title: "ÂêåÊ°åÁöÑÊ±ÇÂä©",
                content: "'Âç∑Áéã'ÂêåÊ°åÁΩïËßÅÂú∞Êâæ‰Ω†Ê±ÇÂä©Ôºö'ËøôÈÅìÊï∞Â≠¶ÂéãËΩ¥È¢ò,‰Ω†ÁöÑËß£Ê≥ïÊØîÊàëÁÆÄÊ¥ÅÂ§ö‰∫Ü,ËÉΩÊïôÊàëÂêóÔºü'‰Ω†‰ª¨Ëä±‰∫ÜÊï¥‰∏™Âçà‰ºëÊó∂Èó¥‰∏ÄËµ∑ÈíªÁ†î„ÄÇ",
                choices: [
                    { text: "ËÄêÂøÉËÆ≤Ëß£,ÂàÜ‰∫´ÊÄùË∑Ø", effect: { classmateA: 8, math: 1, stress: -3 }, next: 17 },
                    { text: "ÂåÜÂåÜËÆ≤ÂÆå,ÁªßÁª≠Âà∑È¢ò", effect: { classmateA: 2 }, next: 17 },
                    { text: "ÂÄüÊ≠§Êú∫‰ºöËÆ®ËÆ∫Êõ¥Â§öÈöæÈ¢ò", effect: { classmateA: 5, math: 2, energy: -5 }, next: 17 }
                ]
            },
            {
                id: 17,
                week: 16,
                day: 2,
                title: "ÂõûÂìç",
                content: "Êî∂Âà∞ÊõæÁªèOIÊïôÁªÉÁöÑÈÇÆ‰ª∂Ôºö'Âê¨ËØ¥‰Ω†ËΩ¨ÊñáÂåñËØæ‰∫Ü,Êó†ËÆ∫ÈÄâÊã©‰ªÄ‰πà,ÈÉΩË¶ÅÂÉèËß£È¢ò‰∏ÄÊ†∑,ÊâæÂà∞ÊúÄ‰ºòËß£„ÄÇ'‰Ω†Á™ÅÁÑ∂ÊòéÁôΩ,Á´ûËµõÊïô‰ºö‰Ω†ÁöÑ‰∏çÂè™ÊòØÁÆóÊ≥ï,Êõ¥ÊòØÊÄùÁª¥ÊñπÂºè„ÄÇ",
                choices: [
                    { text: "ÈáçÊãæ‰ø°ÂøÉ,Â∫îÁî®ÁÆóÊ≥ïÊÄùÁª¥", effect: { math: 3, physics: 2, stress: -5 }, next: 18 },
                    { text: "ÊÑüÂà∞ÈÅóÊÜæ,Âõû‰∏çÂéª‰∫Ü", effect: { stress: 8 }, next: 18 },
                    { text: "ÈáäÁÑ∂,ÊÑüË∞¢ÈÇ£ÊÆµÁªèÂéÜ", effect: { stress: -8, energy: 5 }, next: 18 }
                ]
            },
            {
                id: 18,
                week: 17,
                day: 6,
                title: "Âë®Êó•ÁöÑÁØÆÁêÉÂú∫",
                content: "Áà∂‰∫≤ÈöæÂæó‰ºëÊÅØ,ÈóÆ‰Ω†Ë¶Å‰∏çË¶ÅÂéªÊâìÁêÉ„ÄÇ‰Ω†Â∑≤ÁªèÂæà‰πÖÊ≤°Êë∏ÁØÆÁêÉ‰∫Ü,‰∏ä‰∏ÄÊ¨°ËøòÊòØÁ´ûËµõÈõÜËÆ≠Ââç„ÄÇ",
                choices: [
                    { text: "Êîæ‰∏ã‰π¶Êú¨,ÂéªÊâì‰∏ÄÂú∫", effect: { parents: 5, energy: 10, stress: -8 }, next: 19 },
                    { text: "ÊãíÁªù,ËØ¥‰Ωú‰∏öÂ§™Â§ö", effect: { parents: -2, stress: 3 }, next: 19 },
                    { text: "Êäò‰∏≠,Âè™ÊâìÂçäÂ∞èÊó∂", effect: { parents: 3, energy: 5, stress: -3 }, next: 19 }
                ]
            },
            {
                id: 19,
                week: 18,
                day: 4,
                title: "Áà∂‰∫≤ÁöÑ‰π¶Êàø",
                content: "‰Ω†ÊâæËµÑÊñôÊó∂,Êó†ÊÑèÁúãÂà∞Áà∂‰∫≤ÊäΩÂ±âÈáå‰∏Ä‰∏™ÊóßÁ¨îËÆ∞Êú¨„ÄÇÈáåÈù¢Á´üËÆ∞ÂΩïÁùÄ‰ªñÂπ¥ËΩªÊó∂Ëá™Â≠¶Êó†Á∫øÁîµÁöÑÁîµË∑ØÂõæ,ËøòÊúâ‰∏ÄË°åÂ∞èÂ≠óÔºö'ÁªôÊú™Êù•ÁöÑÂÑøÂ≠êÔºöÊâæÂà∞‰Ω†ÁöÑÈ¢ëÁéá„ÄÇ'",
                choices: [
                    { text: "Ê∑±ÂèóËß¶Âä®,‰∏éÁà∂‰∫≤Ê∑±Â§úÈïøË∞à", effect: { parents: 5, stress: -10, energy: 5 }, next: 20 },
                    { text: "ÈªòÈªòÊîæÂõû,‰ΩÜÂÜÖÂøÉÊ≥õËµ∑Ê≥¢Êæú", effect: { parents: 2, stress: -5 }, next: 20 },
                    { text: "ËßâÂæóÊó†ÂÖ≥,ÁªßÁª≠Ëá™Â∑±ÁöÑÁÑ¶Ëôë", effect: { stress: 10 }, next: 20 }
                ]
            },
            {
                id: 20,
                week: 19,
                day: 2,
                title: "Ëã±ËØ≠ÊºîËÆ≤",
                content: "Ëã±ËØ≠ËØæË¶ÅÊ±ÇÊØè‰∫∫ÂÅö‰∏âÂàÜÈíüÊºîËÆ≤„ÄÇ‰Ω†ÈÄâÊã©‰∫Ü'ÁÆóÊ≥ï‰∏é‰∫∫Áîü'Ëøô‰∏™È¢òÁõÆ,Áî®ËÆ°ÁÆóÊú∫ÊúØËØ≠ÊØîÂñªÂ≠¶‰π†ËøáÁ®ã„ÄÇËÆ≤ÂÆåÂêé,ÂêåÂ≠¶‰ª¨Ëã•ÊúâÊâÄÊÄù„ÄÇ",
                choices: [
                    { text: "ÊÑüÂà∞Ëá™‰ø°,Êî∂Ëé∑ÊéåÂ£∞", effect: { english: 2, stress: -5, teacher: 3 }, next: 21 },
                    { text: "Á¥ßÂº†ËøáÂ∫¶,ÂèëÊå•‰∏ç‰Ω≥", effect: { stress: 5 }, next: 21 },
                    { text: "Âπ≥Ê∑°ÂÆåÊàê,‰ΩÜÂÜÖÂøÉÊª°Ë∂≥", effect: { stress: -3 }, next: 21 }
                ]
            },
            {
                id: 21,
                week: 20,
                day: 1,
                title: "ÂõûÂ∫î",
                content: "Â•πÈÄíÊù•‰∏ÄÂº†Á∫∏Êù°Ôºö'Ë∞¢Ë∞¢‰Ω†‰∏ÄÁõ¥Â∏ÆÊàë...„ÄÇÊàë‰ª¨‰∏ÄËµ∑Âä™Âäõ,ËÄÉÂêå‰∏ÄÊâÄÂ§ßÂ≠¶ÂêßÔºÅ'",
                choices: [
                    { text: "ÂºÄÂøÉÊé•Âèó,Âä®ÂäõÊª°Êª°", effect: { crush: 15, stress: -10, energy: 30 }, next: 22 },
                    { text: "Á¥ßÂº†‰∏çÁü•ÊâÄÊé™", effect: { stress: 10 }, next: 22 },
                    { text: "ÊãíÁªù,ËØ¥Ë¶Å‰∏ìÂøÉÂ≠¶‰π†", effect: { crush: -20, stress: 5 }, next: 22 }
                ]
            },
            {
                id: 22,
                week: 21,
                day: 5,
                title: "ÊôöËá™‰π†ÁöÑÂÅúÁîµ",
                content: "ÊôöËá™‰π†Êó∂Á™ÅÁÑ∂ÂÅúÁîµ,ÊïôÂÆ§Èô∑ÂÖ•ÈªëÊöóÂíåÁü≠ÊöÇÁöÑÈ™öÂä®„ÄÇÊúâ‰∫∫ÊâìÂºÄ‰∫ÜÊâãÊú∫ÊâãÁîµÁ≠í,ÂæÆÂÖâ‰∏≠,‰Ω†ÁúãÂà∞Â•πÊ≠£Â∞±ÁùÄÂÖâÁªßÁª≠Áúã‰π¶„ÄÇ",
                choices: [
                    { text: "‰πüÊâìÂºÄÊâãÊú∫,ÁªßÁª≠Â≠¶‰π†", effect: { crush: 1, stress: -2 }, next: 23 },
                    { text: "ÊèêËÆÆÂ§ßÂÆ∂‰ºëÊÅØËÅäÂ§©", effect: { classmateA: 5, stress: -8 }, next: 23 },
                    { text: "ÈªòÈªòÁúãÁùÄÁ™óÂ§ñ,ÊÄùËÄÉ", effect: { stress: -5 }, next: 23 }
                ]
            },
            {
                id: 23,
                week: 22,
                day: 2,
                title: "Â•πÁöÑÁîüÊó•",
                content: "‰Ω†Âê¨ËØ¥‰ªäÂ§©ÊòØÂ•πÁöÑÁîüÊó•„ÄÇÁäπË±´ÂÜç‰∏â,‰Ω†Âú®Â•πÂ∏∏ÈóÆÈóÆÈ¢òÁöÑÈÇ£Êú¨Áâ©ÁêÜ‰π†È¢òÈõÜÊââÈ°µ,Áî®ÈìÖÁ¨îËΩªËΩªÂÜô‰∏ã'Happy Birthday'„ÄÇ",
                choices: [
                    { text: "ÈºìËµ∑ÂãáÊ∞î,ÂΩìÈù¢ÈÄÅÁªôÂ•πÂπ∂Á•ùÂ•πÁîüÊó•Âø´‰πê", effect: { crush: 5, stress: 5 }, next: 24 },
                    { text: "Ë∂ÅÂ•π‰∏çÊ≥®ÊÑè,ÊÇÑÊÇÑÊîæÂõûÂ•π‰π¶Ê°å", effect: { crush: 2, stress: -2 }, next: 24 },
                    { text: "ÊúÄÁªàÊì¶Êéâ,Ê≤°ÊúâË°åÂä®", effect: { stress: 3, crush: -5 }, next: 24 }
                ]
            },
            {
                id: 24,
                week: 23,
                day: 1,
                title: "Ê®°ÊãüÂøóÊÑøÂ°´Êä•",
                content: "Â≠¶Ê†°ÁªÑÁªáÊ®°ÊãüÂ°´Êä•ÂøóÊÑø„ÄÇ‰Ω†ÁúãÁùÄÈÇ£‰∫õÊõæÁªèÊ¢¶ÊÉ≥ÁöÑËÆ°ÁÆóÊú∫Âº∫Ê†°,ÂèàÁúã‰∫ÜÁúãËá™Â∑±Áé∞Âú®ÁöÑÊàêÁª©,Âú®ÁêÜÊÉ≥‰∏éÁé∞ÂÆûÈó¥ÁäπË±´„ÄÇ",
                choices: [
                    { text: "ÂùöÊåÅÊ¢¶ÊÉ≥,Â°´Êä•Âº∫Ê†°", effect: { energy: 10, stress: 8 }, next: 25 },
                    { text: "Âä°ÂÆûÈÄâÊã©,‰øùËØÅÂΩïÂèñ", effect: { stress: -5 }, next: 25 },
                    { text: "ÂæÅÊ±ÇËÄÅÂ∏àÂíåÁà∂ÊØçÊÑèËßÅ", effect: { parents: 3, teacher: 3, stress: -3 }, next: 25 }
                ]
            },
            {
                id: 25,
                week: 24,
                day: 3,
                title: "ÂØíÂÅáÂâçÂ§ú",
                content: "ÊúüÊú´ËÄÉËØïÁªìÊùü,‰Ω†ËÄÉËøõ‰∫ÜÁè≠Á∫ßÂâç10„ÄÇÂØíÂÅáÊù•‰∏¥,‰ΩÜ‰Ω†Áü•ÈÅì,ÁúüÊ≠£ÁöÑÂÜ≤Âà∫ÊâçÂàöÂàöÂºÄÂßã„ÄÇ",
                choices: [
                    { text: "Âà∂ÂÆöÂØíÂÅáËÆ°Âàí,ÂÖ®ÂäõÂÜ≤Âà∫", effect: { energy: 5, stress: -5 }, next: 26 },
                    { text: "ÂÖàÊîæÊùæÂá†Â§©,ÂÜçÂ≠¶‰π†", effect: { energy: 10, stress: -10 }, next: 26 },
                    { text: "ÊÑüÂà∞Áñ≤ÊÉ´,ÊÉ≥ÊîæÂºÉ", effect: { stress: 10 }, next: 26 }
                ]
            },
            {
                id: 26,
                week: 26,
                day: 6,
                title: "ÂØíÂÅáËá™‰π†ÂÆ§",
                content: "‰Ω†ÂèëÁé∞'Âç∑Áéã'ÂêåÊ°åÂíåÂá†‰∏™ÂêåÂ≠¶ÁªÑ‰∫Ü‰∏™Á∫ø‰∏äËá™‰π†ÂÆ§,‰∫íÁõ∏ÁõëÁù£„ÄÇÂ•π‰πüÂú®ÈáåÈù¢„ÄÇÁäπË±´‰∫Ü‰∏Ä‰∏ã,‰Ω†ÂèëÈÄÅ‰∫ÜÂä†ÂÖ•Áî≥ËØ∑„ÄÇ",
                choices: [
                    { text: "ÊâìÂºÄÊëÑÂÉèÂ§¥,Ê≤âÊµ∏Â≠¶‰π†", effect: { energy: 5, crush: 3, classmateA: 5 }, next: 27 },
                    { text: "Âè™ÂºÄÈ∫¶,ÂÅ∂Â∞îËÆ®ËÆ∫ÈóÆÈ¢ò", effect: { stress: -3, subjects: { all: 1 } }, next: 27 },
                    { text: "ÊΩúÊ∞¥‰∏≠,ÊÑüÂèóÊ∞õÂõ¥", effect: { stress: -5 }, next: 27 }
                ]
            },
            {
                id: 27,
                week: 30,
                day: 5,
                title: "ÊÑüÊÇü",
                content: "‰∫≤Êàö‰ª¨ÈóÆËµ∑‰Ω†ÁöÑÊàêÁª©,Áà∂ÊØçÈ™ÑÂÇ≤Âú∞ËØ¥Ôºö'ËøõÊ≠•ÂæàÂ§ßÔºÅ'‰Ω†Á™ÅÁÑ∂ÊÑèËØÜÂà∞,Ëá™Â∑±ÁöÑÂä™Âäõ‰∏ç‰ªÖÊòØ‰∏∫‰∫ÜËá™Â∑±,‰πü‰∏∫‰∫Ü‰∏çËæúË¥ü‰ªñ‰ª¨ÁöÑÊúüÊúõ„ÄÇ",
                choices: [
                    { text: "ÊÑüÂà∞Ë¥£‰ªªÈáçÂ§ß", effect: { parents: 5, stress: 5 }, next: 28 },
                    { text: "ÊÑüÂà∞Ê∏©ÊöñÂíåÊîØÊåÅ", effect: { parents: 8, stress: -5 }, next: 28 },
                    { text: "ÊÑüÂà∞ÂéãÂäõÂÄçÂ¢û", effect: { stress: 10 }, next: 28 }
                ]
            },
            {
                id: 28,
                week: 32,
                day: 1,
                title: "‰∫åÊ®°‰πãÂêé",
                content: "Á¨¨‰∫åÊ¨°Ê®°ÊãüËÄÉÊéíÂêçÁ®≥‰∏≠ÊúâËøõ,‰ΩÜÁ¶ªÊ¢¶ÊÉ≥Â≠¶Ê†°ËøòÊúâË∑ùÁ¶ª„ÄÇËÄÅÂ∏àÂú®ÂàÜÊûêËØïÂç∑Êó∂ËØ¥Ôºö'Êúâ‰∫õ‰∫∫ÁöÑÊΩúÂäõ,‰ºöÂú®ÊúÄÂêé‰∏§‰∏™ÊúàÊâçÁúüÊ≠£ÁàÜÂèë„ÄÇ'‰Ω†ÊÑüËßâ‰ªñÂú®Áúã‰Ω†„ÄÇ",
                choices: [
                    { text: "Â§áÂèóÈºìËàû,ÁªÜÂåñÊØèÊó•ËÆ°Âàí", effect: { energy: 10, teacher: 5, stress: 3 }, next: 29 },
                    { text: "ÂéãÂäõÂÄçÂ¢û,ÂÆ≥ÊÄïËæúË¥üÊúüÊúõ", effect: { stress: 10 }, next: 29 },
                    { text: "Âπ≥ÈùôÂàÜÊûê,Êü•ÊºèË°•Áº∫", effect: { stress: -2, subjects: { all: 1 } }, next: 29 }
                ]
            },
            {
                id: 29,
                week: 35,
                day: 2,
                title: "ÂÄíËÆ°Êó∂100Â§©",
                content: "ÈªëÊùø‰∏äÁöÑÊï∞Â≠óÂèòÊàê100„ÄÇÊïôÂÆ§ÈáåÂº•Êº´ÁùÄÁ¥ßÂº†ÁöÑÊ∞îÊ∞õ,‰ΩÜ‰Ω†ÊÑüÂà∞‰∏ÄÁßçÂ•áÊÄ™ÁöÑÂπ≥Èùô„ÄÇ‰∏§Âπ¥Á´ûËµõ,‰∏ÄÂπ¥WHK,‰Ω†Â∑≤ÁªèÂáÜÂ§áÂ•Ω‰∫Ü„ÄÇ",
                choices: [
                    { text: "ÂÖÖÊª°‰ø°ÂøÉ,ËøéÊé•ÊåëÊàò", effect: { stress: 10, energy: 20 }, next: 30 },
                    { text: "ÊåâÈÉ®Â∞±Áè≠,‰øùÊåÅËäÇÂ•è", effect: { stress: 5 }, next: 30 },
                    { text: "Á¥ßÂº†‰∏çÂÆâ,Èöæ‰ª•ÂÖ•Áú†", effect: { stress: 10, energy: -5 }, next: 30 }
                ]
            },
            {
                id: 30,
                week: 38,
                day: 5,
                title: "ÊàòÂèãÁöÑÁ∫¶ÂÆö",
                content: "'Âç∑Áéã'ÂêåÊ°åÂú®ÊîæÂ≠¶ÂêéÂè´‰Ωè‰Ω†Ôºö'ÊúÄÂêéÂá†ÂçÅÂ§©‰∫Ü,ÊØîÊØîÁúãË∞Å‰∏ãÊ¨°Âë®ËÄÉÊï∞Â≠¶È´òÔºüËæì‰∫ÜËØ∑ÂñùÂ•∂Ëå∂„ÄÇ'‰Ω†ÁúãÂà∞‰ªñÁúºÈáåÁöÑËÆ§Áúü,‰∏çÂè™ÊòØÁé©Á¨ë„ÄÇ",
                choices: [
                    { text: "Ê¨£ÁÑ∂Â∫îÊàò,ÂáªÊéå‰∏∫Ë™ì", effect: { classmateA: 10, energy: 8, stress: -3 }, next: 31 },
                    { text: "Ëã¶Á¨ëËØ¥ÂéãÂäõÂ•ΩÂ§ß,‰ΩÜÊé•Âèó", effect: { stress: 5, classmateA: 5 }, next: 31 },
                    { text: "ÊãíÁªù,ËØ¥‰∏çÊÉ≥ÂàÜÂøÉ", effect: { stress: -2, classmateA: -3 }, next: 31 }
                ]
            },


            {
                id: 31,
                week: 40,
                day: 4,
                title: "ÊúÄÂêéÁöÑÂÜ≤Âà∫",
                content: "Â∞èÂÅáÊúü,‰Ω†ÊãíÁªù‰∫ÜÊâÄÊúâÈÇÄÁ∫¶,ÊØèÂ§©Â≠¶‰π†16Â∞èÊó∂„ÄÇËôΩÁÑ∂ËæõËã¶,‰ΩÜ‰Ω†Áü•ÈÅì,ËøôÊòØÊúÄÂêéÁöÑÂÜ≤Âà∫„ÄÇ",
                choices: [
                    { text: "ÂùöÊåÅÂà∞Â∫ï,‰∏çÊîæÂºÉ", effect: { energy: -10, stress: 5, subjects: { all: 2 }, health: -5 }, next: 32 },
                    { text: "ÈÄÇÂΩì‰ºëÊÅØ,Âä≥ÈÄ∏ÁªìÂêà", effect: { energy: 5, stress: -5 }, next: 32 },
                    { text: "ÊÑüÂà∞Â¥©Ê∫É,ÊÉ≥ÊîæÂºÉ", effect: { stress: 15, energy: -15 }, next: 32 }
                ]
            },
            {
                id: 32,
                week: 42,
                day: 0,
                title: "‰∏ÄÂú∫ÈáçÊÑüÂÜí",
                content: "ËøûÊó•ÁöÑÁñ≤Âä≥ÁßØÁ¥Ø,‰Ω†Áªà‰∫éÁóÖÂÄí‰∫Ü„ÄÇÈ´òÁÉßÊó∂Ëø∑Ëø∑Á≥äÁ≥ä,ÊÉ≥Ëµ∑‰ª•ÂâçÁ´ûËµõÂâç‰πüÊÄªËøôÊ†∑„ÄÇÊØç‰∫≤ÂÆàÂú®Â∫äËæπ,Áî®ÊπøÊØõÂ∑æÁªô‰Ω†Êï∑È¢ùÂ§¥,Â∞±ÂÉèÂ∞èÊó∂ÂÄô‰∏ÄÊ†∑„ÄÇ",
                choices: [
                    { text: "ÊÑßÁñöÂèàÊ∏©Êöñ,‰πñ‰πñ‰ºëÊÅØ", effect: { parents: 8, energy: 15, stress: -10 }, next: 33 },
                    { text: "ÂøÉÊÄ•Â¶ÇÁÑö,ÊÉ≥Áà¨Ëµ∑Êù•Áúã‰π¶", effect: { energy: -10, stress: 10, parents: -2, health: -30 }, next: 33 },
                    { text: "ÊòèÊòèÊ≤âÊ≤â,Âè™ÊÉ≥Áù°Ëßâ", effect: { energy: 20, stress: -5 }, next: 33 }
                ]
            },
            {
                id: 33,
                week: 45,
                day: 1,
                title: "ÊúÄÂêéÁöÑÂëäÂà´",
                content: "È´òËÄÉÂâç60Â§©,‰Ω†Êï¥ÁêÜ‰π¶Ê°å,ÁøªÂá∫ÈÇ£Âº†ÂêàÂΩ±„ÄÇÁÖßÁâáËÉåÈù¢ÂÜôÁùÄÔºö'To be continued...'‰Ω†Á¨ë‰∫ÜÁ¨ë,ÊääÂÆÉÊî∂ËøõÊäΩÂ±â„ÄÇÊòØÁöÑ,ÊïÖ‰∫ãËøòÂú®ÁªßÁª≠„ÄÇ",
                choices: [
                    { text: "ÂÖÖÊª°ÊúüÂæÖ,ËøéÊé•ÊåëÊàò", effect: { stress: -10, energy: 10 }, next: 34 },
                    { text: "Âπ≥ÈùôÊé•Âèó,È°∫ÂÖ∂Ëá™ÁÑ∂", effect: { stress: -5 }, next: 34 },
                    { text: "Á¥ßÂº†‰∏çÂÆâ,Èöæ‰ª•ÂÖ•Áú†", effect: { stress: 10, energy: -5, health: -10 }, next: 34 }
                ]
            },
            {
                id: 34,
                week: 48,
                day: 3,
                title: "ÊúÄÂêéÁöÑÁ≠îÁñë",
                content: "ÊîæÂ≠¶Âêé,‰Ω†ÈºìËµ∑ÂãáÊ∞îÂêëÊöóÊÅãÁöÑÂ•πÈóÆ‰∫ÜÈÅì‰∏ÄÁõ¥Ê≤°ÂºÑÊáÇÁöÑËØ≠ÊñáÂè§ËØóÈâ¥ËµèÈ¢ò„ÄÇÂ•πËÆ≤ÂæóÂæà‰ªîÁªÜ,Â§ïÈò≥Êää‰∏§‰∏™‰∫∫ÁöÑÂΩ±Â≠êÊãâÂæóÂæàÈïø„ÄÇËÆ≤ÂÆåÂêé,‰∏§‰∫∫ÈÉΩÊ≤âÈªò‰∫Ü‰∏Ä‰ºöÂÑø„ÄÇ",
                choices: [
                    { text: "ËΩªÂ£∞ËØ¥'Ë∞¢Ë∞¢,‰∏ÄËµ∑Âä†Ê≤π'", effect: { crush: 5, stress: -8, energy: 5 }, next: 35 },
                    { text: "ÂºÄÁé©Á¨ëÁºìËß£Ê∞îÊ∞õ'ËÄÉÂÆåÂÜçË∞¢‰Ω†'", effect: { crush: 3, stress: -5 }, next: 35 },
                    { text: "ÁÇπÁÇπÂ§¥,ÂåÜÂøôÊî∂Êãæ‰π¶ÂåÖÁ¶ªÂºÄ", effect: { stress: 3, crush: -3 }, next: 35 }
                ]
            },
            {
                id: 35,
                week: 50,
                day: 6,
                title: "È´òËÄÉÂâçÂ§ú",
                content: "‰Ω†Ë∫∫Âú®Â∫ä‰∏ä,ÂõûÊÉ≥Ëøô‰∏ÄÂπ¥„ÄÇ‰ªéËø∑Ëå´Âà∞ÂùöÂÆö,‰ªéÂ§±ËêΩÂà∞Â∏åÊúõ„ÄÇÊó†ËÆ∫ÁªìÊûúÂ¶Ç‰Ωï,‰Ω†ÈÉΩÂ∑≤ÁªèÊàêÈïø„ÄÇÈ©¨‰∏äÂ∞±ÊòØÊ£ÄÈ™åÁöÑÊó∂Âàª„ÄÇ",
                choices: [
                    { text: "ÂÖÖÊª°‰ø°ÂøÉ,ÂÆâÁÑ∂ÂÖ•Áù°", effect: { stress: -10, energy: 5 }, next: 36 },
                    { text: "Âπ≥ÈùôÊé•Âèó,È°∫ÂÖ∂Ëá™ÁÑ∂", effect: { stress: -5 }, next: 36 },
                    { text: "Á¥ßÂº†Â§ç‰π†,ÊúÄÂêéÂÜ≤Âà∫", effect: { energy: -10, stress: 10 }, next: 36 }
                ]
            },
            {
                id: 36,
                week: 51,
                day: 6,
                title: "ÊâøËØ∫",
                content: "Â•πÊâæÂà∞‰Ω†:'È´òËÄÉÂä†Ê≤πÔºÅÊàë‰ª¨......'",
                choices: [
                    { text: "Áõ∏Á∫¶ËÄÉÂêé,ÂÖ±Ëµ¥Â±±Êµ∑", effect: { stress: 5, energy: 5, crush: 10 }, next: null },
                    { text: "ÈªòÈªòÁÇπÂ§¥,ËΩ¨Ë∫´Á¶ªÂéª", effect: { stress: 10, energy: 5, crush: 5 }, next: null },
                    { text: "ÂøÉ‰π±Â¶ÇÈ∫ª,Êó†Ë®Ä‰ª•ÂØπ", effect: { energy: -10, stress: 10, crush: -2 }, next: null }
                ]
            },
        ];





        // ÈöêËóèÂâßÊÉÖÔºàÁâπÊÆäÊù°‰ª∂Ëß¶ÂèëÔºâ
        const hiddenEvents = [
            {
                id: 'h1',
                condition: (state) => state.relationships.crush >= 60 && state.week >= 20,
                title: "ÁßòÂØÜÂü∫Âú∞",
                content: "Â•πÂ∏¶‰Ω†Êù•Âà∞Â≠¶Ê†°Â§©Âè∞,ËØ¥ËøôÊòØÂ•πÁöÑÁßòÂØÜÂü∫Âú∞„ÄÇ‰Ω†‰ª¨Èù†Âú®‰∏ÄËµ∑‰∏ÄËµ∑ÁúãÂ§ïÈò≥,ËÅäÊú™Êù•„ÄÇËøôÊòØ‰Ω†AFOÂêéÊúÄÊîæÊùæÁöÑÊó∂Âàª„ÄÇ",
                effect: { crush: 5, stress: -15, energy: 5 }
            },
            {
                id: 'h2',
                condition: (state) => state.memoryCount >= 5 && state.week >= 15,
                title: "ÊïôÁªÉÁöÑÁîµËØù",
                content: "OIÊïôÁªÉÊâìÊù•ÁîµËØùÔºö'Êó†ËÆ∫ÈÄâÊã©‰ªÄ‰πà,ÈÉΩË¶ÅÂÅöÂà∞ÊúÄÂ•Ω,Âä†Ê≤πÔºÅ'",
                effect: { stress: -10, energy: 5, mental: 5 }
            },
            {
                id: 'h3',
                condition: (state) => state.relationships.parents >= 80 && state.week >= 10,
                title: "Áà∂ÊØçÁöÑ‰ø°",
                content: "‰Ω†Âú®‰π¶ÂåÖÈáåÂèëÁé∞Áà∂ÊØçÂÜôÁöÑ‰∏ÄÂ∞Å‰ø°Ôºö'Â≠©Â≠ê,Êàë‰ª¨‰∏∫‰Ω†È™ÑÂÇ≤„ÄÇ‰∏çÊòØÂõ†‰∏∫ÊàêÁª©,ËÄåÊòØÂõ†‰∏∫‰Ω†ÁöÑÂùöÊåÅ„ÄÇ'",
                effect: { parents: 10, stress: -15, mental: 10 }
            },
            {
                id: 'h4',
                condition: (state) => state.subjects.math >= 90 && state.subjects.physics >= 90,
                title: "Êï∞Â≠¶Á´ûËµõÈÇÄËØ∑",
                content: "Êï∞Â≠¶ËÄÅÂ∏àÈÇÄËØ∑‰Ω†ÂèÇÂä†‰∏Ä‰∏™Êï∞Â≠¶Á´ûËµõ,ËØ¥Ôºö'ËôΩÁÑ∂‰Ω†AFO‰∫Ü,‰ΩÜ‰Ω†ÁöÑÂ§©Ëµã‰∏çËØ•Êµ™Ë¥π„ÄÇ'",
                choices: [
                    { text: "ÂèÇÂä†ÊØîËµõ,ËØÅÊòéËá™Â∑±", effect: { stress: 10, math: 3, teacher: 5 } },
                    { text: "ÊãíÁªù,‰∏ìÂøÉÈ´òËÄÉ", effect: { stress: -5, teacher: -2 } }
                ]
            },
            {
                id: 'h5',
                condition: (state) => state.week === 26 && state.season === 3,
                title: "Êò•ËäÇÁöÑÁ§ºÁâ©",
                content: "Êò•ËäÇ,Áà∑Áà∑Áªô‰Ω†‰∏Ä‰∏™Á∫¢ÂåÖ,ËØ¥Ôºö'ËøôÊòØÊàëËøôÂá†‰∏™ÊúàÊîí‰∏ãÁöÑ,Áªô‰Ω†‰π∞Â§ç‰π†ËµÑÊñô„ÄÇ'‰Ω†ÊÑüÂä®ÂæóËØ¥‰∏çÂá∫ËØù„ÄÇ",
                effect: { money: 1000, parents: 5, stress: -10 }
            },
            {
                id: 'h6',
                condition: (state) => state.week === 45 && state.subject.math >= 90 && state.subject.physics >= 90 && state.subject.biology >= 90 && state.subject.chemistry >= 90 && state.subject.english <= 20 && state.subject.chinese <= 20,
                title: "ÂºÄÂ∞èÁÅ∂",
                content: "È´òËÄÉÂú®Âç≥,‰ΩÜÊòØ‰Ω†ÁöÑËØ≠ÊñáÂíåËã±ËØ≠‰∏•ÈáçÊãñÁ¥Ø‰∫Ü‰Ω†ÁöÑÊÄªÂàÜ,Â≠¶Ê†°ÂÜ≥ÂÆöÁªô‰Ω†ÁöÑËØ≠ÊñáÂíåËã±ËØ≠ÂºÄÂ∞èÁÅ∂",
                effect: { chinese: 20, english: 20 }
            }
        ];

        // ÊàêÂ∞±Á≥ªÁªüÔºà60‰∏™ÊàêÂ∞±Ôºâ
        const achievements = {
            // Âü∫Á°ÄÊàêÂ∞±
            'first-week': { name: 'Á¨¨‰∏ÄÂë®', desc: 'ÂÆåÊàêÁ¨¨‰∏ÄÂë®', hidden: false },
            'first-month': { name: 'Á¨¨‰∏Ä‰∏™Êúà', desc: 'ÂÆåÊàêÁ¨¨‰∏Ä‰∏™Êúà', hidden: false },
            'study-100': { name: '‰π¶Â±±ÊúâË∑Ø', desc: 'Á¥ØËÆ°Â≠¶‰π†100Â∞èÊó∂', hidden: false },
            'rest-50': { name: 'Âä≥ÈÄ∏ÁªìÂêà', desc: 'Á¥ØËÆ°‰ºëÊÅØ50Â∞èÊó∂', hidden: false },
            'exercise-30': { name: 'Âº∫Ë∫´ÂÅ•‰Ωì', desc: 'Á¥ØËÆ°ÈîªÁÇº30Â∞èÊó∂', hidden: false },
            'social-20': { name: 'Á§æ‰∫§Ëææ‰∫∫', desc: 'Á¥ØËÆ°Á§æ‰∫§20Â∞èÊó∂', hidden: false },

            // Áä∂ÊÄÅÊàêÂ∞±
            'energy-100': { name: 'Á≤æÂäõÂÖÖÊ≤õ', desc: 'Á≤æÂäõËææÂà∞100', hidden: false },
            'stress-0': { name: 'Èõ∂ÂéãÂäõ', desc: 'ÂéãÂäõÈôç‰∏∫0', hidden: false },
            'health-100': { name: 'Ë∫´‰ΩìÂÅ•Â∫∑', desc: 'ÂÅ•Â∫∑ËææÂà∞100', hidden: false },
            'mental-100': { name: 'ÂøÉÁêÜÂº∫Â§ß', desc: 'ÂøÉÁêÜËææÂà∞100', hidden: false },
            'money-1000': { name: 'Â∞èÊúâÁßØËìÑ', desc: 'Â≠òÊ¨æËææÂà∞1000ÂÖÉ', hidden: false },
            'money-0': { name: 'ÊúàÂÖâÊóè', desc: 'Â≠òÊ¨æ‰∏∫0', hidden: false },

            // Â≠¶ÁßëÊàêÂ∞±
            'chinese-80': { name: 'ÊñáÈááÈ£ûÊâ¨', desc: 'ËØ≠ÊñáËææÂà∞80', hidden: false },
            'math-90': { name: 'Êï∞Â≠¶Â§ßÂ∏à', desc: 'Êï∞Â≠¶ËææÂà∞90', hidden: false },
            'english-80': { name: 'Ëã±ËØ≠ÊµÅÂà©', desc: 'Ëã±ËØ≠ËææÂà∞80', hidden: false },
            'physics-90': { name: 'Áâ©ÁêÜ‰πãÁ•û', desc: 'Áâ©ÁêÜËææÂà∞90', hidden: false },
            'chemistry-80': { name: 'ÂåñÂ≠¶‰∏ìÂÆ∂', desc: 'ÂåñÂ≠¶ËææÂà∞80', hidden: false },
            'biology-80': { name: 'ÁîüÁâ©Ëææ‰∫∫', desc: 'ÁîüÁâ©ËææÂà∞80', hidden: false },
            'all-85': { name: 'ÂÖ®ÁßëÈ´òÊâã', desc: 'ÂÖ®ÁßëËææÂà∞85', hidden: false },
            'all-95': { name: 'ÂÖ≠ËæπÂΩ¢ÊàòÂ£´', desc: 'ÂÖ®ÁßëËææÂà∞95', hidden: true },

            // ÂÖ≥Á≥ªÊàêÂ∞±
            'teacher-90': { name: 'Áè≠‰∏ª‰ªªÂÆ†ÂÑø', desc: 'Áè≠‰∏ª‰ªªÂÖ≥Á≥ª90', hidden: false },
            'math-teacher-90': { name: 'Êï∞Â≠¶ËÄÅÂ∏àÂñúÁà±', desc: 'Êï∞Â≠¶ËÄÅÂ∏àÂÖ≥Á≥ª90', hidden: false },
            'parents-90': { name: 'ÂÆ∂Â∫≠ÂíåÁù¶', desc: 'Áà∂ÊØçÂÖ≥Á≥ª90', hidden: false },
            'crush-60': { name: 'ÊöóÊÅãÊàêÂäü', desc: 'ÊöóÊÅãÂØπË±°ÂÖ≥Á≥ª60', hidden: false },
            'classmate-90': { name: 'ÂêåÂ≠¶È¢ÜË¢ñ', desc: 'ÂêåÂ≠¶ÂÖ≥Á≥ª90', hidden: false },

            // Ê¥ªÂä®ÊàêÂ∞±
            'exam-5': { name: 'ËÄÉËØïÊàòÂ£´', desc: 'ÂèÇÂä†5Ê¨°Ê®°ËÄÉ', hidden: false },
            'homework-100': { name: '‰Ωú‰∏öËææ‰∫∫', desc: 'ÂÆåÊàê100Ê¨°‰Ωú‰∏ö', hidden: false },
            'activity-20': { name: 'Ê¥ªÂä®ÂÆ∂', desc: 'ÂèÇÂä†20Ê¨°Ê¥ªÂä®', hidden: false },
            'memory-10': { name: 'ÂõûÂøÜÂ§ßÂ∏à', desc: 'ÂõûÂøÜ10Ê¨°', hidden: false },

            // ÁâπÊÆäÊàêÂ∞±
            'perfect-week': { name: 'ÂÆåÁæé‰∏ÄÂë®', desc: '‰∏ÄÂë®Êó†Ë¥üÈù¢‰∫ã‰ª∂', hidden: false },
            'stress-management': { name: 'ÂéãÂäõÁÆ°ÁêÜ', desc: 'ÂéãÂäõ‰Ωé‰∫é10ÊåÅÁª≠10Âë®', hidden: false },
            'early-bird': { name: 'Êó©Ëµ∑È∏ü', desc: 'Á≤æÂäõ‰øùÊåÅ90+ÊåÅÁª≠5Âë®', hidden: false },
            'night-owl': { name: 'Â§úÁå´Â≠ê', desc: 'Á≤æÂäõ‰Ωé‰∫é10', hidden: false },
            'money-maker': { name: 'ËµöÈí±ËÉΩÊâã', desc: 'ÈÄöËøáÂÖºËÅåËµö500ÂÖÉ', hidden: false },
            'specialization': { name: '‰∏ìÁ≤æ‰πãË∑Ø', desc: 'ÈÄâÊã©‰∏ìÁ≤æÊñπÂêë', hidden: false },

            // ÊïÖ‰∫ãÊàêÂ∞±
            'story-5': { name: 'ÊïÖ‰∫ãÂºÄÂßã', desc: 'ÂÆåÊàê5‰∏™ÊïÖ‰∫ã‰∫ã‰ª∂', hidden: false },
            'story-10': { name: 'ÊïÖ‰∫ãÂ§ßÂ∏à', desc: 'ÂÆåÊàê10‰∏™ÊïÖ‰∫ã‰∫ã‰ª∂', hidden: false },
            'story-15': { name: 'Âè≤ËØóÊóÖÁ®ã', desc: 'ÂÆåÊàêÊâÄÊúâÊïÖ‰∫ã‰∫ã‰ª∂', hidden: false },
            'hidden-1': { name: 'ÈöêËóèÂâßÊÉÖ1', desc: 'Ëß¶ÂèëÈöêËóèÂâßÊÉÖ', hidden: true },
            'hidden-2': { name: 'ÈöêËóèÂâßÊÉÖ2', desc: 'Ëß¶ÂèëÈöêËóèÂâßÊÉÖ', hidden: true },
            'hidden-3': { name: 'ÈöêËóèÂâßÊÉÖ3', desc: 'Ëß¶ÂèëÈöêËóèÂâßÊÉÖ', hidden: true },

            // ÁªìÂ±ÄÊàêÂ∞±Ôºà12‰∏™Ôºâ
            'ending-1': { name: 'ÁªìÂ±ÄÔºöÈ°∂Â∞ñÂ§ßÂ≠¶', desc: 'ËÄÉÂÖ•È°∂Â∞ñÂ§ßÂ≠¶', hidden: false },
            'ending-2': { name: 'ÁªìÂ±ÄÔºöÈáçÁÇπÂ§ßÂ≠¶', desc: 'ËÄÉÂÖ•ÈáçÁÇπÂ§ßÂ≠¶', hidden: false },
            'ending-3': { name: 'ÁªìÂ±ÄÔºö‰∏ÄÊú¨Â§ßÂ≠¶', desc: 'ËÄÉÂÖ•‰∏ÄÊú¨Â§ßÂ≠¶', hidden: false },
            'ending-4': { name: 'ÁªìÂ±ÄÔºö‰∫åÊú¨Â§ßÂ≠¶', desc: 'ËÄÉÂÖ•‰∫åÊú¨Â§ßÂ≠¶', hidden: false },
            'ending-5': { name: 'ÁªìÂ±ÄÔºöÊú™ËÉΩÂ¶ÇÊÑø', desc: 'È´òËÄÉÂ§±Âà©', hidden: false },
            'ending-6': { name: 'ÁªìÂ±ÄÔºöÁ´ûËµõÂõûÂΩí', desc: 'ÈáçËøî‰ø°ÊÅØÂ≠¶', hidden: false },
            'ending-7': { name: 'ÁªìÂ±ÄÔºöÂàõ‰∏ö‰πãË∑Ø', desc: 'ÈÄâÊã©Âàõ‰∏ö', hidden: false },
            'ending-8': { name: 'ÁªìÂ±ÄÔºöËâ∫ÊúØÁâπÈïø', desc: 'Ëâ∫ÊúØÂèëÂ±ï', hidden: false },
            'ending-9': { name: 'ÁªìÂ±ÄÔºö‰ΩìËÇ≤ÁâπÊãõ', desc: '‰ΩìËÇ≤ÂèëÂ±ï', hidden: false },
            'ending-10': { name: 'ÁªìÂ±ÄÔºöÂá∫ÂõΩÊ∑±ÈÄ†', desc: 'Âá∫ÂõΩÁïôÂ≠¶', hidden: false },
            'ending-11': { name: 'ÁªìÂ±ÄÔºöÈó¥ÈöîÂπ¥', desc: 'ÈÄâÊã©Èó¥ÈöîÂπ¥', hidden: false },
            'ending-12': { name: 'ÁªìÂ±ÄÔºöÂπ≥Âá°‰πãË∑Ø', desc: 'Âπ≥Âá°ÁîüÊ¥ª', hidden: false },

            // ÈöêËóèÁªìÂ±Ä
            'ending-hidden-1': { name: 'ÁªìÂ±ÄÔºöÁà±ÊÉÖ‰∏éÂ≠¶‰∏ö', desc: 'ÂíåÊöóÊÅãÂØπË±°‰∏ÄËµ∑ÊàêÂäü', hidden: true },
            'ending-hidden-2': { name: 'ÁªìÂ±ÄÔºöÂÆ∂Â∫≠ÂíåËß£', desc: '‰∏éÁà∂ÊØçËææÊàêÁêÜËß£', hidden: true },
            'ending-hidden-3': { name: 'ÁªìÂ±ÄÔºöËá™ÊàëÊïëËµé', desc: 'ÊâæÂà∞‰∫∫ÁîüÊÑè‰πâ', hidden: true }
        };

        // ==================== Ê∏∏ÊàèÈÄªËæë ====================

        // DOM ÂÖÉÁ¥†ÁºìÂ≠ò
        const elements = {
            week: document.getElementById('week'),
            day: document.getElementById('day'),
            period: document.getElementById('period'),
            season: document.getElementById('season'),
            daysLeft: document.getElementById('days-left'),
            vacationDays: document.getElementById('vacation-days'),

            energyBar: document.getElementById('energy-bar'),
            energyValue: document.getElementById('energy-value'),
            stressBar: document.getElementById('stress-bar'),
            stressValue: document.getElementById('stress-value'),
            healthBar: document.getElementById('health-bar'),
            healthValue: document.getElementById('health-value'),
            mentalBar: document.getElementById('mental-bar'),
            mentalValue: document.getElementById('mental-value'),
            moneyBar: document.getElementById('money-bar'),
            moneyValue: document.getElementById('money-value'),

            chineseBar: document.getElementById('chinese-bar'),
            chineseValue: document.getElementById('chinese-value'),
            mathBar: document.getElementById('math-bar'),
            mathValue: document.getElementById('math-value'),
            englishBar: document.getElementById('english-bar'),
            englishValue: document.getElementById('english-value'),
            physicsBar: document.getElementById('physics-bar'),
            physicsValue: document.getElementById('physics-value'),
            chemistryBar: document.getElementById('chemistry-bar'),
            chemistryValue: document.getElementById('chemistry-value'),
            biologyBar: document.getElementById('biology-bar'),
            biologyValue: document.getElementById('biology-value'),

            teacherBar: document.getElementById('teacher-bar'),
            teacherValue: document.getElementById('teacher-value'),
            mathTeacherBar: document.getElementById('math-teacher-bar'),
            mathTeacherValue: document.getElementById('math-teacher-value'),
            chineseTeacherBar: document.getElementById('chinese-teacher-bar'),
            chineseTeacherValue: document.getElementById('chinese-teacher-value'),
            englishTeacherBar: document.getElementById('english-teacher-bar'),
            englishTeacherValue: document.getElementById('english-teacher-value'),
            classmateABar: document.getElementById('classmate-a-bar'),
            classmateAValue: document.getElementById('classmate-a-value'),
            classmateBBar: document.getElementById('classmate-b-bar'),
            classmateBValue: document.getElementById('classmate-b-value'),
            parentsBar: document.getElementById('parents-bar'),
            parentsValue: document.getElementById('parents-value'),
            crushBar: document.getElementById('crush-bar'),
            crushValue: document.getElementById('crush-value'),

            eventLog: document.getElementById('event-log'),
            currentStatus: document.getElementById('current-status'),
            randomEvent: document.getElementById('random-event'),
            relationshipStatus: document.getElementById('relationship-status'),
            economyStatus: document.getElementById('economy-status'),
            mentalStatus: document.getElementById('mental-status'),
            currentGoal: document.getElementById('current-goal'),
            goalProgress: document.getElementById('goal-progress'),

            scheduleList: document.getElementById('schedule-list'),
            homeworkCount: document.getElementById('homework-count'),
            weekActivities: document.getElementById('week-activities'),

            notification: document.getElementById('notification'),
            notificationText: document.getElementById('notification-text'),

            gameStatus: document.getElementById('game-status'),

            actionCounter: document.getElementById('actionCounter'),
            hotkeyHint: document.getElementById('hotkeyHint'),

            achievementCount: document.getElementById('achievement-count'),
            achievementList: document.getElementById('achievement-list'),

            currentMoney: document.getElementById('current-money'),
            homeworkList: document.getElementById('homework-list'),
            storyTitle: document.getElementById('story-title'),
            storyContent: document.getElementById('story-content'),
            storyChoices: document.getElementById('story-choices'),
            goalContent: document.getElementById('goal-content'),
            achievementDetailContent: document.getElementById('achievement-detail-content')
        };

        // ==================== Ê†∏ÂøÉÊ∏∏ÊàèÂáΩÊï∞ ====================

        // ÂàùÂßãÂåñÊ∏∏Êàè
        function initGame() {
            // ÊòæÁ§∫ÂêØÂä®ÂºπÁ™óÔºàÊçêÂä©+‰ªãÁªçÔºâ
            document.getElementById('welcome-modal').style.display = 'flex';

            // ÁîüÊàêÁ¨¨‰∏ÄÂë®ËØæÁ®ãË°®
            generateSchedule();
            addToLog("Ê∏∏ÊàèÂºÄÂßãÔºÅ‰Ω†‰ªé‰ø°ÊÅØÂ≠¶Á´ûËµõ‰∏≠ÈÄÄÂΩπ,ÂºÄÂßã‰∫ÜÊñáÂåñËØæÁöÑÂ§áÊàò„ÄÇ", "story");
            addToLog("Áè≠‰∏ª‰ªªÊâæ‰Ω†Ë∞àËØùÔºö'Á´ûËµõÁöÑÊÄùÁª¥ÊòØ‰ºòÂäø,‰ΩÜË¶ÅÈÄÇÂ∫îÊñ∞ÁöÑËäÇÂ•è„ÄÇ'", "neutral");

            // ÈöèÊú∫ÂàùÂßãÂ§©Ê∞î
            changeWeather();

            // Ê£ÄÊü•ÁâπÊÆäÊó•Êúü
            checkSpecialDay();

            // Êõ¥Êñ∞UI
            updateUI();
        }

        // ÁîüÊàêËØæÁ®ãË°®
        function generateSchedule() {
            const subjects = ['ËØ≠Êñá', 'Êï∞Â≠¶', 'Ëã±ËØ≠', 'Áâ©ÁêÜ', 'ÂåñÂ≠¶', 'ÁîüÁâ©'];
            const times = ['8:00', '9:00', '10:00', '11:00', '14:00', '15:00', '16:00'];

            gameState.schedule = [];

            // ÊØèÂë®6Â§©ËØæÁ®ãÔºàÂë®‰∏ÄÂà∞Âë®ÂÖ≠Ôºâ
            for (let day = 0; day < 6; day++) {
                const dayName = ['Âë®‰∏Ä', 'Âë®‰∫å', 'Âë®‰∏â', 'Âë®Âõõ', 'Âë®‰∫î', 'Âë®ÂÖ≠'][day];
                const numClasses = 3 + Math.floor(Math.random() * 3); // 3-5ËäÇËØæ

                for (let i = 0; i < numClasses; i++) {
                    const subject = subjects[Math.floor(Math.random() * subjects.length)];
                    const time = times[i];

                    gameState.schedule.push({
                        day: day,
                        dayName: dayName,
                        time: time,
                        subject: subject,
                        completed: false
                    });
                }
            }

            // Âë®Êó•‰ºëÊÅØ
            updateScheduleUI();
        }

        // Êõ¥Êñ∞ËØæÁ®ãË°®UI
        function updateScheduleUI() {
            elements.scheduleList.innerHTML = '';

            if (gameState.schedule.length === 0) {
                elements.scheduleList.innerHTML = '<div style="opacity:0.6;font-size:0.85rem;">Êú¨Âë®Êó†ËØæÁ®ãÂÆâÊéí</div>';
                return;
            }

            // Âè™ÊòæÁ§∫Êú¨Âë®Êú™ÂÆåÊàêÁöÑËØæÁ®ã
            const upcoming = gameState.schedule.filter(s => !s.completed).slice(0, 8);

            upcoming.forEach(item => {
                const div = document.createElement('div');
                div.className = 'schedule-item';
                if (item.completed) div.classList.add('completed');

                div.innerHTML = `
                                                                                                                                                                                                                                                                                                                <span>${item.dayName} ${item.time}</span>
                                                                                                                                                                                                                                                                                                                <span class="time">${item.subject}</span>
                                                                                                                                                                                                                                                                                                            `;

                elements.scheduleList.appendChild(div);
            });

            if (upcoming.length === 0) {
                elements.scheduleList.innerHTML = '<div style="opacity:0.6;font-size:0.85rem;">Êú¨Âë®ËØæÁ®ãÂ∑≤ÂÆåÊàêÔºÅ</div>';
            }
        }

        // Êõ¥Êñ∞UI
        function updateUI() {
            // Êó∂Èó¥ÊòæÁ§∫
            elements.week.textContent = gameState.week;
            elements.day.textContent = ['Âë®‰∏Ä', 'Âë®‰∫å', 'Âë®‰∏â', 'Âë®Âõõ', 'Âë®‰∫î', 'Âë®ÂÖ≠', 'Âë®Êó•'][gameState.dayOfWeek];
            elements.period.textContent = ['Êó©Êô®', '‰∏äÂçà', '‰∏ãÂçà', 'Êôö‰∏ä'][gameState.period];
            elements.season.textContent = `${seasons[gameState.season].emoji} ${seasons[gameState.season].name}`;
            elements.daysLeft.textContent = gameState.daysLeft;
            elements.vacationDays.textContent = gameState.vacationDays;

            // Ê†∏ÂøÉÁä∂ÊÄÅ
            elements.energyBar.style.width = `${gameState.energy}%`;
            elements.energyValue.textContent = `${Math.round(gameState.energy)}/100`;

            elements.stressBar.style.width = `${gameState.stress}%`;
            elements.stressValue.textContent = `${Math.round(gameState.stress)}/100`;

            elements.healthBar.style.width = `${gameState.health}%`;
            elements.healthValue.textContent = `${Math.round(gameState.health)}/100`;

            elements.mentalBar.style.width = `${gameState.mental}%`;
            elements.mentalValue.textContent = `${Math.round(gameState.mental)}/100`;

            elements.moneyBar.style.width = `${Math.min(100, gameState.money / 10)}%`;
            elements.moneyValue.textContent = `${gameState.money}ÂÖÉ`;

            // Â≠¶ÁßëËøõÂ∫¶
            for (const subject in gameState.subjects) {
                const bar = document.getElementById(`${subject}-bar`);
                const value = document.getElementById(`${subject}-value`);
                if (bar && value) {
                    bar.style.width = `${gameState.subjects[subject]}%`;
                    value.textContent = `${Math.round(gameState.subjects[subject])}/100`;
                }
            }

            // ‰∫∫ÈôÖÂÖ≥Á≥ª
            const relMap = {
                teacher: { bar: elements.teacherBar, value: elements.teacherValue },
                mathTeacher: { bar: elements.mathTeacherBar, value: elements.mathTeacherValue },
                chineseTeacher: { bar: elements.chineseTeacherBar, value: elements.chineseTeacherValue },
                englishTeacher: { bar: elements.englishTeacherBar, value: elements.englishTeacherValue },
                classmateA: { bar: elements.classmateABar, value: elements.classmateAValue },
                classmateB: { bar: elements.classmateBBar, value: elements.classmateBValue },
                parents: { bar: elements.parentsBar, value: elements.parentsValue },
                crush: { bar: elements.crushBar, value: elements.crushValue }
            };

            for (const key in relMap) {
                const val = gameState.relationships[key];
                relMap[key].bar.style.width = `${val}%`;
                relMap[key].value.textContent = Math.round(val);
            }

            // ‰Ωú‰∏öËÆ°Êï∞
            const homeworkCount = Object.values(gameState.homework).filter(v => !v).length;
            elements.homeworkCount.textContent = homeworkCount;

            // Ê¥ªÂä®ËÆ°Êï∞
            elements.weekActivities.textContent = gameState.weekActivities;

            // Êìç‰ΩúËÆ°Êï∞Âô®
            updateActionCounter();

            // Êõ¥Êñ∞Áä∂ÊÄÅÊñáÊú¨
            updateStatusText();
            updateRelationshipText();
            updateEconomyText();
            updateMentalText();
            updateGoalText();

            // Êõ¥Êñ∞ËØæÁ®ãË°®
            if (gameState.schedule.length > 0) {
                updateScheduleUI();
            }
        }

        // Êõ¥Êñ∞Êìç‰ΩúËÆ°Êï∞Âô®
        function updateActionCounter() {
            const counter = elements.actionCounter;
            const used = gameState.actionsThisWeek;
            const max = gameState.maxActionsPerWeek;
            const remaining = max - used;

            counter.textContent = `Êú¨Âë®Êìç‰Ωú: ${used}/${max} | Ââ©‰Ωô: ${remaining}`;

            // Ê†πÊçÆÂâ©‰ΩôÊìç‰ΩúÊï∞ÊîπÂèòÈ¢úËâ≤
            counter.className = 'action-counter';
            if (remaining === 1) counter.classList.add('warning');
            if (remaining === 0) counter.classList.add('danger');
        }

        // Êõ¥Êñ∞Áä∂ÊÄÅÊñáÊú¨
        function updateStatusText() {
            let status = "";
            const energy = gameState.energy;
            const stress = gameState.stress;
            const health = gameState.health;
            const mental = gameState.mental;

            if (health < 40) {
                status = "‚ö†Ô∏è Ë∫´‰Ωì‰∏çÈÄÇÔºÅÂÅ•Â∫∑Áä∂ÂÜµÂ†™Âøß,ÈúÄË¶ÅÁ´ãÂç≥‰ºëÊÅØ„ÄÇ";
            } else if (stress > 80) {
                status = "üî• ÂéãÂäõÁàÜË°®ÔºÅÊøí‰∏¥Â¥©Ê∫É,ÊÄ•ÈúÄÈáäÊîæÔºÅ";
            } else if (energy < 20) {
                status = "üò¥ Á≤æÂäõÊûØÁ´≠,Â≠¶‰π†ÊïàÁéáÊûÅ‰Ωé„ÄÇ";
            } else if (mental < 40) {
                status = "üí≠ ÂøÉÁêÜÁä∂ÊÄÅ‰∏ç‰Ω≥,ÈúÄË¶ÅÂÖ≥Ê≥®ÊÉÖÁª™„ÄÇ";
            } else if (energy > 80 && stress < 30 && health > 80 && mental > 80) {
                status = "‚ú® Áä∂ÊÄÅÂ∑ÖÂ≥∞ÔºÅÊ≠£ÊòØÂ≠¶‰π†ÁöÑÂ•ΩÊó∂Êú∫ÔºÅ";
            } else if (energy > 60 && stress < 50) {
                status = "üìö Áä∂ÊÄÅËâØÂ•Ω,‰øùÊåÅËäÇÂ•è„ÄÇ";
            } else {
                status = "üîÑ ÈúÄË¶ÅÂπ≥Ë°°Â≠¶‰π†‰∏é‰ºëÊÅØ„ÄÇ";
            }

            elements.currentStatus.textContent = status;
        }

        // Êõ¥Êñ∞ÂÖ≥Á≥ªÊñáÊú¨
        function updateRelationshipText() {
            const t = gameState.relationships.teacher;
            const mt = gameState.relationships.mathTeacher;
            const ct = gameState.relationships.chineseTeacher;
            const et = gameState.relationships.englishTeacher;
            const ca = gameState.relationships.classmateA;
            const cb = gameState.relationships.classmateB;
            const p = gameState.relationships.parents;
            const cr = gameState.relationships.crush;

            let text = "";

            if (t > 70) text += "ËÄÅÂ∏àÂæàÂô®Èáç‰Ω†„ÄÇ";
            else if (t < 30) text += "ËÄÅÂ∏àÂØπ‰Ω†Êúâ‰∫õÂ§±Êúõ„ÄÇ";
            else text += "‰∏éËÄÅÂ∏àÂÖ≥Á≥ªÊ≠£Â∏∏„ÄÇ";

            if (ca > 70 || cb > 70) text += " ÂêåÂ≠¶‰ª¨ÂæàËÆ§ÂèØ‰Ω†„ÄÇ";
            else if (ca < 30 && cb < 30) text += " ‰∏éÂêåÂ≠¶Êúâ‰∫õÁñèËøú„ÄÇ";
            else text += " ÂêåÂ≠¶ÂÖ≥Á≥ª‰∏ÄËà¨„ÄÇ";

            if (p > 70) text += " Áà∂ÊØçÂæàÊîØÊåÅ„ÄÇ";
            else if (p < 30) text += " Áà∂ÊØç‰∏çÂ§™ÁêÜËß£„ÄÇ";
            else text += " Áà∂ÊØçÂÖ≥Á≥ªÊ≠£Â∏∏„ÄÇ";

            if (cr > 50) text += " ÊöóÊÅãÂØπË±°ÂØπ‰Ω†ÊúâÂ•ΩÊÑüÔºÅ";
            else if (cr > 20) text += " ÊöóÊÅãÂØπË±°Ê≥®ÊÑèÂà∞‰Ω†‰∫Ü„ÄÇ";

            elements.relationshipStatus.textContent = text;
        }

        // Êõ¥Êñ∞ÁªèÊµéÊñáÊú¨
        function updateEconomyText() {
            const money = gameState.money;
            let text = "";

            if (money > 800) text = "ÁªèÊµéÂÆΩË£ï,ÂèØ‰ª•Ë¥≠‰π∞‰ªª‰ΩïËµÑÊñô„ÄÇ";
            else if (money > 400) text = "ÁªèÊµéÁä∂ÂÜµËâØÂ•Ω,Ë∂≥Â§üÊó•Â∏∏ÂºÄÈîÄ„ÄÇ";
            else if (money > 100) text = "ÁªèÊµé‰∏ÄËà¨,ÈúÄË¶ÅÁ≤æÊâìÁªÜÁÆó„ÄÇ";
            else text = "ÁªèÊµéÁ¥ßÂº†,ÂèØËÉΩÈúÄË¶ÅÂêëÁà∂ÊØçÊ±ÇÂä©„ÄÇ";

            elements.economyStatus.textContent = text;
        }

        // Êõ¥Êñ∞ÂøÉÁêÜÊñáÊú¨
        function updateMentalText() {
            const mental = gameState.mental;
            const stress = gameState.stress;
            let text = "";

            if (mental > 80 && stress < 30) text = "ÂøÉÁêÜÁä∂ÊÄÅÈùûÂ∏∏ÂÅ•Â∫∑,ÊÉÖÁª™Á®≥ÂÆö„ÄÇ";
            else if (mental > 60) text = "ÂøÉÁêÜÁä∂ÊÄÅËâØÂ•Ω,ËÉΩÂ§üÂ∫îÂØπÂéãÂäõ„ÄÇ";
            else if (mental > 40) text = "ÂøÉÁêÜÁä∂ÊÄÅ‰∏ÄËà¨,ÈúÄË¶ÅÂ§öÂÖ≥Ê≥®Ëá™Â∑±„ÄÇ";
            else text = "ÂøÉÁêÜÁä∂ÊÄÅ‰∏ç‰Ω≥,Âª∫ËÆÆÂØªÊ±ÇÂ∏ÆÂä©„ÄÇ";

            elements.mentalStatus.textContent = text;
        }

        // Êõ¥Êñ∞ÁõÆÊ†áÊñáÊú¨
        function updateGoalText() {
            if (!gameState.currentGoal) {
                elements.currentGoal.textContent = "ÊöÇÊó†ÁõÆÊ†á";
                elements.goalProgress.style.width = '0%';
                return;
            }

            const goal = gameState.currentGoal;
            elements.currentGoal.textContent = goal.desc;

            // ËÆ°ÁÆóËøõÂ∫¶Ôºà0-100Ôºâ
            let progress = 0;
            if (goal.check(gameState)) {
                progress = 100;
                elements.goalProgress.style.background = 'var(--secondary)';
            } else {
                // Ê†πÊçÆÊé•ËøëÁ®ãÂ∫¶ËÆ°ÁÆóËøõÂ∫¶
                const avg = Object.values(gameState.subjects).reduce((a, b) => a + b, 0) / 6;
                const targetAvg = goal.desc.includes('20ÂàÜ') ? 20 : goal.desc.includes('40ÂàÜ') ? 40 : goal.desc.includes('50ÂàÜ') ? 50 : goal.desc.includes('65ÂàÜ') ? 65 : goal.desc.includes('75ÂàÜ') ? 75 : 85;
                const avgProgress = Math.min(100, (avg / targetAvg) * 50);

                let otherProgress = 0;
                if (goal.desc.includes('ÂéãÂäõ')) {
                    const targetStress = goal.desc.includes('‰Ωé‰∫é40') ? 40 : goal.desc.includes('‰Ωé‰∫é30') ? 30 : 20;
                    otherProgress += Math.max(0, 100 - (gameState.stress / targetStress) * 50);
                }
                if (goal.desc.includes('ÂÅ•Â∫∑')) {
                    otherProgress += Math.min(50, (gameState.health / 80) * 50);
                }
                if (goal.desc.includes('‰Ωú‰∏ö')) {
                    const homeworkCount = Object.values(gameState.homework).filter(v => v).length;
                    otherProgress += Math.min(50, (homeworkCount / 5) * 50);
                }
                if (goal.desc.includes('Ê®°ËÄÉ')) {
                    otherProgress += Math.min(50, (gameState.examCount / 3) * 50);
                }

                progress = Math.min(100, avgProgress + otherProgress);
                elements.goalProgress.style.background = 'var(--warning)';
            }

            elements.goalProgress.style.width = `${progress}%`;
        }

        // ÊòæÁ§∫ÈÄöÁü•
        function showNotification(text, type = "neutral") {
            elements.notificationText.textContent = text;
            elements.notification.className = `notification ${type} show`;

            setTimeout(() => {
                elements.notification.classList.remove('show');
            }, 4000);
        }

        // Ê∑ªÂä†‰∫ã‰ª∂Âà∞Êó•Âøó
        function addToLog(text, type = "neutral") {
            const eventItem = document.createElement('div');
            eventItem.className = `event-item ${type}`;

            const timestamp = document.createElement('span');
            timestamp.className = 'timestamp';
            timestamp.textContent = `W${gameState.week} ${['‰∏Ä', '‰∫å', '‰∏â', 'Âõõ', '‰∫î', 'ÂÖ≠', 'Êó•'][gameState.dayOfWeek]}`;
            eventItem.appendChild(timestamp);

            const content = document.createTextNode(text);
            eventItem.appendChild(content);

            elements.eventLog.insertBefore(eventItem, elements.eventLog.firstChild);

            // ÈôêÂà∂Êó•ÂøóÊù°ÁõÆÊï∞Èáè
            while (elements.eventLog.children.length > 20) {
                elements.eventLog.removeChild(elements.eventLog.lastChild);
            }

            // ÊªöÂä®Âà∞È°∂ÈÉ®
            elements.eventLog.scrollTop = 0;
        }

        // ==================== Êìç‰ΩúÂáΩÊï∞ ====================

        // Ê£ÄÊü•Êìç‰ΩúÈôêÂà∂
        function checkActionLimit() {
            if (gameState.actionsThisWeek >= gameState.maxActionsPerWeek) {
                showNotification("Êú¨Âë®Êìç‰ΩúÊ¨°Êï∞Â∑≤Áî®ÂÆå,ËØ∑ÁªìÊùüÊú¨Âë®ÔºÅ", "bad");
                return false;
            }
            return true;
        }

        // ËÆ∞ÂΩïÊìç‰Ωú
        function recordAction() {
            gameState.actionsThisWeek++;
            updateActionCounter();
        }

        // ËÆ°ÁÆóÂ≠¶‰π†ÊïàÁéáÔºàÂèóÂøÉÁêÜ„ÄÅÂÖ≥Á≥ª„ÄÅÁä∂ÊÄÅÂΩ±ÂìçÔºâ
        function calculateStudyEfficiency() {
            let efficiency = 1.0;

            // ÂøÉÁêÜÁä∂ÊÄÅÂΩ±ÂìçÔºà30%Ôºâ
            const mentalFactor = gameState.mental / 100;
            efficiency *= (0.7 + mentalFactor * 0.3);

            // ÂéãÂäõÂΩ±ÂìçÔºà20%Ôºâ
            const stressFactor = Math.max(0.5, 1 - gameState.stress / 100);
            efficiency *= stressFactor;

            // ÂÅ•Â∫∑ÂΩ±ÂìçÔºà15%Ôºâ
            const healthFactor = gameState.health / 100;
            efficiency *= (0.85 + healthFactor * 0.15);

            // Á≤æÂäõÂΩ±ÂìçÔºà15%Ôºâ
            const energyFactor = gameState.energy / 100;
            efficiency *= (0.85 + energyFactor * 0.15);

            // ÂÖ≥Á≥ªÂΩ±ÂìçÔºà10%Ôºâ
            const relFactor = (gameState.relationships.teacher + gameState.relationships.mathTeacher + gameState.relationships.chineseTeacher + gameState.relationships.englishTeacher) / 400;
            efficiency *= (0.9 + relFactor * 0.1);

            // Â§©Ê∞îÂΩ±ÂìçÔºà10%Ôºâ
            efficiency *= gameState.currentWeather.efficiency;

            return efficiency;
        }

        // Â≠¶‰π†ÂäüËÉΩ
        function study(subject) {
            if (!checkActionLimit()) return;
            if (gameState.energy < 15) {
                showNotification("Á≤æÂäõ‰∏çË∂≥,Êó†Ê≥ïÂ≠¶‰π†ÔºÅ", "bad");
                return;
            }
            if (gameState.health < 30) {
                showNotification("Ë∫´‰Ωì‰∏çÈÄÇ,ÂÖà‰ºëÊÅØÂêßÔºÅ", "bad");
                return;
            }

            const config = {
                chinese: { cost: 15, baseGain: [2, 4], name: "ËØ≠Êñá" },
                math: { cost: 20, baseGain: [3, 6], name: "Êï∞Â≠¶" },
                english: { cost: 15, baseGain: [2, 4], name: "Ëã±ËØ≠" },
                physics: { cost: 20, baseGain: [3, 5], name: "Áâ©ÁêÜ" },
                chemistry: { cost: 15, baseGain: [2, 4], name: "ÂåñÂ≠¶" },
                biology: { cost: 15, baseGain: [2, 4], name: "ÁîüÁâ©" }
            };

            const cfg = config[subject];

            // Ê∂àËÄóËµÑÊ∫ê
            gameState.energy -= cfg.cost;
            gameState.stress += 2;
            gameState.health -= 1;
            gameState.totalStudyHours++;

            // ËÆ°ÁÆóÂ¢ûÁõä
            let gain = Math.random() * (cfg.baseGain[1] - cfg.baseGain[0]) + cfg.baseGain[0];

            // Á´ûËµõËÉåÊôØÂä†Êàê
            if (subject === 'math' || subject === 'physics') {
                gain *= 1.3; // 30%Âä†Êàê
            }

            // ÂΩìÂâçÊ∞¥Âπ≥ÂΩ±ÂìçÔºàË∂äÈ´òË∂äÈöæÊèêÂçáÔºâ
            const currentLevel = gameState.subjects[subject];
            gain *= (1 - currentLevel / 200);

            // ÁªºÂêàÊïàÁéáËÆ°ÁÆó
            const efficiency = calculateStudyEfficiency();
            gain *= efficiency;

            // ÈöèÊú∫Ê≥¢Âä®
            gain *= (0.8 + Math.random() * 0.4);

            // Â∫îÁî®Â¢ûÁõä
            gameState.subjects[subject] = Math.min(100, currentLevel + gain);

            // Ê∑ªÂä†Êó•Âøó
            addToLog(`Â≠¶‰π†‰∫Ü${cfg.name},ËÉΩÂäõÊèêÂçá‰∫Ü${gain.toFixed(1)}ÁÇπ`, "good");

            // ÈöèÊú∫‰∫ã‰ª∂
            if (Math.random() < 0.35) {
                triggerRandomEvent();
            }

            closeModal('study-modal');
            recordAction();
            advanceTime();
            updateUI();

            // Ê£ÄÊü•Á≤æÂäõËÄóÂ∞Ω
            if (gameState.energy <= 0) {
                addToLog("Á≤æÂäõËÄóÂ∞Ω,Ë¢´Ëø´‰ºëÊÅØÔºÅ", "bad");
                gameState.energy = 0;
                gameState.health -= 5;
            }
        }

        // ‰ºëÊÅØÂäüËÉΩ
        function rest(type) {
            if (!checkActionLimit()) return;

            let energyGain = 0;
            let stressReduction = 0;
            let mentalGain = 0;
            let healthChange = 0;
            let moneyCost = 0;
            let text = "";

            switch (type) {
                case 'sleep':
                    energyGain = 30;
                    stressReduction = 10;
                    healthChange = 2;
                    text = "Ê∑±Â∫¶Áù°Áú†ÊÅ¢Â§ç‰∫ÜÁ≤æÂäõ";
                    break;
                case 'nap':
                    energyGain = 15;
                    stressReduction = 5;
                    healthChange = 1;
                    text = "ÂçàÁù°Â∏ÆÂä©ÊÅ¢Â§ç‰∫ÜÈÉ®ÂàÜÁ≤æÂäõ";
                    break;
                case 'relax':
                    energyGain = 10;
                    stressReduction = 15;
                    text = "ÊîæÊùæÂ®±‰πêÂáèËΩª‰∫ÜÂéãÂäõ";
                    break;
                case 'music':
                    energyGain = 5;
                    stressReduction = 8;
                    text = "Âê¨Èü≥‰πêÊîæÊùæ‰∫ÜÂøÉÊÉÖ";
                    break;
                case 'counseling':
                    if (gameState.money < 100) {
                        showNotification("ÂøÉÁêÜÂí®ËØ¢ÈúÄË¶Å100ÂÖÉ,Èí±‰∏çÂ§üÔºÅ", "bad");
                        return;
                    }
                    moneyCost = 100;
                    mentalGain = 20;
                    stressReduction = 15;
                    text = "ÂøÉÁêÜÂí®ËØ¢Â∏ÆÂä©ÂæàÂ§ß,ÂøÉÁêÜÁä∂ÊÄÅÊîπÂñÑ";
                    break;
            }

            gameState.energy = Math.min(100, gameState.energy + energyGain);
            gameState.stress = Math.max(0, gameState.stress - stressReduction);
            gameState.health = Math.min(100, gameState.health + healthChange);
            gameState.mental = Math.min(100, gameState.mental + mentalGain);
            gameState.money -= moneyCost;
            gameState.totalRestHours++;

            addToLog(text, "good");
            showNotification(`${text},Á≤æÂäõ+${energyGain},ÂéãÂäõ-${stressReduction}`, "good");

            closeModal('rest-modal');
            recordAction();
            advanceTime();
            updateUI();
        }

        // ÈîªÁÇºÂäüËÉΩ
        function exercise() {
            if (!checkActionLimit()) return;
            if (gameState.energy < 25) {
                showNotification("Â§™Á¥Ø‰∫Ü,Êó†Ê≥ïÈîªÁÇºÔºÅ", "bad");
                return;
            }
            if (gameState.health < 40) {
                showNotification("Ë∫´‰Ωì‰∏çÈÄÇ,‰∏çÂÆúÂâßÁÉàËøêÂä®ÔºÅ", "bad");
                return;
            }

            gameState.energy -= 25;
            gameState.stress = Math.max(0, gameState.stress - 18);
            gameState.health = Math.min(100, gameState.health + 3);
            gameState.energy = Math.min(100, gameState.energy + 12);
            gameState.totalExerciseHours++;

            addToLog("‰ΩìËÇ≤ÈîªÁÇºÈáäÊîæ‰∫ÜÂéãÂäõ,Ë∫´‰ΩìÊõ¥ÂÅ•Â∫∑‰∫Ü", "good");
            showNotification("ÈîªÁÇºÊïàÊûúÊòæËëóÔºÅÂéãÂäõ-18,ÂÅ•Â∫∑+3", "good");

            if (Math.random() < 0.25) {
                addToLog("ÈîªÁÇºÊó∂ÈÅáÂà∞‰∫ÜÂêåÂ≠¶,‰∫§ÊµÅ‰∫ÜÂ≠¶‰π†ÂøÉÂæó", "neutral");
                gameState.relationships.classmateA += 3;
            }

            if (Math.random() < 0.15) {
                addToLog("ËøêÂä®ËøáÂ∫¶,ËÇåËÇâÈÖ∏Áóõ", "bad");
                gameState.health -= 2;
            }

            recordAction();
            advanceTime();
            updateUI();
        }

        // Á§æ‰∫§ÂäüËÉΩ
        function social() {
            if (!checkActionLimit()) return;
            if (gameState.energy < 15) {
                showNotification("Â§™Á¥Ø‰∫Ü,Êó†Ê≥ïÁ§æ‰∫§ÔºÅ", "bad");
                return;
            }
            if (gameState.health < 50) {
                showNotification("Ë∫´‰ΩìÁä∂ÊÄÅ‰∏ç‰Ω≥,ÊîπÂ§©ÂêßÔºÅ", "bad");
                return;
            }

            gameState.energy -= 15;
            gameState.stress = Math.max(0, gameState.stress - 10);
            gameState.relationships.classmateA = Math.min(100, gameState.relationships.classmateA + 5);
            gameState.totalSocialHours++;

            // ÈöèÊú∫Á§æ‰∫§‰∫ã‰ª∂
            const socialEvents = [
                { text: "‰∏éÂêåÂ≠¶‰∫§ÊµÅÂ≠¶‰π†ÊñπÊ≥ï,‰∫íÁõ∏ÈºìÂä±", effect: { classmates: 5, stress: -5 } },
                { text: "Âê¨ÂêåÂ≠¶ÂÄæËØâÁÉ¶ÊÅº,Êàê‰∏∫Áü•ÂøÉÊúãÂèã", effect: { classmates: 8, stress: -3 } },
                { text: "ËÆ®ËÆ∫Á´ûËµõÂæÄ‰∫ã,ÊÑüÊÖ®‰∏áÂçÉ", effect: { stress: 5, classmates: 3 } },
                { text: "‰∏ÄËµ∑ÂêêÊßΩ‰Ωú‰∏öÂ§™Â§ö,Á¨ëÂá∫ÁúºÊ≥™", effect: { stress: -8, classmates: 4 } }
            ];

            const event = socialEvents[Math.floor(Math.random() * socialEvents.length)];
            addToLog(event.text, "good");

            // Â∫îÁî®ÊïàÊûú
            if (event.effect.classmates) gameState.relationships.classmateA += event.effect.classmates;
            if (event.effect.stress) gameState.stress = Math.max(0, Math.min(100, gameState.stress + event.effect.stress));

            showNotification("Á§æ‰∫§Ê¥ªÂä®ÊÑâÂø´ÔºÅ", "good");
            recordAction();
            advanceTime();
            updateUI();
        }

        // ÂõûÂøÜÂäüËÉΩ
        function memory() {
            if (!checkActionLimit()) return;
            if (gameState.memoryCount >= 3) {
                showNotification("ÂõûÂøÜÂ§™Â§ö‰ºöÊ≤âÊ∫∫ËøáÂéª,ÂêëÂâçÁúãÂêßÔºÅ", "neutral");
                return;
            }
            if (gameState.energy < 10) {
                showNotification("Â§™Á¥Ø‰∫Ü,Êó†Ê≥ïÂõûÂøÜÂæÄ‰∫ã", "bad");
                return;
            }

            gameState.memoryCount++;
            gameState.energy -= 10;

            // ÈöèÊú∫ÂõûÂøÜ
            const memories = [
                {
                    title: "Á¨¨‰∏ÄÊ¨°Ëé∑Â•ñ",
                    content: "‰Ω†ÊÉ≥Ëµ∑Ëá™Â∑±Â∞èÂ≠¶Á¨¨‰∏ÄÊ¨°ÊãøÂà∞CSP-J‰∏ÄÁ≠âÊó∂ÁöÑÂú∫ÊôØ„ÄÇÈÇ£Êó∂‰Ω†ÊÑèÊ∞îÈ£éÂèë,‰ª•‰∏∫Êú™Êù•Â∞ΩÂú®ÊéåÊè°„ÄÇÁé∞Âú®ÊÉ≥Êù•,ÈÇ£Êó∂ÁöÑËá™‰ø°Êó¢ÁèçË¥µÂèàÂ§©Áúü„ÄÇ",
                    choices: [
                        { text: "ÊÄÄÂøµÈÇ£Êó∂ÁöÑËá™Â∑±", effect: { stress: 5, energy: 3 } },
                        { text: "ÊÑüÊÖ®Êó∂ÂÖâÈ£ûÈÄù", effect: { stress: 3 } },
                        { text: "ËßâÂæóÁé∞Âú®‰πü‰∏çÈîô", effect: { stress: -3, energy: 5 } }
                    ]
                },
                {
                    title: "ÈõÜËÆ≠ÁöÑÊó•Â≠ê",
                    content: "ÊöëÂÅáÈõÜËÆ≠,ÊØèÂ§©Âà∑È¢òÂà∞ÂáåÊô®„ÄÇËôΩÁÑ∂ËæõËã¶,‰ΩÜÂíåÈòüÂèã‰ª¨‰∏ÄËµ∑Â•ãÊñóÁöÑÊó•Â≠êÁúüÁöÑÂæàÂºÄÂøÉ„ÄÇÁé∞Âú®,Â§ßÂÆ∂ÂêÑÂ•î‰∏úË•ø„ÄÇ",
                    choices: [
                        { text: "ÊÑüÂà∞Â≠§Áã¨", effect: { stress: 8 } },
                        { text: "ÂÖÖÊª°Âä®Âäõ", effect: { energy: 5, stress: -5 } },
                        { text: "ÈáäÁÑ∂‰∏ÄÁ¨ë", effect: { stress: -3 } }
                    ]
                },
                {
                    title: "ÊîæÂºÉÁöÑÁû¨Èó¥",
                    content: "‰Ω†ÊÉ≥Ëµ∑ÂÜ≥ÂÆöÈÄÄÂΩπÁöÑÈÇ£‰∏ÄÂàª„ÄÇÊòØÊàêÁª©‰∏ãÊªëÔºüÊòØÁà∂ÊØçÁöÑÊúüÊúõÔºüËøòÊòØËá™Â∑±ÁöÑËø∑Ëå´ÔºüÈÇ£‰∏™ÂÜ≥ÂÆö,ÊîπÂèò‰∫Ü‰Ω†ÁöÑ‰∫∫ÁîüËΩ®Ëøπ„ÄÇ",
                    choices: [
                        { text: "‰∏çÂêéÊÇî", effect: { stress: -5 } },
                        { text: "Êúâ‰∫õÈÅóÊÜæ", effect: { stress: 5 } },
                        { text: "ÂøÖÈ°ªËØÅÊòéÈÄâÊã©Ê≤°Èîô", effect: { energy: 5, stress: 5 } }
                    ]
                },
                {
                    title: "ÈòüÂèãÁöÑÂëäÂà´",
                    content: "ÊúÄÂêé‰∏Ä‰ΩçÈòüÂèãÂèëÊù•Ê∂àÊÅØÔºö'ÊàëÊãøÂà∞ÂõΩÈõÜ‰∫Ü,‰Ω†Âë¢Ôºü'‰Ω†ÁõØÁùÄÂ±èÂπïÂæà‰πÖ,ÂõûÂ§çÔºö'ÊàëAFO‰∫Ü,Á•ù‰Ω†È°∫Âà©„ÄÇ'",
                    choices: [
                        { text: "ÊÑüÂà∞Â§±ËêΩ", effect: { stress: 10 } },
                        { text: "ÁúüÂøÉÁ•ùÁ¶è", effect: { stress: -5 } },
                        { text: "Êöó‰∏ãÂÜ≥ÂøÉ", effect: { energy: 5 } }
                    ]
                }
            ];

            const memory = memories[Math.floor(Math.random() * memories.length)];

            // ÊòæÁ§∫ÂõûÂøÜÊ®°ÊÄÅÊ°Ü
            const modal = document.getElementById('story-modal');
            elements.storyTitle.textContent = `ÂõûÂøÜÔºö${memory.title}`;
            elements.storyContent.innerHTML = memory.content;
            elements.storyChoices.innerHTML = '';

            memory.choices.forEach((choice, index) => {
                const btn = document.createElement('button');
                btn.className = 'story-choice-btn';
                btn.textContent = choice.text;
                btn.onclick = () => {
                    // Â∫îÁî®ÊïàÊûú
                    for (const key in choice.effect) {
                        if (key === 'stress') gameState.stress = Math.max(0, Math.min(100, gameState.stress + choice.effect[key]));
                        else if (key === 'energy') gameState.energy = Math.max(0, Math.min(100, gameState.energy + choice.effect[key]));
                    }

                    addToLog(`ÂõûÂøÜÔºö${memory.title} - ${choice.text}`, "neutral");
                    closeModal('story-modal');
                    recordAction();
                    advanceTime();
                    updateUI();
                };
                elements.storyChoices.appendChild(btn);
            });

            modal.style.display = 'flex';
            showNotification("ÂõûÂøÜÂæÄ‰∫ã,ÂøÉÊÉÖÂ§çÊùÇ...", "neutral");
        }

        // ÂèÇÂä†Ê®°ËÄÉ
        function takeExam() {
            if (!checkActionLimit()) return;
            if (gameState.examCount >= 5) {
                showNotification("Â∑≤ÁªèÂèÇÂä†Â§™Â§öÊ®°ËÄÉ‰∫Ü,‰∏ìÊ≥®Â≠¶‰π†ÂêßÔºÅ", "neutral");
                return;
            }
            if (gameState.energy < 40) {
                showNotification("Á≤æÂäõ‰∏çË∂≥,Êó†Ê≥ïÂèÇÂä†ËÄÉËØïÔºÅ", "bad");
                return;
            }
            if (gameState.health < 60) {
                showNotification("Ë∫´‰ΩìÁä∂ÊÄÅ‰∏ç‰Ω≥,Âª∫ËÆÆ‰ºëÊÅØÂêéÂÜçËÄÉ", "bad");
                return;
            }

            gameState.energy -= 40;
            gameState.stress += 8;
            gameState.examCount++;

            // ËÆ°ÁÆóÊÄªÂàÜÔºàÂä†ÂÖ•ÂΩìÂâçËÉΩÂäõÂÄºÊùÉÈáç,ÈÅøÂÖç‰ΩéÂàÜÈ´òÊéíÂêçÔºâ
            let totalScore = 0;
            let subjectScores = {};
            const avgAbility = Object.values(gameState.subjects).reduce((a, b) => a + b, 0) / 6;

            for (const subject in gameState.subjects) {
                // Âü∫Á°ÄÂàÜ = ÂΩìÂâçËÉΩÂäõÂÄº * ÈöèÊú∫Á≥ªÊï∞Ôºà0.85-1.15Ôºâ
                const randomFactor = 0.85 + Math.random() * 0.3;
                let score = gameState.subjects[subject] * randomFactor;

                // ÂøÉÁêÜÁä∂ÊÄÅÂΩ±ÂìçÔºàÂøÉÁêÜÂ∑ÆÂèØËÉΩÂèëÊå•Â§±Â∏∏Ôºâ
                if (gameState.mental < 50 && Math.random() < 0.3) {
                    score *= 0.7; // ÂèëÊå•Â§±Â∏∏
                    addToLog("ÂøÉÁêÜÁ¥ßÂº†,ËÄÉËØïÂèëÊå•Â§±Â∏∏", "bad");
                }

                // ÂÖ≥Á≥ªÂΩ±ÂìçÔºàËÄÅÂ∏àÂÖ≥Á≥ªÂ•ΩÂèØËÉΩÊúâÈ¢ùÂ§ñÂä†ÂàÜÔºâ
                if (gameState.relationships.teacher > 70 && Math.random() < 0.2) {
                    score += 5;
                    addToLog("ËÄÅÂ∏àÈºìÂä±‰∏ã,ËÄÉËØïË∂ÖÂ∏∏ÂèëÊå•", "good");
                }

                subjectScores[subject] = Math.round(score);
                totalScore += score;
            }
            totalScore = Math.round(totalScore / 6);

            // Ê†πÊçÆË°®Áé∞ÁªôÂá∫ÂèçÈ¶à
            let result = "";
            let type = "neutral";
            let effect = {};

            if (totalScore >= 90) {
                result = "Â§™Ê£í‰∫ÜÔºÅÊàêÁª©‰ºòÂºÇ,Áè≠Á∫ßÂâç5ÂêçÔºÅ";
                type = "good";
                effect = { stress: -15, teacher: 10, parents: 10, classmates: 5 };
            } else if (totalScore >= 80) {
                result = "‰∏çÈîô,ÊúâËøõÊ≠•,‰øùÊåÅ‰ΩèÔºÅ";
                type = "good";
                effect = { stress: -5, teacher: 5, parents: 5 };
            } else if (totalScore >= 70) {
                result = "ÊàêÁª©Á®≥ÂÆö,ËøòÈúÄÂä™Âäõ„ÄÇ";
                type = "neutral";
                effect = { stress: 3, teacher: 2 };
            } else if (totalScore >= 60) {
                result = "ÊàêÁª©‰∏ÄËà¨,ÊâæÂá∫ËñÑÂº±ÁéØËäÇ„ÄÇ";
                type = "neutral";
                effect = { stress: 8 };
            } else {
                result = "ÊàêÁª©‰∏çÁêÜÊÉ≥,ÈúÄË¶ÅÂä†Âº∫Â≠¶‰π†‰∫Ü„ÄÇ";
                type = "bad";
                effect = { stress: 15, teacher: -5, parents: -5 };
            }

            // Â∫îÁî®ÊïàÊûú
            for (const key in effect) {
                if (key === 'stress') {
                    gameState.stress = Math.max(0, Math.min(100, gameState.stress + effect[key]));
                } else if (key === 'teacher') {
                    gameState.relationships.teacher = Math.max(0, Math.min(100, gameState.relationships.teacher + effect[key]));
                } else if (key === 'parents') {
                    gameState.relationships.parents = Math.max(0, Math.min(100, gameState.relationships.parents + effect[key]));
                } else if (key === 'classmates') {
                    gameState.relationships.classmateA = Math.max(0, Math.min(100, gameState.relationships.classmateA + effect[key]));
                }
            }

            // ÊòæÁ§∫ËØ¶ÁªÜÊàêÁª©
            let scoreText = `Ê®°ËÄÉÊàêÁª©ÔºöÂπ≥ÂùáÂàÜ${totalScore}ÂàÜ\n`;
            for (const subject in subjectScores) {
                const name = { chinese: 'ËØ≠Êñá', math: 'Êï∞Â≠¶', english: 'Ëã±ËØ≠', physics: 'Áâ©ÁêÜ', chemistry: 'ÂåñÂ≠¶', biology: 'ÁîüÁâ©' }[subject];
                scoreText += `${name}: ${subjectScores[subject]}ÂàÜ `;
            }

            addToLog(scoreText + `\n${result}`, type);
            showNotification(`ËÄÉËØïÁªìÊûúÔºö${result}`, type);

            // Ê£ÄÊü•ÊàêÂ∞±
            if (totalScore >= 90) {
                unlockAchievement('exam-perfect');
                showNotification("üéâ ÊàêÂ∞±Ëß£ÈîÅÔºöÊ®°ËÄÉÊª°ÂàÜÔºÅ", "good");
            }

            // Ê£ÄÊü•Ê∏∏ÊàèÁªìÊùü
            if (gameState.week >= 52) {
                endGame();
                return;
            }

            recordAction();
            advanceTime();
            updateUI();
        }

        // ‰Ωú‰∏öÂäüËÉΩ
        function homework(action) {
            if (!checkActionLimit()) return;

            const homeworkList = Object.entries(gameState.homework).filter(([sub, done]) => !done);

            if (action === 'complete-all') {
                if (homeworkList.length === 0) {
                    showNotification("Êú¨Âë®‰Ωú‰∏öÂ∑≤ÂÆåÊàêÔºÅ", "neutral");
                    return;
                }
                if (gameState.energy < 30) {
                    showNotification("Á≤æÂäõ‰∏çË∂≥,Êó†Ê≥ïÂÆåÊàêÊâÄÊúâ‰Ωú‰∏öÔºÅ", "bad");
                    return;
                }

                gameState.energy -= 30;
                gameState.relationships.teacher += 3;
                gameState.relationships.mathTeacher += 2;
                gameState.relationships.chineseTeacher += 2;
                gameState.relationships.englishTeacher += 2;

                // ÂÖ®ÁßëÊèêÂçá
                for (let sub in gameState.subjects) {
                    gameState.subjects[sub] = Math.min(100, gameState.subjects[sub] + 0.5);
                }

                // ÂÆåÊàêÊâÄÊúâ‰Ωú‰∏ö
                for (let sub in gameState.homework) {
                    gameState.homework[sub] = true;
                }

                addToLog("ÂÆåÊàê‰∫ÜÊâÄÊúâ‰Ωú‰∏ö,ËÄÅÂ∏àÂæàÊª°ÊÑè", "good");
                showNotification("‰Ωú‰∏öÂÆåÊàêÔºÅÂÖ®Áßë+0.5,ËÄÅÂ∏àÂÖ≥Á≥ª+3", "good");
            } else if (action === 'complete-one') {
                if (homeworkList.length === 0) {
                    showNotification("Êú¨Âë®‰Ωú‰∏öÂ∑≤ÂÆåÊàêÔºÅ", "neutral");
                    return;
                }
                if (gameState.energy < 10) {
                    showNotification("Á≤æÂäõ‰∏çË∂≥,Êó†Ê≥ïÂÆåÊàê‰Ωú‰∏öÔºÅ", "bad");
                    return;
                }

                const [subject, _] = homeworkList[Math.floor(Math.random() * homeworkList.length)];
                gameState.energy -= 10;
                gameState.subjects[subject] = Math.min(100, gameState.subjects[subject] + 0.3);
                gameState.relationships.teacher += 1;
                gameState.homework[subject] = true;

                const name = { chinese: 'ËØ≠Êñá', math: 'Êï∞Â≠¶', english: 'Ëã±ËØ≠', physics: 'Áâ©ÁêÜ', chemistry: 'ÂåñÂ≠¶', biology: 'ÁîüÁâ©' }[subject];
                addToLog(`ÂÆåÊàê‰∫Ü${name}‰Ωú‰∏ö`, "good");
                showNotification(`${name}‰Ωú‰∏öÂÆåÊàêÔºÅ+0.3ÁÇπ`, "good");
            } else if (action === 'skip') {
                if (homeworkList.length === 0) {
                    showNotification("Êú¨Âë®‰Ωú‰∏öÂ∑≤ÂÆåÊàêÔºÅ", "neutral");
                    return;
                }

                gameState.relationships.teacher -= 5;
                gameState.relationships.mathTeacher -= 3;
                gameState.relationships.chineseTeacher -= 3;
                gameState.relationships.englishTeacher -= 3;
                gameState.stress += 5;

                addToLog("ÊãñÊ¨†‰Ωú‰∏ö,ËÄÅÂ∏àÂæàÂ§±Êúõ", "bad");
                showNotification("ÊãñÊ¨†‰Ωú‰∏öÔºÅËÄÅÂ∏àÂÖ≥Á≥ª-5,ÂéãÂäõ+5", "bad");
            }

            closeModal('homework-modal');
            recordAction();
            advanceTime();
            updateUI();
        }

        // Ê¥ªÂä®ÂäüËÉΩ
        function activity(type) {
            if (!checkActionLimit()) return;
            if (gameState.energy < 20) {
                showNotification("Á≤æÂäõ‰∏çË∂≥,Êó†Ê≥ïÂèÇÂä†Ê¥ªÂä®ÔºÅ", "bad");
                return;
            }

            let energyCost = 0;
            let stressChange = 0;
            let mentalChange = 0;
            let relChange = 0;
            let subjectChange = 0;
            let text = "";
            let typeLog = "neutral";

            switch (type) {
                case 'club':
                    energyCost = 15;
                    stressChange = -5;
                    relChange = 5;
                    text = "Á§æÂõ¢Ê¥ªÂä®ÂæàÊúâË∂£,ÂêåÂ≠¶ÂÖ≥Á≥ªÊõ¥Â•Ω‰∫Ü";
                    break;
                case 'volunteer':
                    energyCost = 25;
                    mentalChange = 3;
                    text = "ÂøóÊÑøËÄÖÊ¥ªÂä®ÂæàÊúâÊÑè‰πâ,ÂøÉÁêÜÁä∂ÊÄÅÊîπÂñÑ";
                    break;
                case 'lecture':
                    energyCost = 10;
                    subjectChange = 1;
                    stressChange = -3;
                    text = "Âê¨ËÆ≤Â∫ßÊî∂Ëé∑È¢á‰∏∞,ÈöèÊú∫ÁßëÁõÆ+1";
                    break;
                case 'competition':
                    energyCost = 35;
                    stressChange = 10;
                    if (Math.random() < 0.3) {
                        text = "Áü•ËØÜÁ´ûËµõËé∑Â•ñ‰∫ÜÔºÅËé∑ÂæóÂ•ñÈáë100ÂÖÉ";
                        gameState.money += 100;
                        typeLog = "good";
                    } else {
                        text = "Áü•ËØÜÁ´ûËµõÊú™Ëé∑Â•ñ,‰ΩÜÁßØÁ¥Ø‰∫ÜÁªèÈ™å";
                    }
                    break;
                case 'oi-meetup':
                    energyCost = 20;
                    stressChange = -10;
                    gameState.memoryCount++;
                    text = "ËÅö‰ºö,‰∏éËÄÅÂèãÈáçÈÄ¢,ÂéãÂäõÂ§ßÂáè";
                    break;
            }

            gameState.energy -= energyCost;
            gameState.stress = Math.max(0, Math.min(100, gameState.stress + stressChange));
            gameState.mental = Math.max(0, Math.min(100, gameState.mental + mentalChange));
            gameState.relationships.classmateA = Math.min(100, gameState.relationships.classmateA + relChange);

            if (subjectChange > 0) {
                const subjects = ['chinese', 'math', 'english', 'physics', 'chemistry', 'biology'];
                const randomSubject = subjects[Math.floor(Math.random() * subjects.length)];
                gameState.subjects[randomSubject] = Math.min(100, gameState.subjects[randomSubject] + subjectChange);
            }

            gameState.weekActivities++;
            gameState.totalActivities++;

            addToLog(text, typeLog);
            showNotification(text, typeLog);

            closeModal('activity-modal');
            recordAction();
            advanceTime();
            updateUI();
        }

        // ÁªèÊµéÂäüËÉΩ
        function economy(action) {
            if (!checkActionLimit()) return;

            switch (action) {
                case 'part-time':
                    if (gameState.energy < 30) {
                        showNotification("Á≤æÂäõ‰∏çË∂≥,Êó†Ê≥ïÂÖºËÅåÔºÅ", "bad");
                        return;
                    }
                    gameState.energy -= 30;
                    gameState.stress += 5;
                    gameState.money += 200;
                    addToLog("ÂÅöÂÆ∂ÊïôËµö‰∫Ü200ÂÖÉ,‰ΩÜÂæàÁ¥Ø", "good");
                    showNotification("ÂÖºËÅåÊàêÂäüÔºÅËé∑Âæó200ÂÖÉ,ÂéãÂäõ+5", "good");
                    break;
                case 'buy-books':
                    if (gameState.money < 100) {
                        showNotification("Èí±‰∏çÂ§üÔºÅ", "bad");
                        return;
                    }
                    gameState.money -= 100;
                    for (let sub in gameState.subjects) {
                        gameState.subjects[sub] = Math.min(100, gameState.subjects[sub] + 1);
                    }
                    addToLog("Ë¥≠‰π∞Êñ∞ËµÑÊñô,ÂÖ®Áßë+1", "good");
                    showNotification("Ë¥≠‰π∞ËµÑÊñôÊàêÂäüÔºÅÂÖ®Áßë+1", "good");
                    break;
                case 'buy-course':
                    if (gameState.money < 300) {
                        showNotification("Èí±‰∏çÂ§üÔºÅ", "bad");
                        return;
                    }
                    if (gameState.energy < 20) {
                        showNotification("Á≤æÂäõ‰∏çË∂≥,Êó†Ê≥ï‰∏äÁΩëËØæÔºÅ", "bad");
                        return;
                    }
                    gameState.money -= 300;
                    gameState.energy -= 20;
                    // ÈöèÊú∫ÊèêÂçá‰∏Ä‰∏™ÁßëÁõÆ3ÁÇπ
                    const subjects = ['chinese', 'math', 'english', 'physics', 'chemistry', 'biology'];
                    const randomSubject = subjects[Math.floor(Math.random() * subjects.length)];
                    gameState.subjects[randomSubject] = Math.min(100, gameState.subjects[randomSubject] + 3);
                    const name = { chinese: 'ËØ≠Êñá', math: 'Êï∞Â≠¶', english: 'Ëã±ËØ≠', physics: 'Áâ©ÁêÜ', chemistry: 'ÂåñÂ≠¶', biology: 'ÁîüÁâ©' }[randomSubject];
                    addToLog(`Ë¥≠‰π∞${name}ÁΩëËØæ,${name}+3`, "good");
                    showNotification(`ÁΩëËØæÂ≠¶‰π†ÂÆåÊàêÔºÅ${name}+3`, "good");
                    break;
                // case 'save':
                //     addToLog("Â≠òÈí±‰ª•Â§á‰∏çÊó∂‰πãÈúÄ", "neutral");
                //     showNotification("Â∑≤Â≠òÈí±,ÂΩìÂâçÂ≠òÊ¨æÔºö" + gameState.money + "ÂÖÉ", "neutral");
                //     break;
                case 'parents':
                    if (gameState.relationships.parents < 30) {
                        showNotification("Áà∂ÊØçÂÖ≥Á≥ª‰∏çÂ•Ω,‰∏çÂ•ΩÊÑèÊÄùË¶ÅÈí±ÔºÅ", "bad");
                        return;
                    }
                    gameState.money += 150;
                    gameState.relationships.parents -= 5;
                    gameState.stress += 3;
                    addToLog("ÂêëÁà∂ÊØçË¶Å‰∫Ü150ÂÖÉÈõ∂Ëä±Èí±", "neutral");
                    showNotification("Ëé∑Âæó150ÂÖÉ,‰ΩÜÁà∂ÊØçÂÖ≥Á≥ª-5,ÂéãÂäõ+3", "neutral");
                    break;
            }

            closeModal('economy-modal');
            recordAction();
            advanceTime();
            updateUI();
        }

        // ÁªìÊùüÊú¨Âë®
        function endWeek() {
            if (gameState.gameOver) return;

            // Ê£ÄÊü•ÊòØÂê¶ÊúâÊú™ÂÆåÊàêÁöÑÊìç‰Ωú
            if (gameState.actionsThisWeek < gameState.maxActionsPerWeek) {
                if (!confirm(`Êú¨Âë®ËøòÊúâ${gameState.maxActionsPerWeek - gameState.actionsThisWeek}Ê¨°Êìç‰ΩúÊú∫‰ºö,Á°ÆÂÆöË¶ÅÁªìÊùüÊú¨Âë®ÂêóÔºü`)) {
                    return;
                }
            }

            // Ê£ÄÊü•ÊòØÂê¶ËøòÊúâÊú™ÂÆåÊàêÁöÑÊïÖ‰∫ã
            const currentStory = storyEvents.find(s => s.week === gameState.week && !gameState.events.includes(s.id));
            if (currentStory) {
                showNotification("Êú¨Âë®ÊúâÈáçË¶Å‰∫ã‰ª∂ÂèëÁîüÔºÅ", "neutral");
                triggerStoryEvent(currentStory);
                return;
            }

            // Ê£ÄÊü•ÈöêËóèÂâßÊÉÖ
            checkHiddenEvents();

            // Ëá™ÁÑ∂ÊÅ¢Â§çÂíåÊ∂àËÄó
            gameState.energy = Math.min(100, gameState.energy + 5);
            gameState.stress = Math.max(0, gameState.stress - 5);
            gameState.health = Math.min(100, gameState.health + 2);
            gameState.mental = Math.min(100, gameState.mental + 2);

            // ‰Ωú‰∏öÁ≥ªÁªüÔºöÊñ∞‰∏ÄÂë®ÁîüÊàêÊñ∞‰Ωú‰∏ö
            if (gameState.week < 52) {
                for (let sub in gameState.homework) {
                    gameState.homework[sub] = false; // ÈáçÁΩÆ‰Ωú‰∏ö
                }
                addToLog("Êñ∞‰∏ÄÂë®ÂºÄÂßã,‰Ωú‰∏öÈáçÊñ∞Â∏ÉÁΩÆ", "neutral");
            }

            // ÈöèÊú∫‰∫ã‰ª∂
            if (Math.random() < 0.6) {
                triggerRandomEvent();
            }

            // Ê£ÄÊü•ÂÆåÁæé‰∏ÄÂë®
            const hasNegativeEvent = gameState.lastAction === 'bad' || gameState.stress > 50;
            if (!hasNegativeEvent && gameState.actionsThisWeek > 0) {
                gameState.perfectWeeks++;
                if (gameState.perfectWeeks >= 2) {
                    unlockAchievement('perfect-week');
                    showNotification("üéâ ÊàêÂ∞±Ëß£ÈîÅÔºöÂÆåÁæé‰∏ÄÂë®ÔºÅ", "good");
                }
            }

            // Êó∂Èó¥Êé®Ëøõ
            gameState.week++;
            gameState.dayOfWeek = 0;
            gameState.period = 0;
            gameState.daysLeft -= 7;
            gameState.actionsThisWeek = 0; // ÈáçÁΩÆÊìç‰ΩúËÆ°Êï∞

            // Â≠£ËäÇÂèòÂåñ
            if (gameState.week <= 13) gameState.season = 0; // Êò•
            else if (gameState.week <= 26) gameState.season = 1; // Â§è
            else if (gameState.week <= 39) gameState.season = 2; // Áßã
            else gameState.season = 3; // ÂÜ¨

            // Ê£ÄÊü•ÂÅáÊúü
            checkHolidays();

            // Ê£ÄÊü•ÁâπÊÆäÊó•Â≠ê
            checkSpecialDay();

            // Ê£ÄÊü•Èò∂ÊÆµÁõÆÊ†á
            checkStageGoals();

            // Ê£ÄÊü•ÊàêÂ∞±
            checkAchievements();

            // Ê£ÄÊü•Ê∏∏ÊàèÁªìÊùü
            if (gameState.week > 52 || gameState.daysLeft <= 0) {
                endGame();
                return;
            }

            // ÁîüÊàêÊñ∞ËØæÁ®ãË°®
            generateSchedule();

            // Â§©Ê∞îÂèòÂåñ
            changeWeather();

            addToLog(`Á¨¨${gameState.week}Âë®ÂºÄÂßã,Ë∑ùÁ¶ªÈ´òËÄÉËøòÊúâ${gameState.daysLeft}Â§©`, "neutral");
            showNotification(`Êñ∞ÁöÑ‰∏ÄÂë®Ôºö${gameState.weather} ${getWeatherName()} | Â≠£ËäÇÔºö${seasons[gameState.season].name}`, "neutral");

            updateUI();
        }

        // Êé®ËøõÊó∂Èó¥ÔºàÁî®‰∫éÂçïÊ¨°Ê¥ªÂä®Ôºâ
        function advanceTime() {
            gameState.period++;
            if (gameState.period >= 4) {
                gameState.period = 0;
                gameState.dayOfWeek++;
                gameState.daysLeft--;

                if (gameState.dayOfWeek >= 7) {
                    gameState.dayOfWeek = 0;
                    // Âë®ÁªìÊùüËá™Âä®ÊÅ¢Â§ç
                    gameState.energy = Math.min(100, gameState.energy + 3);
                    gameState.stress = Math.max(0, gameState.stress - 3);
                }
            }
        }

        // ÊîπÂèòÂ§©Ê∞î
        function changeWeather() {
            const weather = weathers[Math.floor(Math.random() * weathers.length)];
            gameState.weather = weather.type;
            gameState.currentWeather = weather;

            // Â§©Ê∞îÂΩ±ÂìçÂøÉÊÉÖ
            if (weather.mood > 0) {
                gameState.stress = Math.max(0, gameState.stress - 2);
            } else if (weather.mood < 0) {
                gameState.stress = Math.min(100, gameState.stress + 2);
            }
        }

        // Ëé∑ÂèñÂ§©Ê∞îÂêçÁß∞
        function getWeatherName() {
            return gameState.currentWeather ? gameState.currentWeather.name : 'Êô¥Â§©';
        }

        // Ê£ÄÊü•ÂÅáÊúü
        function checkHolidays() {
            for (const key in holidays) {
                const holiday = holidays[key];
                if (gameState.week === holiday.week) {
                    gameState.vacationDays = holiday.days;
                    addToLog(`ÂÅáÊúüÔºö${holiday.name},ÂÖ±${holiday.days}Â§©`, "important");
                    showNotification(`ÂÅáÊúüÂà∞Êù•Ôºö${holiday.name}ÔºÅ`, "important");

                    // Â∫îÁî®ÂÅáÊúüÊïàÊûú
                    if (holiday.effect.stress) gameState.stress = Math.max(0, gameState.stress + holiday.effect.stress);
                    if (holiday.effect.health) gameState.health = Math.min(100, gameState.health + holiday.effect.health);
                    if (holiday.effect.parents) gameState.relationships.parents = Math.min(100, gameState.relationships.parents + holiday.effect.parents);
                    if (holiday.effect.mental) gameState.mental = Math.min(100, gameState.mental + holiday.effect.mental);
                }
            }
        }

        // Ëß¶ÂèëÈöèÊú∫‰∫ã‰ª∂
        function triggerRandomEvent() {
            // ÂêàÂπ∂ÊâÄÊúâ‰∫ã‰ª∂
            const allEvents = [
                ...randomEvents.study,
                ...randomEvents.relationship,
                ...randomEvents.health,
                ...randomEvents.memory,
                ...randomEvents.economy,
                ...randomEvents.special
            ];

            // ËøáÊª§ÂèØÁî®‰∫ã‰ª∂ÔºàÂä†ÂÖ•Êù°‰ª∂Ê£ÄÊü•Ôºâ
            let availableEvents = allEvents.filter(e => {
                if (!e.condition || !e.condition(gameState)) return false;

                // Â≠£ËäÇÂíåÂë®Êï∞ËøáÊª§
                if (gameState.season === 3 && e.text.includes('Êò•')) return false;
                if (gameState.season === 0 && e.text.includes('ÂÜ¨')) return false;
                if (gameState.week < 10 && e.text.includes('ÊúàËÄÉ')) return false;
                if (gameState.week > 40 && e.text.includes('ËÆ≤Â∫ß')) return false;

                return true;
            });

            if (availableEvents.length === 0) return;

            // Âä†ÊùÉÈöèÊú∫ÈÄâÊã©
            const totalWeight = availableEvents.reduce((sum, e) => sum + e.weight, 0);
            let random = Math.random() * totalWeight;
            let selectedEvent = null;

            for (const event of availableEvents) {
                random -= event.weight;
                if (random <= 0) {
                    selectedEvent = event;
                    break;
                }
            }

            if (!selectedEvent) selectedEvent = availableEvents[0];

            addToLog(selectedEvent.text, selectedEvent.type);
            elements.randomEvent.textContent = selectedEvent.text;
            gameState.lastAction = selectedEvent.type;

            // Â∫îÁî®ÊïàÊûú
            applyEffect(selectedEvent.effect);

            // ÊòæÁ§∫ÈÄöÁü•
            let notificationText = selectedEvent.text;
            if (selectedEvent.type === 'good') {
                notificationText += " (ÊïàÊûúÔºöÊ≠£Èù¢)";
            } else if (selectedEvent.type === 'bad') {
                notificationText += " (ÊïàÊûúÔºöË¥üÈù¢)";
            }
            showNotification(notificationText, selectedEvent.type);
        }

        // Ëß¶ÂèëÊïÖ‰∫ã‰∫ã‰ª∂
        function triggerStoryEvent(story) {
            if (gameState.events.includes(story.id)) return;

            const modal = document.getElementById('story-modal');
            elements.storyTitle.textContent = story.title;
            elements.storyContent.innerHTML = story.content;
            elements.storyChoices.innerHTML = '';

            story.choices.forEach((choice, index) => {
                const btn = document.createElement('button');
                btn.className = 'story-choice-btn';
                btn.textContent = choice.text;

                // ÊòæÁ§∫ÂΩ±ÂìçÈ¢ÑËßà
                const preview = document.createElement('div');
                preview.className = 'choice-preview';
                let previewText = "ÂΩ±ÂìçÔºö";
                for (const key in choice.effect) {
                    const val = choice.effect[key];
                    const sign = val > 0 ? '+' : '';
                    previewText += `${key}${sign}${val} `;
                }
                preview.textContent = previewText;
                btn.appendChild(preview);

                btn.onclick = () => {
                    // Â∫îÁî®ÊïàÊûú
                    applyEffect(choice.effect);

                    addToLog(`ÊïÖ‰∫ãÔºö${story.title} - ${choice.text}`, "story");
                    gameState.events.push(story.id);
                    gameState.storyProgress++;

                    // Ê£ÄÊü•ÊïÖ‰∫ãÂÆåÊàê
                    if (gameState.storyProgress >= 5) {
                        unlockAchievement('story-5');
                        showNotification("üéâ ÊàêÂ∞±Ëß£ÈîÅÔºöÊïÖ‰∫ãÂºÄÂßãÔºÅ", "good");
                    }
                    if (gameState.storyProgress >= 10) {
                        unlockAchievement('story-10');
                        showNotification("üéâ ÊàêÂ∞±Ëß£ÈîÅÔºöÊïÖ‰∫ãÂ§ßÂ∏àÔºÅ", "good");
                    }
                    if (gameState.storyProgress >= 15) {
                        unlockAchievement('story-15');
                        showNotification("üéâ ÊàêÂ∞±Ëß£ÈîÅÔºöÂè≤ËØóÊóÖÁ®ãÔºÅ", "good");
                    }

                    // ‰∏ã‰∏Ä‰∏™‰∫ã‰ª∂
                    if (choice.next) {
                        const nextStory = storyEvents.find(s => s.id === choice.next);
                        if (nextStory && gameState.week >= nextStory.week) {
                            setTimeout(() => triggerStoryEvent(nextStory), 500);
                        }
                    }

                    closeModal('story-modal');
                    advanceTime();
                    updateUI();
                };

                elements.storyChoices.appendChild(btn);
            });

            modal.style.display = 'flex';
            showNotification("ÊïÖ‰∫ã‰∫ã‰ª∂Ëß¶Âèë", "story");
        }

        // Ê£ÄÊü•ÈöêËóèÂâßÊÉÖ
        function checkHiddenEvents() {
            let triggered = 0;
            hiddenEvents.forEach(event => {
                if (!gameState.events.includes(event.id) && event.condition(gameState)) {
                    // ÊòæÁ§∫ÈöêËóèÂâßÊÉÖ
                    const modal = document.getElementById('story-modal');
                    elements.storyTitle.textContent = `ÈöêËóèÂâßÊÉÖÔºö${event.title}`;
                    elements.storyContent.innerHTML = event.content;
                    elements.storyChoices.innerHTML = '';

                    if (event.choices) {
                        event.choices.forEach(choice => {
                            const btn = document.createElement('button');
                            btn.className = 'story-choice-btn';
                            btn.textContent = choice.text;
                            btn.onclick = () => {
                                applyEffect(choice.effect);
                                gameState.events.push(event.id);
                                closeModal('story-modal');
                                advanceTime();
                                updateUI();
                                recordAction();
                            };
                            elements.storyChoices.appendChild(btn);
                        });
                    } else {
                        const btn = document.createElement('button');
                        btn.className = 'story-choice-btn';
                        btn.textContent = "ÁªßÁª≠";
                        btn.onclick = () => {
                            applyEffect(event.effect);
                            gameState.events.push(event.id);
                            closeModal('story-modal');
                            advanceTime();
                            updateUI();
                            recordAction();
                        };
                        elements.storyChoices.appendChild(btn);
                    }

                    modal.style.display = 'flex';
                    showNotification(`ÈöêËóèÂâßÊÉÖËß¶ÂèëÔºö${event.title}`, "important");
                    triggered++;
                }
            });

            if (triggered > 0) {
                if (triggered >= 1) {
                    unlockAchievement('hidden-1');
                    showNotification("üéâ ÊàêÂ∞±Ëß£ÈîÅÔºöÈöêËóèÂâßÊÉÖ1ÔºÅ", "good");
                }
                if (triggered >= 2) {
                    unlockAchievement('hidden-2');
                    showNotification("üéâ ÊàêÂ∞±Ëß£ÈîÅÔºöÈöêËóèÂâßÊÉÖ2ÔºÅ", "good");
                }
                if (triggered >= 3) {
                    unlockAchievement('hidden-3');
                    showNotification("üéâ ÊàêÂ∞±Ëß£ÈîÅÔºöÈöêËóèÂâßÊÉÖ3ÔºÅ", "good");
                }
            }
        }

        // Â∫îÁî®ÊïàÊûú
        function applyEffect(effect) {
            for (const key in effect) {
                if (key === 'stress') {
                    gameState.stress = Math.max(0, Math.min(100, gameState.stress + effect[key]));
                } else if (key === 'energy') {
                    gameState.energy = Math.max(0, Math.min(100, gameState.energy + effect[key]));
                } else if (key === 'health') {
                    gameState.health = Math.max(0, Math.min(100, gameState.health + effect[key]));
                } else if (key === 'mental') {
                    gameState.mental = Math.max(0, Math.min(100, gameState.mental + effect[key]));
                } else if (key === 'money') {
                    gameState.money = Math.max(0, gameState.money + effect[key]);
                } else if (gameState.relationships.hasOwnProperty(key)) {
                    gameState.relationships[key] = Math.max(0, Math.min(100, gameState.relationships[key] + effect[key]));
                } else if (gameState.subjects.hasOwnProperty(key)) {
                    gameState.subjects[key] = Math.max(0, Math.min(100, gameState.subjects[key] + effect[key]));
                } else if (key === 'subjects' && typeof effect[key] === 'object') {
                    // ÊâπÈáèÁßëÁõÆÊèêÂçá
                    for (const sub in effect[key]) {
                        if (sub === 'all') {
                            for (const s in gameState.subjects) {
                                gameState.subjects[s] = Math.min(100, gameState.subjects[s] + effect[key][sub]);
                            }
                        }
                    }
                }
            }
        }

        // Ê£ÄÊü•Èò∂ÊÆµÁõÆÊ†á
        function checkStageGoals() {
            // Ê£ÄÊü•ÂΩìÂâçÂë®Êï∞ÊòØÂê¶ÊúâÁõÆÊ†á
            for (const week in stageGoals) {
                const goal = stageGoals[week];
                // Â¶ÇÊûúÂΩìÂâçÂë®Êï∞ËææÂà∞ÁõÆÊ†áÂë®Êï∞,‰∏îËøòÊ≤°Ê£ÄÊü•Ëøá
                if (gameState.week === parseInt(week) && !gameState.currentGoal) {
                    gameState.currentGoal = goal;
                    gameState.goalProgress = 0;

                    // ÊòæÁ§∫ÁõÆÊ†áÊõ¥Êñ∞ÂºπÁ™ó
                    showGoalModal(goal);
                    return;
                }
            }

            // Ê£ÄÊü•ÂΩìÂâçÁõÆÊ†áÊòØÂê¶ÂÆåÊàê
            if (gameState.currentGoal && gameState.week > parseInt(gameState.currentGoal.desc.match(/\d+/))) {
                const achieved = gameState.currentGoal.check(gameState);

                // ÊòæÁ§∫ÁõÆÊ†áÂÆåÊàê/Â§±Ë¥•ÂºπÁ™ó
                showGoalResultModal(gameState.currentGoal, achieved);

                // Â∫îÁî®Â•ñÂä±
                if (achieved && gameState.currentGoal.reward) {
                    for (const key in gameState.currentGoal.reward) {
                        if (key === 'stress') {
                            gameState.stress = Math.max(0, gameState.stress + gameState.currentGoal.reward[key]);
                        } else if (key === 'energy') {
                            gameState.energy = Math.min(100, gameState.energy + gameState.currentGoal.reward[key]);
                        } else if (key === 'health') {
                            gameState.health = Math.min(100, gameState.health + gameState.currentGoal.reward[key]);
                        } else if (key === 'mental') {
                            gameState.mental = Math.min(100, gameState.mental + gameState.currentGoal.reward[key]);
                        } else if (key === 'money') {
                            gameState.money += gameState.currentGoal.reward[key];
                        }
                    }
                    showNotification("Èò∂ÊÆµÁõÆÊ†áËææÊàêÔºÅËé∑ÂæóÂ•ñÂä±ÔºÅ", "good");
                } else {
                    showNotification("Èò∂ÊÆµÁõÆÊ†áÊú™ËææÊàê,ÁªßÁª≠Âä™ÂäõÔºÅ", "bad");
                }

                // Ê∏ÖÁ©∫ÂΩìÂâçÁõÆÊ†á
                gameState.currentGoal = null;
                gameState.goalProgress = 0;
            }
        }

        // ÊòæÁ§∫ÁõÆÊ†áÊõ¥Êñ∞ÂºπÁ™ó
        function showGoalModal(goal) {
            const modal = document.getElementById('goal-modal');
            elements.goalContent.innerHTML = `
                                                                                                                                                                                                                                                                                                            <div class="goal-item">
                                                                                                                                                                                                                                                                                                                <h4>${goal.title}</h4>
                                                                                                                                                                                                                                                                                                                <p>${goal.desc}</p>
                                                                                                                                                                                                                                                                                                                <p style="color: var(--warning); margin-top: 5px;">‚ö†Ô∏è ËØ∑Âú®‰∏ã‰∏™Èò∂ÊÆµÊ£ÄÊü•ÁÇπÂâçÂä™ÂäõËææÊàêÔºÅ</p>
                                                                                                                                                                                                                                                                                                            </div>
                                                                                                                                                                                                                                                                                                        `;
            modal.style.display = 'flex';
        }

        // ÊòæÁ§∫ÁõÆÊ†áÁªìÊûúÂºπÁ™ó
        function showGoalResultModal(goal, achieved) {
            const modal = document.getElementById('goal-modal');
            const className = achieved ? 'achieved' : 'failed';
            const statusText = achieved ? '‚úÖ Â∑≤ËææÊàê' : '‚ùå Êú™ËææÊàê';
            const rewardText = achieved && goal.reward ?
                `<p style="color: var(--secondary); margin-top: 8px;">Â•ñÂä±Ôºö${Object.entries(goal.reward).map(([k, v]) => `${k}+${v}`).join('„ÄÅ')}</p>` :
                '';

            elements.goalContent.innerHTML = `
                                                                                                                                                                                                                                                                                                            <div class="goal-item ${className}">
                                                                                                                                                                                                                                                                                                                <h4>${goal.title} ${statusText}</h4>
                                                                                                                                                                                                                                                                                                                <p>${goal.desc}</p>
                                                                                                                                                                                                                                                                                                                ${rewardText}
                                                                                                                                                                                                                                                                                                            </div>
                                                                                                                                                                                                                                                                                                        `;
            modal.style.display = 'flex';
        }

        // Ê£ÄÊü•ÁâπÊÆäÊó•Â≠ê
        function checkSpecialDay() {
            const week = gameState.week;

            if (week === 1) {
                addToLog("AFOÁ¨¨‰∏ÄÂ§©,‰∏ÄÂàáÈÉΩÊòØÊñ∞ÁöÑÂºÄÂßã„ÄÇ", "story");
            } else if (week === 4) {
                addToLog("‰∏Ä‰∏™ÊúàËøáÂéª‰∫Ü,‰Ω†Â∑≤ÁªèÈÄÇÂ∫î‰∫ÜÊñáÂåñËØæÁîüÊ¥ª„ÄÇ", "neutral");
            } else if (week === 10) {
                addToLog("ÁôæÊó•Á∫™ÂøµÔºÅ‰Ω†Â∑≤ÁªèÂùöÊåÅ‰∫Ü100Â§©ÔºÅ", "good");
                showNotification("ÁôæÊó•Á∫™ÂøµÔºÅÁªßÁª≠Âä†Ê≤πÔºÅ", "good");
            } else if (week === 18) {
                addToLog("È´òËÄÉÂÄíËÆ°Êó∂180Â§©Ë™ìÂ∏àÂ§ß‰ºöÔºÅ", "neutral");
                showNotification("ÈáçË¶ÅÈáåÁ®ãÁ¢ëÔºöË∑ùÁ¶ªÈ´òËÄÉËøòÊúâ180Â§©ÔºÅ", "neutral");
            } else if (week === 24) {
                addToLog("ËøõÂÖ•Á¨¨‰∫åÂ≠¶Êúü,ÂÜ≤Âà∫Èò∂ÊÆµÂºÄÂßã„ÄÇ", "neutral");
            } else if (week === 36) {
                addToLog("ÊúÄÂêéÂÜ≤Âà∫Èò∂ÊÆµÔºÅ65Â§©ÂÄíËÆ°Êó∂ÔºÅ", "neutral");
                showNotification("ÂÜ≤Âà∫Èò∂ÊÆµÂºÄÂßãÔºÅ‰øùÊåÅÁä∂ÊÄÅÔºÅ", "neutral");
            } else if (week === 48) {
                addToLog("ÊúÄÂêé4Âë®,Ë∞ÉÊï¥ÂøÉÊÄÅ,ÂáÜÂ§áËøéÊé•ÊåëÊàò„ÄÇ", "neutral");
            } else if (week === 51) {
                addToLog("È´òËÄÉÂâçÂ§ú,‰Ω†ÂáÜÂ§áÂ•Ω‰∫ÜÂêóÔºü", "story");
            }

            // ÊØèÊúà1Âè∑Ê£ÄÊü•
            if (week % 4 === 0) {
                addToLog(`Á¨¨${Math.floor(week / 4) + 1}‰∏™ÊúàÂºÄÂßã,ÊÄªÁªì‰∏Ä‰∏ãËøô‰∏™ÊúàÁöÑËøõÊ≠•Âêß„ÄÇ`, "neutral");
            }
        }

        // ÊàêÂ∞±Á≥ªÁªü
        function unlockAchievement(achievementId) {
            if (gameState.achievements.has(achievementId)) return;

            gameState.achievements.add(achievementId);
            const achievement = achievements[achievementId];

            if (achievement) {
                // ÊòæÁ§∫ÊàêÂ∞±ËØ¶ÊÉÖÂºπÁ™óÔºàÂè™ÊòæÁ§∫Êñ∞Ëß£ÈîÅÁöÑÔºâ
                showAchievementUnlockModal(achievement);
            }
        }

        // ÊòæÁ§∫ÊàêÂ∞±Ëß£ÈîÅÂºπÁ™ó
        function showAchievementUnlockModal(achievement) {
            const modal = document.getElementById('achievement-modal');
            elements.achievementDetailContent.innerHTML = `
                                                                                                                                                                                                                                                                                                            <div class="achievement-detail-item">
                                                                                                                                                                                                                                                                                                                <div class="name">üèÜ ${achievement.name}</div>
                                                                                                                                                                                                                                                                                                                <div class="desc">${achievement.desc}</div>
                                                                                                                                                                                                                                                                                                            </div>
                                                                                                                                                                                                                                                                                                        `;
            modal.style.display = 'flex';
        }

        // ÊòæÁ§∫ÊàêÂ∞±ËØ¶ÊÉÖÔºàÁÇπÂáªÊåâÈíÆÔºâ
        function showAchievementDetail() {
            const modal = document.getElementById('achievement-modal');
            let html = '';

            // ÊòæÁ§∫ÊâÄÊúâÂ∑≤Ëß£ÈîÅÊàêÂ∞±
            const unlocked = Array.from(gameState.achievements).map(id => ({ id, ...achievements[id] }));
            const hidden = Object.entries(achievements).filter(([id, a]) => a.hidden && !gameState.achievements.has(id));

            if (unlocked.length === 0) {
                html = '<div style="text-align:center;opacity:0.7;">ÊöÇÊó†ÊàêÂ∞±</div>';
            } else {
                html += '<div style="margin-bottom:10px;font-weight:bold;color:var(--secondary);">Â∑≤Ëß£ÈîÅÊàêÂ∞±Ôºö</div>';
                unlocked.forEach(a => {
                    html += `
                                                                                                                                                                                                                                                                                                                    <div class="achievement-detail-item">
                                                                                                                                                                                                                                                                                                                        <div class="name">üèÜ ${a.name}</div>
                                                                                                                                                                                                                                                                                                                        <div class="desc">${a.desc}</div>
                                                                                                                                                                                                                                                                                                                    </div>
                                                                                                                                                                                                                                                                                                                `;
                });
            }

            if (hidden.length > 0) {
                html += '<div style="margin:15px 0 10px 0;font-weight:bold;color:var(--purple);">Êú™Ëß£ÈîÅÈöêËóèÊàêÂ∞±Ôºö</div>';
                hidden.forEach(([id, a]) => {
                    html += `
                                                                                                                                                                                                                                                                                                                    <div class="achievement-detail-item hidden">
                                                                                                                                                                                                                                                                                                                        <div class="name">üîí ???</div>
                                                                                                                                                                                                                                                                                                                        <div class="desc">ÈöêËóèÊàêÂ∞±,ÈúÄË¶ÅÁâπÊÆäÊù°‰ª∂Ëß£ÈîÅ</div>
                                                                                                                                                                                                                                                                                                                    </div>
                                                                                                                                                                                                                                                                                                                `;
                });
            }

            elements.achievementDetailContent.innerHTML = html;
            modal.style.display = 'flex';
        }

        // Ê£ÄÊü•ÊàêÂ∞±
        function checkAchievements() {
            // Âü∫Á°ÄËøõÂ∫¶
            if (gameState.week === 1) unlockAchievement('first-week');
            if (gameState.week === 4) unlockAchievement('first-month');

            // Á¥ØËÆ°Êó∂Èïø
            if (gameState.totalStudyHours >= 100) unlockAchievement('study-100');
            if (gameState.totalRestHours >= 50) unlockAchievement('rest-50');
            if (gameState.totalExerciseHours >= 30) unlockAchievement('exercise-30');
            if (gameState.totalSocialHours >= 20) unlockAchievement('social-20');

            // Áä∂ÊÄÅ
            if (gameState.energy >= 100) unlockAchievement('energy-100');
            if (gameState.stress === 0) unlockAchievement('stress-0');
            if (gameState.health >= 100) unlockAchievement('health-100');
            if (gameState.mental >= 100) unlockAchievement('mental-100');
            if (gameState.money >= 1000) unlockAchievement('money-1000');
            if (gameState.money === 0) unlockAchievement('money-0');

            // Â≠¶Áßë
            if (gameState.subjects.chinese >= 80) unlockAchievement('chinese-80');
            if (gameState.subjects.math >= 90) unlockAchievement('math-90');
            if (gameState.subjects.english >= 80) unlockAchievement('english-80');
            if (gameState.subjects.physics >= 90) unlockAchievement('physics-90');
            if (gameState.subjects.chemistry >= 80) unlockAchievement('chemistry-80');
            if (gameState.subjects.biology >= 80) unlockAchievement('biology-80');

            const all85 = Object.values(gameState.subjects).every(s => s >= 85);
            if (all85) unlockAchievement('all-85');

            const all95 = Object.values(gameState.subjects).every(s => s >= 95);
            if (all95) unlockAchievement('all-95');

            // ÂÖ≥Á≥ª
            if (gameState.relationships.teacher >= 90) unlockAchievement('teacher-90');
            if (gameState.relationships.mathTeacher >= 90) unlockAchievement('math-teacher-90');
            if (gameState.relationships.parents >= 90) unlockAchievement('parents-90');
            if (gameState.relationships.crush >= 60) unlockAchievement('crush-60');
            if (gameState.relationships.classmateA >= 90 || gameState.relationships.classmateB >= 90) unlockAchievement('classmate-90');

            // Ê¥ªÂä®
            if (gameState.examCount >= 5) unlockAchievement('exam-5');
            const completedHomework = Object.values(gameState.homework).filter(v => v).length;
            if (completedHomework >= 100) unlockAchievement('homework-100');
            if (gameState.totalActivities >= 20) unlockAchievement('activity-20');
            if (gameState.memoryCount >= 10) unlockAchievement('memory-10');

            // ÁâπÊÆä
            if (gameState.stress < 10 && gameState.week >= 10) unlockAchievement('stress-management');
            if (gameState.energy > 90 && gameState.week >= 5) unlockAchievement('early-bird');
            if (gameState.energy < 10) unlockAchievement('night-owl');
            if (gameState.totalStudyHours >= 50 && gameState.money >= 500) unlockAchievement('money-maker');

            // ÊïÖ‰∫ã
            if (gameState.storyProgress >= 5) unlockAchievement('story-5');
        }

        // Ê∏∏ÊàèÁªìÊùü
        function endGame() {
            gameState.gameOver = true;

            // ËÆ°ÁÆóÊúÄÁªàÊàêÁª©
            let totalScore = 0;
            for (const subject in gameState.subjects) {
                totalScore += gameState.subjects[subject];
            }
            totalScore = Math.round(totalScore / 6);

            // ËÆ°ÁÆóÊúÄÁªàËØÑ‰ª∑ÂíåÁªìÂ±Ä
            let result = "";
            let ending = "";
            let endingId = "";
            let endingType = "neutral";

            // Â§öÁª¥Â∫¶ËØÑ‰º∞
            const avgScore = totalScore;
            const stressLevel = gameState.stress;
            const healthLevel = gameState.health;
            const mentalLevel = gameState.mental;
            const relTotal = gameState.relationships.teacher + gameState.relationships.classmates + gameState.relationships.parents + gameState.relationships.crush;
            const money = gameState.money;

            // ÁªìÂ±ÄÂàÜÊîØÔºà25+ÁªìÂ±ÄÔºâ
            if (avgScore >= 95 && stressLevel < 30 && mentalLevel > 80) {
                result = "È°∂Â∞ñÂ§ßÂ≠¶ + ÂøÉÁêÜÂÅ•Â∫∑";
                ending = "‰Ω†‰ª•ÊÉä‰∫∫ÁöÑÊàêÁª©ËÄÉÂÖ•‰∫ÜÈ°∂Â∞ñÂ§ßÂ≠¶,Êõ¥ÈáçË¶ÅÁöÑÊòØ,‰Ω†‰øùÊåÅ‰∫ÜÂøÉÁêÜÂÅ•Â∫∑Âíå‰∫∫ÈôÖÂÖ≥Á≥ª„ÄÇËøôÊÆµAFOÁªèÂéÜËÆ©‰Ω†Êàê‰∏∫‰∫Ü‰∏Ä‰∏™Êõ¥ÂÆåÊï¥ÁöÑ‰∫∫„ÄÇ‰Ω†‰∏ç‰ªÖÂ≠¶‰ºö‰∫ÜÁü•ËØÜ,Êõ¥Â≠¶‰ºö‰∫ÜÂ¶Ç‰ΩïÈù¢ÂØπ‰∫∫Áîü„ÄÇ";
                endingId = 'ending-1';
                endingType = "good";
            } else if (avgScore >= 90) {
                result = "È°∂Â∞ñÂ§ßÂ≠¶";
                ending = "‰Ω†‰ª•‰ºòÂºÇÁöÑÊàêÁª©ËÄÉÂÖ•‰∫ÜÁêÜÊÉ≥ÁöÑÈ°∂Â∞ñÂ§ßÂ≠¶,ÂÆûÁé∞‰∫Ü‰ªéÁ´ûËµõÁîüÂà∞ÊñáÂåñËØæÂ≠¶Èú∏ÁöÑÂçé‰∏ΩËΩ¨Ë∫´ÔºÅ‰Ω†ÁöÑÂä™ÂäõÂíåÊô∫ÊÖßÂæóÂà∞‰∫ÜÊúÄÂ•ΩÁöÑÂõûÊä•„ÄÇËøôÊÆµAFOÁªèÂéÜËÆ©‰Ω†Êõ¥Âä†ÊàêÁÜü,Êú™Êù•ÂèØÊúü„ÄÇ";
                endingId = 'ending-1';
                endingType = "good";
            } else if (avgScore >= 85 && gameState.relationships.crush >= 60) {
                result = "ÈáçÁÇπÂ§ßÂ≠¶ + Áà±ÊÉÖ";
                ending = "‰Ω†ÂíåÊöóÊÅãÂØπË±°‰∏ÄËµ∑ËÄÉÂÖ•‰∫ÜÈáçÁÇπÂ§ßÂ≠¶,ÂÆûÁé∞‰∫ÜÂ≠¶‰∏öÂíåÁà±ÊÉÖÁöÑÂèå‰∏∞Êî∂„ÄÇËøôÊÆµAFOÊóÖÁ®ã‰∏ç‰ªÖËÆ©‰Ω†ÊàêÈïø,ËøòËÆ©‰Ω†Êî∂Ëé∑‰∫ÜÁèçË¥µÁöÑÊÑüÊÉÖ„ÄÇ";
                endingId = 'ending-hidden-1';
                endingType = "good";
            } else if (avgScore >= 80) {
                result = "ÈáçÁÇπÂ§ßÂ≠¶";
                ending = "‰Ω†ÊàêÂäüËÄÉÂÖ•‰∫ÜÈáçÁÇπÂ§ßÂ≠¶,ËØÅÊòé‰∫ÜËá™Â∑±Âú®ÊñáÂåñËØæ‰∏äÁöÑÂÆûÂäõ„ÄÇËôΩÁÑ∂ËøáÁ®ãËâ∞Ëæõ,‰ΩÜ‰Ω†ÂùöÊåÅÂà∞‰∫ÜÊúÄÂêé„ÄÇËøôÊÆµÁªèÂéÜËÆ©‰Ω†ÊòéÁôΩ,‰∫∫Áîü‰∏çÊ≠¢‰∏ÄÊù°Ë∑Ø,ÊØèÊù°Ë∑ØÈÉΩËÉΩÈÄöÂêëÊàêÂäü„ÄÇ";
                endingId = 'ending-2';
                endingType = "good";
            } else if (avgScore >= 75 && gameState.relationships.parents >= 80) {
                result = "‰∏ÄÊú¨Â§ßÂ≠¶ + ÂÆ∂Â∫≠ÂíåÁù¶";
                ending = "‰Ω†ËÄÉ‰∏ä‰∫Ü‰∏ÄÊú¨Â§ßÂ≠¶,Êõ¥ÈáçË¶ÅÁöÑÊòØ,‰Ω†‰∏éÁà∂ÊØçËææÊàê‰∫ÜÊ∑±ÂàªÁöÑÁêÜËß£„ÄÇËøôÊÆµAFOÁªèÂéÜËÆ©‰Ω†‰ª¨ÁöÑÂÆ∂Â∫≠ÂÖ≥Á≥ªÊõ¥Âä†Á¥ßÂØÜ„ÄÇÁà∂ÊØç‰∏∫‰Ω†È™ÑÂÇ≤,‰∏çÊòØÂõ†‰∏∫ÊàêÁª©,ËÄåÊòØÂõ†‰∏∫‰Ω†ÁöÑÊàêÈïø„ÄÇ";
                endingId = 'ending-hidden-2';
                endingType = "good";
            } else if (avgScore >= 70) {
                result = "‰∏ÄÊú¨Â§ßÂ≠¶";
                ending = "‰Ω†ËÄÉ‰∏ä‰∫Ü‰∏ÄÊú¨Â§ßÂ≠¶,ËøôÊòØ‰∏Ä‰∏™‰∏çÈîôÁöÑÊàêÁª©„ÄÇËôΩÁÑ∂ÂèØËÉΩ‰∏çÊòØÊúÄÁêÜÊÉ≥ÁöÑÁªìÊûú,‰ΩÜ‰Ω†Â∑≤ÁªèÂ∞ΩÂäõ‰∫Ü„ÄÇAFOËÆ©‰Ω†Â≠¶‰ºö‰∫ÜÈÄÇÂ∫îÂíåÂùöÊåÅ,ËøôÊØîÂàÜÊï∞Êõ¥ÈáçË¶Å„ÄÇ";
                endingId = 'ending-3';
                endingType = "neutral";
            } else if (avgScore >= 65 && gameState.mental >= 80) {
                result = "‰∫åÊú¨Â§ßÂ≠¶ + Ëá™ÊàëÊïëËµé";
                ending = "ËôΩÁÑ∂ÊàêÁª©Âè™Â§ü‰∫åÊú¨,‰ΩÜ‰Ω†Âú®Ëøô‰∏™ËøáÁ®ã‰∏≠ÂÆåÊàê‰∫ÜËá™ÊàëÊïëËµé„ÄÇ‰Ω†ÊâæÂà∞‰∫ÜËá™Â∑±ÁöÑ‰ª∑ÂÄº,‰∏çÂÜçË¢´Á´ûËµõÁöÑÂÖâÁéØÊàñÂ§±Ë¥•ÁöÑÈò¥ÂΩ±ÊùüÁºö„ÄÇ‰Ω†Â≠¶‰ºö‰∫ÜÊé•Á∫≥Ëá™Â∑±,ËøôÊâçÊòØÊúÄÂ§ßÁöÑÊàêÂäü„ÄÇ";
                endingId = 'ending-hidden-3';
                endingType = "neutral";
            } else if (avgScore >= 60) {
                result = "‰∫åÊú¨Â§ßÂ≠¶";
                ending = "‰Ω†ËÄÉ‰∏ä‰∫Ü‰∫åÊú¨Â§ßÂ≠¶„ÄÇËøô‰∏™ÁªìÊûúÊèêÈÜí‰Ω†,ÊñáÂåñËØæÂ≠¶‰π†ÈúÄË¶ÅÊåÅÁª≠ÁöÑÂä™Âäõ,‰ΩÜËá≥Â∞ë‰Ω†ËøàËøá‰∫ÜÈ´òËÄÉËøôÈÅìÂùé„ÄÇÊú™Êù•ËøòÊúâÊó†ÈôêÂèØËÉΩ,ËÄÉÁ†î„ÄÅÂ∑•‰ΩúÈÉΩÊòØÊñ∞ÁöÑËµ∑ÁÇπ„ÄÇ";
                endingId = 'ending-4';
                endingType = "neutral";
            } else {
                // ÁâπÊÆäÁªìÂ±ÄÂàÜÊîØ
                if (gameState.relationships.crush >= 60 && gameState.relationships.classmateA >= 80) {
                    result = "Áà±ÊÉÖ‰∏éÂèãÊÉÖ";
                    ending = "ËôΩÁÑ∂È´òËÄÉÊàêÁª©‰∏çÁêÜÊÉ≥,‰ΩÜ‰Ω†Êî∂Ëé∑‰∫ÜÁèçË¥µÁöÑÂèãÊÉÖÂíåÁà±ÊÉÖ„ÄÇ‰Ω†ÂÜ≥ÂÆöÂíåTA‰∏ÄËµ∑Â§çËØª,ÊàñËÄÖÈÄâÊã©‰∏ÄÊâÄËÉΩÂú®‰∏ÄËµ∑ÁöÑÂ§ßÂ≠¶„ÄÇ‰∫∫Áîü‰∏çÊ≠¢ËÄÉËØï,ËøòÊúâÈô™‰º¥„ÄÇ";
                    endingId = 'ending-12';
                    endingType = "neutral";
                } else if (gameState.memoryCount >= 5 && gameState.subjects.math >= 70) {
                    result = "Á´ûËµõÂõûÂΩí";
                    ending = "È´òËÄÉÂ§±Âà©Âêé,‰Ω†ÈáçÊñ∞ÂõûÂà∞‰∫Ü‰ø°ÊÅØÂ≠¶ÁöÑ‰∏ñÁïå„ÄÇËøô‰∏ÄÊ¨°,‰Ω†Â∏¶ÁùÄÊñáÂåñËØæÁöÑÊ≤âÊ∑ÄÂíåÊõ¥ÊàêÁÜüÁöÑÂøÉÊÄÅ,ÊàñËÆ∏ËÉΩÂú®Á´ûËµõË∑Ø‰∏äËµ∞ÂæóÊõ¥Ëøú„ÄÇÊúâ‰∫õÁÉ≠Áà±,‰ªéÊú™ÁÜÑÁÅ≠„ÄÇ";
                    endingId = 'ending-6';
                    endingType = "neutral";
                } else if (gameState.relationships.parents < 30) {
                    result = "Áã¨Á´ã‰πãË∑Ø";
                    ending = "‰∏éÁà∂ÊØçÁöÑÊúüÊúõËÉåÈÅìËÄåÈ©∞,‰Ω†ÈÄâÊã©‰∫Ü‰∏ÄÊù°Êõ¥Ëá™Áî±ÁöÑË∑Ø„ÄÇ‰πüËÆ∏ÊòØÂàõ‰∏ö,‰πüËÆ∏ÊòØÊâìÂ∑•,‰Ω†ÂÜ≥ÂÆöÁî®Ëá™Â∑±ÁöÑÊñπÂºèËØÅÊòé‰ª∑ÂÄº„ÄÇËøôÈúÄË¶ÅÂãáÊ∞î,‰ΩÜ‰Ω†ÂáÜÂ§áÂ•Ω‰∫Ü„ÄÇ";
                    endingId = 'ending-7';
                    endingType = "neutral";
                } else if (gameState.totalActivities >= 15) {
                    result = "Ëâ∫ÊúØÁâπÈïø";
                    ending = "‰Ω†Âú®ÂêÑÁßçÊ¥ªÂä®‰∏≠ÂèëÁé∞‰∫ÜËá™Â∑±Âú®Ëâ∫ÊúØÊñπÈù¢ÁöÑÂ§©Ëµã,ÂÜ≥ÂÆöËµ∞Ëâ∫ÊúØÁâπÈïøÁîüÁöÑÈÅìË∑Ø„ÄÇËôΩÁÑ∂‰∏çÊòØ‰º†ÁªüÁöÑÊàêÂäü,‰ΩÜ‰Ω†ÊâæÂà∞‰∫ÜËá™Â∑±ÁöÑÁÉ≠Áà±„ÄÇ";
                    endingId = 'ending-8';
                    endingType = "neutral";
                } else if (gameState.health >= 90 && gameState.totalExerciseHours >= 20) {
                    result = "‰ΩìËÇ≤ÁâπÊãõ";
                    ending = "‰Ω†ÁöÑË∫´‰ΩìÁ¥†Ë¥®ÈùûÂ∏∏Âá∫Ëâ≤,Ë¢´‰ΩìËÇ≤Èô¢Ê†°ÁâπÊãõ„ÄÇËôΩÁÑ∂ÊîæÂºÉ‰∫ÜÊñáÂåñËØæ,‰ΩÜ‰Ω†Âú®Âè¶‰∏Ä‰∏™È¢ÜÂüüÊâæÂà∞‰∫ÜËá™Â∑±ÁöÑ‰ª∑ÂÄº„ÄÇ";
                    endingId = 'ending-9';
                    endingType = "neutral";
                } else if (gameState.money >= 1000) {
                    result = "Âá∫ÂõΩÊ∑±ÈÄ†";
                    ending = "‰Ω†ÊîíÂ§ü‰∫ÜÈí±,ÂÜ≥ÂÆöÂá∫ÂõΩÁïôÂ≠¶„ÄÇÊç¢‰∏™ÁéØÂ¢É,ÈáçÊñ∞ÂºÄÂßã„ÄÇ‰πüËÆ∏ÂõΩÂ§ñÁöÑÊïôËÇ≤Êõ¥ÈÄÇÂêà‰Ω†,‰πüËÆ∏ËøôÂè™ÊòØÈÄÉÈÅø,‰ΩÜÊó†ËÆ∫Â¶Ç‰Ωï,‰Ω†ÈÄâÊã©‰∫ÜÊñ∞ÁöÑÈÅìË∑Ø„ÄÇ";
                    endingId = 'ending-10';
                    endingType = "neutral";
                } else if (gameState.stress > 80) {
                    result = "Èó¥ÈöîÂπ¥";
                    ending = "‰Ω†ÂÜ≥ÂÆöÁªôËá™Â∑±‰∏Ä‰∏™Èó¥ÈöîÂπ¥,‰∏çÂèÇÂä†È´òËÄÉ,ÂéªÊóÖË°å„ÄÅÂéªÊÄùËÄÉ„ÄÅÂéªÂØªÊâæËá™Â∑±ÁúüÊ≠£ÊÉ≥Ë¶ÅÁöÑ„ÄÇËøô‰∏çÊòØÂ§±Ë¥•,ËÄåÊòØ‰∏∫‰∫ÜÊõ¥Â•ΩÁöÑÂá∫Âèë„ÄÇ";
                    endingId = 'ending-11';
                    endingType = "neutral";
                } else {
                    result = "Êú™ËÉΩÂ¶ÇÊÑø";
                    ending = "È´òËÄÉÊàêÁª©‰∏çÁêÜÊÉ≥,‰Ω†Êú™ËÉΩËææÂà∞È¢ÑÊúüÁöÑÁõÆÊ†á„ÄÇ‰ΩÜËøô‰∏ç‰ª£Ë°®Â§±Ë¥•,AFOÂè™ÊòØ‰∫∫ÁîüÁöÑ‰∏Ä‰∏™Èò∂ÊÆµ„ÄÇÊú™Êù•ÁöÑË∑ØËøòÂæàÈïø,ÈáçË¶ÅÁöÑÊòØ‰Ω†Â≠¶‰ºö‰∫ÜÈù¢ÂØπÊå´Êäò„ÄÇ";
                    endingId = 'ending-5';
                    endingType = "bad";
                }
            }

            // Ëß£ÈîÅÁªìÂ±ÄÊàêÂ∞±
            unlockAchievement(endingId);

            // ÊòæÁ§∫ÁªìÊùüÁîªÈù¢
            const mainDiv = document.querySelector('.main');
            mainDiv.innerHTML = `
<div class="end-screen">
<h2>üéì È´òËÄÉÁªìÊùü</h2>
<div class="final-score">${totalScore}ÂàÜ</div>
<p>ÊúÄÁªàÂπ≥ÂùáËÉΩÂäõÂÄº</p>
<h3>ÁªìÊûúÔºö${result}</h3>
<div class="ending-text">${ending}</div>
<div class="stats-summary">
<div class="stat-box">
<div class="label">ÊÄªÂ≠¶‰π†Êó∂Èïø</div>
<div class="value">${gameState.totalStudyHours}h</div>
</div>
<div class="stat-box">
<div class="label">ÊÄª‰ºëÊÅØÊó∂Èïø</div>
<div class="value">${gameState.totalRestHours}h</div>
</div>
<div class="stat-box">
<div class="label">ÂèÇÂä†Ê®°ËÄÉ</div>
<div class="value">${gameState.examCount}Ê¨°</div>
</div>
<div class="stat-box">
<div class="label">ÂÆåÊàê‰Ωú‰∏ö</div>
<div class="value">${Object.values(gameState.homework).filter(v => v).length}Ê¨°</div>
</div>
<div class="stat-box">
<div class="label">ÂèÇÂä†Ê¥ªÂä®</div>
<div class="value">${gameState.totalActivities}Ê¨°</div>
</div>
<div class="stat-box">
<div class="label">ÂõûÂøÜÂæÄ‰∫ã</div>
<div class="value">${gameState.memoryCount}Ê¨°</div>
</div>
</div>
<p style="margin-top: 20px; font-size: 0.9rem; opacity: 0.7;">
‰Ω†ÁöÑÈ´ò‰∏≠ÁîüÊ∂ØÁîª‰∏ä‰∫ÜÂè•Âè∑„ÄÇÊó†ËÆ∫ÁªìÊûúÂ¶Ç‰Ωï,ËøôÊÆµÊóÖÁ®ãÈÉΩÂ∞ÜÊàê‰∏∫‰Ω†‰∫∫Áîü‰∏≠ÂÆùË¥µÁöÑÁªèÂéÜ„ÄÇ<br>
ÊÑüË∞¢Ê∏∏Áé©ÔºÅÊú¨Ê∏∏ÊàèÈááÁî®<a href="https://creativecommons.org/licenses/by-nc-nd/4.0/legalcode.zh-Hans"
target="_blank" style="color: rgb(196, 196, 196)">CC BY-NC-ND 4.0</a>ÂçèËÆÆ,‰ΩúËÄÖÔºöwujiahaocoder
</p>
<button class="restart-btn" onclick="location.reload()">üîÑ ÈáçÊñ∞ÂºÄÂßã</button>
</div>`;

            // ÈöêËóèÊìç‰ΩúÊåâÈíÆÂíåËÆ°Êï∞Âô®
            document.querySelector('.actions').style.display = 'none';
            document.getElementById('actionCounter').style.display = 'none';

            showNotification(`È´òËÄÉÁªìÊùüÔºÅ${result}`, endingType);
        }

        // ==================== Ê®°ÊÄÅÊ°ÜÊéßÂà∂ ====================

        function openModal(modalId) {
            // Ê£ÄÊü•Êìç‰ΩúÈôêÂà∂ÔºàÊïÖ‰∫ãÊ®°ÊÄÅÊ°ÜÈô§Â§ñÔºâ
            if (modalId !== 'story-modal' && modalId !== 'goal-modal' && modalId !== 'achievement-modal' && !checkActionLimit()) {
                return;
            }

            // ÁâπÊÆäÂ§ÑÁêÜ
            if (modalId === 'homework-modal') {
                updateHomeworkList();
            } else if (modalId === 'economy-modal') {
                elements.currentMoney.textContent = gameState.money;
            }

            document.getElementById(modalId).style.display = 'flex';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Êõ¥Êñ∞‰Ωú‰∏öÂàóË°®
        function updateHomeworkList() {
            const homeworkList = Object.entries(gameState.homework).filter(([sub, done]) => !done);
            const listDiv = elements.homeworkList;

            if (homeworkList.length === 0) {
                listDiv.innerHTML = '<div style="opacity:0.6;">Êú¨Âë®‰Ωú‰∏öÂ∑≤ÂÆåÊàêÔºÅ</div>';
                return;
            }

            listDiv.innerHTML = '<div style="margin-bottom:10px;font-weight:bold;">Êú™ÂÆåÊàê‰Ωú‰∏öÔºö</div>';
            homeworkList.forEach(([subject, _]) => {
                const name = { chinese: 'ËØ≠Êñá', math: 'Êï∞Â≠¶', english: 'Ëã±ËØ≠', physics: 'Áâ©ÁêÜ', chemistry: 'ÂåñÂ≠¶', biology: 'ÁîüÁâ©' }[subject];
                const div = document.createElement('div');
                div.style.padding = '4px 0';
                div.textContent = `‚Ä¢ ${name}`;
                listDiv.appendChild(div);
            });
        }

        // ==================== ‰∫ã‰ª∂ÁõëÂê¨Âô® ====================

        // ÊåâÈíÆ‰∫ã‰ª∂ÔºàÊ∑ªÂä†Èò≤ÊäñÔºâ
        let buttonCooldown = false;

        function handleButtonClick(action) {
            if (buttonCooldown) return;
            buttonCooldown = true;

            // ÊâßË°åÂä®‰Ωú
            action();

            // 1ÁßíÂêéËß£Èô§ÂÜ∑Âç¥
            setTimeout(() => {
                buttonCooldown = false;
            }, 1000);
        }

        document.getElementById('study-btn').addEventListener('click', () => handleButtonClick(() => openModal('study-modal')));
        document.getElementById('rest-btn').addEventListener('click', () => handleButtonClick(() => openModal('rest-modal')));
        document.getElementById('exercise-btn').addEventListener('click', () => handleButtonClick(exercise));
        document.getElementById('social-btn').addEventListener('click', () => handleButtonClick(social));
        document.getElementById('memory-btn').addEventListener('click', () => handleButtonClick(memory));
        document.getElementById('exam-btn').addEventListener('click', () => handleButtonClick(takeExam));
        document.getElementById('homework-btn').addEventListener('click', () => handleButtonClick(() => openModal('homework-modal')));
        document.getElementById('activity-btn').addEventListener('click', () => handleButtonClick(() => openModal('activity-modal')));
        document.getElementById('economy-btn').addEventListener('click', () => handleButtonClick(() => openModal('economy-modal')));
        document.getElementById('end-btn').addEventListener('click', () => handleButtonClick(endWeek));

        // ÁÇπÂáªÊ®°ÊÄÅÊ°ÜÂ§ñÈÉ®ÂÖ≥Èó≠
        window.addEventListener('click', (e) => {
            if (e.target.classList.contains('modal')) {
                e.target.style.display = 'none';
            }
        });

        // ÈîÆÁõòÂø´Êç∑ÈîÆ
        document.addEventListener('keydown', (e) => {
            if (gameState.gameOver) return;

            // ShiftÈîÆÊòæÁ§∫ÊèêÁ§∫
            if (e.key === 'Shift') {
                elements.hotkeyHint.classList.add('show');
                return;
            }

            // Âø´Êç∑ÈîÆÔºàÊ∑ªÂä†Èò≤ÊäñÔºâ
            if (buttonCooldown) return;
            buttonCooldown = true;

            switch (e.key) {
                case '1': openModal('study-modal'); break;
                case '2': openModal('rest-modal'); break;
                case '3': exercise(); break;
                case '4': social(); break;
                case '5': memory(); break;
                case '6': takeExam(); break;
                case '7': openModal('homework-modal'); break;
                case '8': openModal('activity-modal'); break;
                case '9': openModal('economy-modal'); break;
                case '0': endWeek(); break;
                case 'Escape':
                    document.querySelectorAll('.modal').forEach(m => m.style.display = 'none');
                    break;
            }

            setTimeout(() => {
                buttonCooldown = false;
            }, 1000);
        });

        // ShiftÈîÆÈáäÊîæÈöêËóèÊèêÁ§∫
        document.addEventListener('keyup', (e) => {
            if (e.key === 'Shift') {
                elements.hotkeyHint.classList.remove('show');
            }
        });

        // ÂêØÂä®Ê∏∏Êàè
        window.onload = initGame;
    </script>
</body>

</html>